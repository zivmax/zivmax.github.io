<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>é’å±±åå°å¡˜</title>
  
  <subtitle>äººç”Ÿå¦‚é€†æ—…ï¼Œæˆ‘äº¦æ˜¯è¡Œäºº</subtitle>
  <link href="https://zivmax.top/atom.xml" rel="self"/>
  
  <link href="https://zivmax.top/"/>
  <updated>2024-06-24T10:15:30.158Z</updated>
  <id>https://zivmax.top/</id>
  
  <author>
    <name>Zivmax</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Marp with VScode Tutorial for Anyone</title>
    <link href="https://zivmax.top/%E7%BB%8F%E9%AA%8C/2024/06/24/Tutorials/Marp-with-VScode-Tutorial/"/>
    <id>https://zivmax.top/%E7%BB%8F%E9%AA%8C/2024/06/24/Tutorials/Marp-with-VScode-Tutorial/</id>
    <published>2024-06-24T07:51:14.000Z</published>
    <updated>2024-06-24T10:15:30.158Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h1 id="Marp-with-VScode-Tutorial-for-Anyone">Marp with VScode Tutorial for Anyone</h1><p>æœ¬æ–‡æ„åœ¨ä¸ºä»»ä½•äººè®²è§£å¦‚ä½•ä½¿ç”¨ VScode ç¼–å†™ Marp å¹»ç¯ç‰‡ã€‚</p><h2 id="Marp">Marp</h2><p>Marp æ˜¯ä¸€ä¸ªåŸºäºå‰ç«¯æŠ€æœ¯çš„ Slides åˆ¶ä½œå·¥å…·ï¼Œå®ƒå¯ä»¥å°† Markdown æ–‡æ¡£æ¸²æŸ“æˆå¹»ç¯ç‰‡ã€‚</p><p>Marp åŸºäºå‰ç«¯æŠ€æœ¯å°±æ„å‘³ç€å®ƒæ¸²æŸ“å‡ºæ¥çš„å¹»ç¯ç‰‡å®é™…ä¸Šæ˜¯ä¸€ä¸ªç½‘é¡µï¼Œè€Œå…¶æ¸²æŸ“å‡ºæ¥çš„ <code>pdf</code> å’Œ <code>pptx</code> æ–‡ä»¶å®é™…ä¸Šéƒ½æ˜¯é€šè¿‡ <code>html</code> ç½‘é¡µæ–‡ä»¶ç”¨æµè§ˆå™¨å†…æ ¸æ¸²æŸ“å‡ºæ¥çš„ã€‚</p><p>è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ Marp å¯¼å‡ºçš„ PDF å’Œ PPTX æ–‡ä»¶ä¸­æ‰€æœ‰ Slide éƒ½æ˜¯çº¯å›¾ç‰‡ï¼Œæ— æ³•é€‰ä¸­ä»»ä½•æ–‡æœ¬ã€‚</p><p>å®ƒæœ€åˆæ˜¯ä¸€ä¸ªå‰ç«¯ç¨‹åºå‘˜åœˆå­å†…çš„å·¥å…·ï¼Œå› æ­¤æœ‰ç€å¼ºçƒˆçš„å‰ç«¯æŠ€æœ¯æ°”æ¯ã€‚å¦‚æœå»çœ‹<a href="https://marpit.marp.app/?id=how-to-use">å®˜ç½‘çš„ Tutorial</a>ï¼Œå®ƒä¼šæ•™ä½ ä» Node.js çš„ç¯å¢ƒä¸­å®‰è£… Marp CLIï¼Œå†™ä¸€ä»½å†…åµŒäº† Markdown è¯­æ³•çš„ JS ä»£ç ï¼Œç„¶åä½¿ç”¨ <code>marp</code> å‘½ä»¤æ¥æ¸²æŸ“ Markdown æ–‡ä»¶ã€‚</p><p>ä½†æ˜¯å¯¹äºå¤§éƒ¨åˆ†ä¸æ¥è§¦å‰ç«¯æŠ€æœ¯çš„äººæ¥è¯´ï¼Œ<strong>ä½¿ç”¨ VScode çš„ Marp æ’ä»¶å¯èƒ½æ˜¯ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©</strong>ã€‚</p><h2 id="VScode">VScode</h2><h3 id="ä»‹ç»">ä»‹ç»</h3><p>VScode æ˜¯ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆä»£ç ç¼–è¾‘å™¨ï¼‰ï¼Œå®ƒçš„æœ¬ä½“å°±å’Œ Windows è‡ªå¸¦çš„è®°äº‹æœ¬ä¸€æ ·ï¼Œåªæ˜¯ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ã€‚ä½†æ˜¯å…¶åŸºäºå‰ç«¯æŠ€æœ¯å¼€å‘ï¼Œå› æ­¤å€ŸåŠ©å‰ç«¯åºå¤§çš„å¼€å‘è€…ç¾¤ä½“ï¼ŒVScode çš„æ’ä»¶ç”Ÿæ€éå¸¸ä¸°å¯Œã€‚å› æ­¤å®Œå…¨å¯ä»¥é€šè¿‡å®‰è£…å’Œç®¡ç†æ’ä»¶è®© VScode å˜æˆä»»ä½•è¯­è¨€çš„ IDEã€‚</p><h3 id="å®‰è£…">å®‰è£…</h3><p>ä»<a href="https://code.visualstudio.com/#alt-downloads">å®˜ç½‘ä¸‹è½½</a>å¹¶å®‰è£… VScodeã€‚</p><p>å¦‚æœå®‰è£…çš„ç”µè„‘åªä¼šæœ‰ä¸€ä¸ªäººä½¿ç”¨ï¼Œä¸ªäººæ¨èä½¿ç”¨ System Installer ç‰ˆæœ¬ï¼Œä¾¿äºç®¡ç† VScode çš„è½¯ä»¶æœ¬ä½“ï¼Œå¦åˆ™ Windows ä¼šæŠŠ VScode å®‰è£…åœ¨ç”¨æˆ·ç›®å½•ä¸‹ï¼ˆå¦‚<code>C:\Users\USER\AppData\Local</code>ï¼‰ã€‚</p><p>å¦‚æœä¸æ¸…æ¥š x64 ç‰ˆæœ¬å’Œ arm ç‰ˆæœ¬çš„åŒºåˆ«ï¼Œé‚£ä¹ˆç®€å•æ¥è¯´ï¼Œåªè¦æ˜¯ AMD å’Œ Intel çš„ CPU å°±ç”¨ x64ã€‚éœ€è¦ä½¿ç”¨ arm ç‰ˆæœ¬çš„äººè‡ªä¼šçŸ¥é“ã€‚</p><p><strong>æ€»ç»“å°±æ˜¯ï¼šå¯¹äºå¤§éƒ¨åˆ†äººè€Œè¨€ï¼Œå»<a href="https://code.visualstudio.com/#alt-downloads">å®˜ç½‘ä¸‹è½½</a> System Installer x64 ç‰ˆæœ¬ã€‚</strong></p><p>å®‰è£…ç»“æŸé¡µé¢ï¼Œå¯¹äº<code>å…¶ä»–</code>é€‰é¡¹çš„è§£é‡Šï¼ˆçº¢æ¡†å†…çš„é€‰é¡¹ï¼‰ï¼š</p><ul><li><p>å‰ä¸¤ä¸ªé€‰é¡¹ï¼šè®©å³é”®èœå•å‡ºç°é€šè¿‡ VScode æ‰“å¼€çš„é€‰é¡¹ï¼Œç¬¬ä¸€ä¸ªæ˜¯å³å‡»æ–‡ä»¶å‡ºç°ï¼Œç¬¬äºŒä¸ªæ˜¯å³å‡»ç©ºç™½å¤„å‡ºç°</p></li><li><p>æ·»åŠ æ–‡ä»¶å…³è”ï¼Œæ³¨å†Œé»˜è®¤åº”ç”¨</p></li><li><p>å¯ä»¥åœ¨ç»ˆç«¯ä¸­ä½¿ç”¨ code å‘½ä»¤è¡Œå·¥å…·å¿«é€Ÿç®¡ç†ï¼Œå¯åŠ¨ VScode</p><p><img src="https://s2.loli.net/2024/06/24/RvOaFKqHQJ2Vh1s.png" alt="VScode After Installation" loading="lazy"></p></li></ul><p>ç¬¬ä¸€æ¬¡å¯åŠ¨ VScode ç•Œé¢å¤§æ¦‚å¦‚ä¸‹ï¼š<br><img src="https://s2.loli.net/2024/06/24/6O1hsSfuokzdHR5.png" alt="VScode GUI" loading="lazy"></p><h3 id="é…ç½®">é…ç½®</h3><p>æ‰“å¼€åœ¨å·¦è¾¹æ ä¸­çš„ Extension æ¿å—</p><p><img src="https://s2.loli.net/2024/06/24/qQb34dzTXVLMkZl.png" alt="VScode Extention" loading="lazy"></p><p>æœç´¢ <code>Marp for VScode</code></p><p><img src="https://s2.loli.net/2024/06/24/z9wTXhIKblW2QFv.png" alt="Marp for VScode" loading="lazy"></p><p>å›¾ä¸­ç¬¬ä¸€ä¸ªæ’ä»¶ä¾¿æ˜¯è¦å®‰è£…çš„æ’ä»¶ï¼ˆ<code>identifier: marp-team.marp-vscode</code>ï¼‰</p><p>å®‰è£…å¥½ä¹‹åï¼ŒåŠŸèƒ½æ€§ä¸Šæ²¡æœ‰æš‚æ—¶æ²¡æœ‰æ›´å¤šéœ€è¦é…ç½®çš„é€‰é¡¹</p><blockquote><p>å¦‚æœéœ€è¦ä¸­æ–‡æ”¯æŒï¼Œåœ¨ Extension ä¸­æœç´¢ <code>Chinese Simplified</code> å®‰è£…å</p><p>ä½¿ç”¨å¿«æ·é”® <code>Ctrl + Shift + P</code> è¾“å…¥ <code>Configure Display Language</code>(å¯ä»¥æ¨¡ç³Šè¾“å…¥) å¹¶å›è½¦åï¼Œåˆ‡æ¢ä¸ºä¸­æ–‡å³å¯ã€‚</p><p><img src="https://s2.loli.net/2024/06/24/wiOU7ohcL3VgRHA.png" alt="VScode Language Support" loading="lazy"></p><p>æˆ–è€…ä¼¼ä¹ç°åœ¨çš„ VScode ä¼šè‡ªåŠ¨æ·»åŠ è¯­è¨€æ”¯æŒã€‚</p></blockquote><h2 id="æ­£å¼ç¼–å†™">æ­£å¼ç¼–å†™</h2><p>å¯¹äºæ­£å¼ç¼–å†™çš„å·¥ä½œæµï¼Œä¾¿æ˜¯å»ºç«‹ä¸€ä¸ªé¡¹ç›®ï¼ˆä¸€ä»½ Slidesï¼‰ä¸“å±çš„æ–‡ä»¶å¤¹ï¼ŒVScodeï¼ˆåŒ…æ‹¬ç»å¤§å¤šæ•°ä»£ç å¼€å‘å·¥å…·ï¼‰éƒ½éœ€è¦åœ¨ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶å¤¹ä¸­è¿›è¡Œä½¿ç”¨ã€‚</p><p>ä½œä¸ºæ¼”ç¤ºï¼š</p><ol><li>åœ¨æ¡Œé¢åˆ›å»ºæ–‡ä»¶å¤¹ <code>marp-example/</code></li><li>ç”¨ VScode æ‰“å¼€è¿™ä¸ªæ–‡ä»¶å¤¹<ul><li>å¦‚æœä½ æ·»åŠ äº†<code>é€šè¿‡ Code æ‰“å¼€</code> åœ¨å³é”®èœå•ï¼Œé‚£ä¹ˆä½ å¯ä»¥ç›´æ¥å³é”®æ–‡ä»¶å¤¹å›¾æ ‡ï¼Œé€šè¿‡ Code æ‰“å¼€ã€‚</li><li>å¦‚æœæ²¡æœ‰çš„è¯ï¼Œé¦–å…ˆæ™®é€šåœ°æ‰“å¼€ VScodeï¼Œç‚¹å‡»å·¦ä¸Šè§’çš„ File &gt; Open Folder<br><img src="https://s2.loli.net/2024/06/24/WuhTU8IaLNsjq2C.png" alt="VScode Open Folder" loading="lazy"></li><li>æˆ–è€…æŒ‰ç…§å›¾ä¸­æ˜¾ç¤ºçš„å¿«æ·é”®ï¼Œ<code>Ctrl + K</code> ï¼ˆæ­¤æ—¶ VScode è¿›å…¥ä¸€ç§æ¿€æ´»çŠ¶æ€ï¼‰ç„¶åå† <code>Ctrl + O</code></li></ul></li><li>æ‰“å¼€æ–‡ä»¶åï¼Œç†è®ºä¸Š File Explorer ä¼šè‡ªåŠ¨å±•å¼€<br><img src="https://s2.loli.net/2024/06/24/TLmpEBVeqNlO3ZC.png" alt loading="lazy"></li><li>å¯ä»¥çœ‹åˆ° <code>MARP-EXAMPLE</code> æ˜¯è¢«æ‰“å¼€çš„æ–‡ä»¶å¤¹åç§°ï¼ŒExplorer ä¸­æ˜¾ç¤ºçš„æ–‡ä»¶éƒ½æ˜¯è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶</li><li>ç°åœ¨åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶ï¼Œé¼ æ ‡æ”¾åœ¨å›¾ä¸­ New File çš„ä½ç½®å³å¯<br><img src="https://s2.loli.net/2024/06/24/qHGopjVtAwRuCMJ.png" alt loading="lazy"></li><li>è¾“å…¥å®Œæ•´çš„æ–‡ä»¶åï¼ŒåŒ…æ‹¬åç¼€ï¼Œç„¶åå›è½¦å³å¯<br><img src="https://s2.loli.net/2024/06/24/ToXGyQmV7d3UtuF.png" alt loading="lazy"></li><li>æ¥ç€æ‰“å¼€åˆšåˆšæ–°å»ºçš„æ–‡ä»¶ï¼Œç°åœ¨æˆ‘ä»¬å°±å®Œæˆæ­£å¼ç¼–å†™å‰çš„æ‰€æœ‰æ“ä½œäº†ã€‚</li></ol><p>ä»¥ä¸Šæµç¨‹åœ¨æ¯ä¸€æ¬¡ç¼–å†™ä¸€ä»½æ–°çš„ Slides éƒ½æ¨èè¿›è¡Œï¼šå»ºç«‹æ–°çš„æ–‡ä»¶å¤¹ï¼Œç”¨ VScode æ‰“å¼€ï¼Œåˆ›å»ºæ–‡ä»¶â€¦â€¦</p><h3 id="Markdown">Markdown</h3><p>å‰æ–‡æåˆ°ï¼ŒMarp ä½¿ç”¨ Markdown ä½œä¸ºç¼–å†™è¯­è¨€è¿›è¡Œè§£æå’Œæ¸²æŸ“ï¼Œæœ€åå¾—åˆ°æ¸²æŸ“å¥½çš„ HTML æ–‡ä»¶ã€‚</p><p>å› æ­¤é¦–å…ˆéœ€è¦å­¦ä¹  Markdown çš„åŸºç¡€è¯­æ³•ã€‚</p><p>Markdown æ˜¯ä¸€ç§ç”¨æ¥è¿›è¡Œç®€å•ï¼ˆç®€æ´ï¼‰æ’ç‰ˆçš„æ–‡æœ¬ï¼Œå®ƒèµ·æºäºå‰ç«¯ç¨‹åºå‘˜æ‰‹åŠ¨ç¼–å†™ HTML é¡µé¢çš„ç—›è‹¦ã€‚</p><p>åæ¥éšç€ç½‘ç»œå‘å±•ï¼Œé€æ¸æ‰©å±•åˆ°äº†å¾ˆå¤šæ™®é€šäººï¼Œç”¨æ¥ç¼–å†™åœ¨ç½‘ç»œä¸Šè¢«æµè§ˆçš„æ–‡æ¡£ã€‚</p><p>ä»¥ä¸‹æ˜¯æœ€å¸¸ç”¨çš„ Markdown è¯­æ³•ï¼Œå°†å®ƒå¤åˆ¶åˆ°æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„æ–°æ–‡ä»¶ä¸­ï¼Œå¹¶æ‰“å¼€ VScode è‡ªå¸¦çš„é¢„è§ˆï¼Œå³ç‚¹å‡»å³ä¸Šè§’æœ‰ä¸€ä¸ªå¸¦æœ‰æ”¾å¤§é•œçš„å›¾æ ‡ï¼ˆæ—è¾¹çš„é‡å ä¸‰è§’å½¢æ¥è‡ªå®‰è£…çš„ Marp VScode æ‰©å±•ï¼‰ï¼š</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">ä¸åŒæ•°é‡çš„ <span class="code">`#`</span> å¯ä»¥å®Œæˆä¸åŒçš„æ ‡é¢˜ï¼Œå¦‚ä¸‹ï¼š</span><br><span class="line"></span><br><span class="line"><span class="section"># ä¸€çº§æ ‡é¢˜</span></span><br><span class="line"></span><br><span class="line"><span class="section">## äºŒçº§æ ‡é¢˜</span></span><br><span class="line"></span><br><span class="line"><span class="section">### ä¸‰çº§æ ‡é¢˜</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="code">`---`</span> æ˜¯åˆ†å‰²çº¿</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"><span class="section"># å­—ä½“</span></span><br><span class="line"></span><br><span class="line">ç²—ä½“ã€æ–œä½“ã€ç²—ä½“å’Œæ–œä½“ï¼Œåˆ é™¤çº¿ï¼Œéœ€è¦åœ¨æ–‡å­—å‰ååŠ ä¸åŒçš„æ ‡è®°ç¬¦å·ã€‚å¦‚ä¸‹ï¼š</span><br><span class="line"></span><br><span class="line"><span class="strong">**è¿™ä¸ªæ˜¯ç²—ä½“**</span></span><br><span class="line"></span><br><span class="line"><span class="emphasis">*è¿™ä¸ªæ˜¯æ–œä½“*</span></span><br><span class="line"></span><br><span class="line"><span class="strong">**<span class="emphasis">*è¿™ä¸ªæ˜¯ç²—ä½“åŠ æ–œä½“*</span>**</span></span><br><span class="line"></span><br><span class="line">~~è¿™é‡Œæƒ³ç”¨åˆ é™¤çº¿~~</span><br><span class="line"></span><br><span class="line"><span class="section"># åˆ—è¡¨</span></span><br><span class="line"></span><br><span class="line">æ— åºåˆ—è¡¨çš„ä½¿ç”¨ï¼Œåœ¨ç¬¦å· <span class="code">`-`</span> ååŠ ç©ºæ ¼ä½¿ç”¨ã€‚å¦‚ä¸‹ï¼š</span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> æ— åºåˆ—è¡¨ 1</span><br><span class="line"><span class="bullet">-</span> æ— åºåˆ—è¡¨ 2</span><br><span class="line"><span class="bullet">-</span> æ— åºåˆ—è¡¨ 3</span><br><span class="line"></span><br><span class="line">å¦‚æœè¦æ§åˆ¶åˆ—è¡¨çš„å±‚çº§ï¼Œåˆ™éœ€è¦åœ¨ç¬¦å· <span class="code">`-`</span> å‰ä½¿ç”¨ç©ºæ ¼ã€‚å¦‚ä¸‹ï¼š</span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> æ— åºåˆ—è¡¨ 1</span><br><span class="line"><span class="bullet">-</span> æ— åºåˆ—è¡¨ 2</span><br><span class="line"><span class="bullet">  -</span> æ— åºåˆ—è¡¨ 2.1</span><br><span class="line"><span class="bullet">  -</span> æ— åºåˆ—è¡¨ 2.2</span><br><span class="line"></span><br><span class="line">æœ‰åºåˆ—è¡¨çš„ä½¿ç”¨ï¼Œåœ¨æ•°å­—åŠç¬¦å· <span class="code">`.`</span> ååŠ ç©ºæ ¼åè¾“å…¥å†…å®¹ï¼Œå¦‚ä¸‹ï¼š</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> æœ‰åºåˆ—è¡¨ 1</span><br><span class="line"><span class="bullet">2.</span> æœ‰åºåˆ—è¡¨ 2</span><br><span class="line"><span class="bullet">3.</span> æœ‰åºåˆ—è¡¨ 3</span><br><span class="line"></span><br><span class="line">äº‹å®ä¸Šæ­¤è¯­æ³•å…³é”®åœ¨äºæ•°å­—åŠ ä¸Š <span class="code">`.`</span>ï¼Œæœ€åæ¸²æŸ“çš„ç»“æœçš„ç¼–å·ä¸ºè‡ªåŠ¨å†³å®šçš„</span><br><span class="line"></span><br><span class="line"><span class="bullet">3.</span> æœ‰åºåˆ—è¡¨ 1</span><br><span class="line"><span class="bullet">2.</span> æœ‰åºåˆ—è¡¨ 2</span><br><span class="line"><span class="bullet">1.</span> æœ‰åºåˆ—è¡¨ 3</span><br><span class="line"></span><br><span class="line"><span class="section"># é“¾æ¥</span></span><br><span class="line"></span><br><span class="line">å¾®ä¿¡å…¬ä¼—å·ä»…æ”¯æŒå…¬ä¼—å·æ–‡ç« é“¾æ¥ï¼Œå³åŸŸåä¸º<span class="code">`https://mp.weixin.qq.com/`</span>çš„åˆæ³•é“¾æ¥ã€‚ä½¿ç”¨æ–¹æ³•å¦‚ä¸‹æ‰€ç¤ºï¼š</span><br><span class="line"></span><br><span class="line">å¯¹äºè¯¥è®ºè¿°ï¼Œæ¬¢è¿è¯»è€…æŸ¥é˜…ä¹‹å‰å‘è¿‡çš„æ–‡ç« ï¼Œ[<span class="string">ä½ æ˜¯ã€Šæœªæ¥ä¸–ç•Œçš„å¹¸å­˜è€…ã€‹ä¹ˆï¼Ÿ</span>](<span class="link">https://mp.weixin.qq.com/s/s5IhxV2ooX3JN_X416nidA</span>)</span><br><span class="line"></span><br><span class="line"><span class="section"># å›¾ç‰‡</span></span><br><span class="line"></span><br><span class="line">æ’å…¥å›¾ç‰‡ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</span><br><span class="line"></span><br><span class="line">![<span class="string">è¿™é‡Œå†™å›¾ç‰‡æè¿°</span>](<span class="link">https://s2.loli.net/2024/06/24/6O1hsSfuokzdHR5.png</span>)</span><br><span class="line"></span><br><span class="line">å›¾ç‰‡æè¿°çš„æ„ä¹‰æ˜¯å¦‚æœå›¾ç‰‡åŠ è½½ä¸å‡ºæ¥ï¼Œå°±ç”¨å›¾ç‰‡æè¿°æ›¿ä»£ï¼Œä¸è¿‡å…¶å…·ä½“ä½œç”¨å–å†³äºå…·ä½“ Markdown æ¸²æŸ“å™¨çš„å¤„ç†ã€‚</span><br><span class="line"></span><br><span class="line">æ”¯æŒ jpgã€pngã€gifã€ç­‰å›¾ç‰‡æ ¼å¼</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"><span class="section"># å¼•ç”¨</span></span><br><span class="line">å¼•ç”¨çš„æ ¼å¼æ˜¯åœ¨ç¬¦å·<span class="code">`&gt;`</span>åé¢ä¹¦å†™æ–‡å­—ã€‚å¦‚ä¸‹ï¼š</span><br><span class="line"></span><br><span class="line"><span class="quote">&gt; è¯»ä¸€æœ¬å¥½ä¹¦ï¼Œå°±æ˜¯åœ¨å’Œé«˜å°šçš„äººè°ˆè¯ã€‚ â€”â€”æ­Œå¾·</span></span><br><span class="line"></span><br><span class="line"><span class="quote">&gt; é›‡ç”¨åˆ¶åº¦å¯¹å·¥äººä¸åˆ©ï¼Œä½†å·¥äººæ ¹æœ¬æ— åŠ›æ‘†è„±è¿™ä¸ªåˆ¶åº¦ã€‚ â€”â€”é˜®ä¸€å³°</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>VScode çš„ Markdown é¢„è§ˆä¸ºå®æ—¶é¢„è§ˆï¼Œå¯ä»¥éšæ„ä¿®æ”¹å†…å®¹å¹¶çœ‹è§æœ€ç»ˆæ¸²æŸ“ç»“æœã€‚</p><p>åŒæ—¶å›¾ç‰‡ä¹Ÿä¸ä¸€å®šè¦æ˜¯å›¾ç‰‡çš„äº‘ç«¯é“¾æ¥ï¼Œå¯ä»¥å†™æœ¬åœ°å›¾ç‰‡çš„è·¯å¾„ï¼Œä¾‹å¦‚ <a href="http://example.md">example.md</a> <strong>åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹</strong>æœ‰ä¸€ä¸ª image æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰ä¸€å¼  test.jpg å›¾ç‰‡</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![](<span class="link">image/test.jpg</span>)</span><br></pre></td></tr></table></figure><h3 id="Marpit">Marpit</h3><p>ä»¥ä¸Šçš„ Markdown æ˜¯å…¶ç”¨æ¥ç¼–å†™æ–‡æ¡£çš„ç”¨æ³•ï¼Œå¯¹äºä½¿ç”¨è¿™ç§è¯­æ³•æ¥ç¼–å†™ Marp Slidesï¼Œå®˜æ–¹ç§°å…¶ä¸º <a href="https://marpit.marp.app/markdown">Marpit Markdown</a>ã€‚</p><p>å°†ä»¥ä¸‹ Markdown ä»£ç å¤åˆ¶ç²˜è´´åˆ° <code>example.md</code> æ–‡ä»¶ä¸­ï¼Œä½ ä¼šå‘ç°å·²ç»å˜æˆäº† Slidesã€‚</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"><span class="section">marp: true</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line"></span><br><span class="line"><span class="section"># Slide 1</span></span><br><span class="line"></span><br><span class="line">foo</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"><span class="section"># Slide 2</span></span><br><span class="line"></span><br><span class="line">bar</span><br></pre></td></tr></table></figure><p>æ˜¾ç„¶ï¼Œ Marpit Markdown æœ‰ä¸¤ä¸ªæ ¸å¿ƒè¦ç‚¹ï¼š</p><ol><li>å¼€å¤´ç”¨ <code>---</code> åŒ…è£¹çš„éƒ¨åˆ†ï¼Œæ¿€æ´»äº† Marpï¼Œè¿™ä¸ªéƒ¨åˆ†ä¹Ÿå¯ä»¥æœ‰æ›´å¤šè¿›ä¸€æ­¥çš„æ€»ä½“è®¾ç½®ã€‚</li><li>ä¸åŒçš„ Slide ä¹‹é—´ä½¿ç”¨ <code>---</code> åˆ†å‰²ã€‚</li></ol><p>é™¤äº†ä¸Šè¿°æåˆ°çš„æ ¸å¿ƒè¦ç‚¹ï¼Œå…¶ä»–çš„å†™æ³•ä¸æ™®é€šçš„ Markdown æ–‡æ¡£åŒºåˆ«ä¸å¤§ã€‚</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"><span class="section">marp: true</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line"></span><br><span class="line"><span class="section"># æœ‰åºåˆ—è¡¨</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> æœ‰åºåˆ—è¡¨ 1</span><br><span class="line"><span class="bullet">2.</span> æœ‰åºåˆ—è¡¨ 2</span><br><span class="line"><span class="bullet">3.</span> æœ‰åºåˆ—è¡¨ 3</span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"><span class="section"># å¼•ç”¨</span></span><br><span class="line">å¼•ç”¨çš„æ ¼å¼æ˜¯åœ¨ç¬¦å·<span class="code">`&gt;`</span>åé¢ä¹¦å†™æ–‡å­—ã€‚å¦‚ä¸‹ï¼š</span><br><span class="line"></span><br><span class="line"><span class="quote">&gt; è¯»ä¸€æœ¬å¥½ä¹¦ï¼Œå°±æ˜¯åœ¨å’Œé«˜å°šçš„äººè°ˆè¯ã€‚ â€”â€”æ­Œå¾·</span></span><br><span class="line"></span><br><span class="line"><span class="quote">&gt; é›‡ç”¨åˆ¶åº¦å¯¹å·¥äººä¸åˆ©ï¼Œä½†å·¥äººæ ¹æœ¬æ— åŠ›æ‘†è„±è¿™ä¸ªåˆ¶åº¦ã€‚ â€”â€”é˜®ä¸€å³°</span></span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"><span class="section"># ä¸€çº§æ ‡é¢˜</span></span><br><span class="line"></span><br><span class="line"><span class="section">## äºŒçº§æ ‡é¢˜</span></span><br><span class="line"></span><br><span class="line"><span class="section">### ä¸‰çº§æ ‡é¢˜</span></span><br><span class="line"></span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"><span class="section"># å­—ä½“</span></span><br><span class="line"></span><br><span class="line">ç²—ä½“ã€æ–œä½“ã€ç²—ä½“å’Œæ–œä½“ï¼Œåˆ é™¤çº¿ï¼Œéœ€è¦åœ¨æ–‡å­—å‰ååŠ ä¸åŒçš„æ ‡è®°ç¬¦å·ã€‚å¦‚ä¸‹ï¼š</span><br><span class="line"></span><br><span class="line"><span class="strong">**è¿™ä¸ªæ˜¯ç²—ä½“**</span></span><br><span class="line"></span><br><span class="line"><span class="emphasis">*è¿™ä¸ªæ˜¯æ–œä½“*</span></span><br><span class="line"></span><br><span class="line"><span class="strong">**<span class="emphasis">*è¿™ä¸ªæ˜¯ç²—ä½“åŠ æ–œä½“*</span>**</span></span><br><span class="line"></span><br><span class="line">~~è¿™é‡Œæƒ³ç”¨åˆ é™¤çº¿~~</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Marp-å…¨å±€é…ç½®">Marp å…¨å±€é…ç½®</h3><p>å‰æ–‡æåˆ°ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å¼€å¤´çš„è¢«åŒ…è£¹éƒ¨åˆ†æä¾›æ›´åŠ è¿›ä¸€æ­¥çš„å…¨å±€è®¾ç½®ï¼Œåˆ†åˆ«è¯•è¯•ä¸‹é¢å‡ ç§é…ç½®ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">marp: true</span><br><span class="line">theme: default </span><br><span class="line">paginate: false</span><br><span class="line">---</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">marp: true</span><br><span class="line">theme: default </span><br><span class="line">paginate: true</span><br><span class="line">---</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">marp: true</span><br><span class="line">theme: uncover </span><br><span class="line">paginate: true</span><br><span class="line">header: &#x27;Header content&#x27;</span><br><span class="line">footer: &#x27;Footer content&#x27;</span><br><span class="line">---</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">marp: true</span><br><span class="line">theme: uncover </span><br><span class="line">class: invert</span><br><span class="line">paginate: true</span><br><span class="line">header: &#x27;Header content&#x27;</span><br><span class="line">footer: &#x27;Footer content&#x27;</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h3 id="Marp-å†…åµŒ-HTML">Marp å†…åµŒ HTML</h3><p>ç„¶è€Œï¼Œå¤šåŠ å°è¯•å°±ä¼šå‘ç°ï¼ŒMarp çš„ä¾¿åˆ©æ€§å’Œæ’ç‰ˆéœ€æ±‚ï¼Œæœ‰çš„æ—¶å€™å¾ˆéš¾åŒ¹é…å…·ä½“çš„æƒ…å†µï¼Œä¸¾ä¸€ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼ŒMarp ä¸­æ— æ³•å°†å¤šä¸ªåˆ—è¡¨å¹¶æ’æ”¾ç½®ã€‚é™¤æ­¤ä»¥å¤–ï¼Œå¯¹å›¾ç‰‡å¤§å°çš„ç²¾ç»†è°ƒæ•´ä¹Ÿæ˜¯ä¸€ä¸ªéš¾é¢˜ï¼Œè™½ç„¶å¯¹äºå›¾ç‰‡ Marpit å·²ç»åšå‡ºäº†ä¸€äº›<a href="https://marpit.marp.app/image-syntax">æ‹“å±•è¯­æ³•</a></p><p>å‰æ–‡ä¸æ–­æåˆ°ï¼ŒMarkdownï¼ŒMarp å‡ä¸ºå‰ç«¯æŠ€æœ¯ï¼Œä»–ä»¬éƒ½ä¼šè¢«ç¼–è¯‘æˆ HTMLï¼Œå†è®©æµè§ˆå™¨æ¸²æŸ“ HTML å¾—åˆ°ç”»é¢ã€‚</p><p>å› æ­¤æˆ‘ä»¬å®é™…ä¸Šä¹Ÿå¯ä»¥ç›´æ¥å†…åµŒ HTML åœ¨ Markdown æˆ–è€… Marpit Markdown ä¸­ã€‚è€Œ HTML ä½œä¸ºä¸€åˆ‡ç½‘é¡µçš„åŸºç¡€ï¼Œå¯ä»¥å®ç°çš„æ’ç‰ˆæ•ˆæœæ˜¯è¿‘ä¹æ— ç©·çš„ã€‚</p><p>åœ¨å¼€å§‹å°è¯•ä½¿ç”¨å†…åµŒ HTML ä¹‹å‰ï¼Œé¦–å…ˆè¦å»è®¾ç½®ã€‚<br><img src="https://s2.loli.net/2024/06/24/VbKMeiPE49l6JWI.png" alt="VScode Open settings" loading="lazy"></p><p>æœç´¢ï¼Œå¹¶æ‰“å¼€ Marp VScode æ’ä»¶çš„ HTML å¼€å…³ï¼ˆé»˜è®¤ä¸ºå…³é—­ï¼‰<br><img src="https://s2.loli.net/2024/06/24/L1Sw93fudvEZ4F8.png" alt="Open Marp HTML" loading="lazy"></p><p>ç„¶åå¯ä»¥å°è¯•ä»¥ä¸‹çš„ Slide ä»£ç </p><ul><li><p>å¹¶åˆ—åˆ—è¡¨</p>  <figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"></span><br><span class="line"><span class="section"># 4. Evaluating Histograms</span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;display: flex; justify-content: space-around; margin-top: 30px;&quot;</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span>  Skewness and Tails</span><br><span class="line"><span class="bullet">    -</span> Skewed left vs skewed right</span><br><span class="line"><span class="bullet">    -</span> Left tail vs right tail</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span>  Outliers</span><br><span class="line"><span class="bullet">    -</span> Using percentiles</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span>  Modes</span><br><span class="line"><span class="bullet">    -</span> Most commonly occuring data</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">---</span><br></pre></td></tr></table></figure></li><li><p>æœ‰åºåˆ—è¡¨å¹¶åˆ—åˆ†å‰²</p>  <figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br><span class="line"><span class="code">    .two-columns &#123;</span></span><br><span class="line"><span class="code">    display: flex;</span></span><br><span class="line"><span class="code">    justify-content: center; /* Center the columns */</span></span><br><span class="line"><span class="code">    margin-left: 100px;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">.two-columns .column &#123;</span></span><br><span class="line"><span class="code">    flex: 1;</span></span><br><span class="line"><span class="code">    padding: 10px 10px;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code">.two-columns ol &#123;</span></span><br><span class="line"><span class="code">    padding-left: 0;</span></span><br><span class="line"><span class="code">    list-style: none;</span></span><br><span class="line"><span class="code">&#125;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;two-columns&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">ol</span> <span class="attr">class</span>=<span class="string">&quot;column&quot;</span>&gt;</span></span></span><br><span class="line"><span class="code">    &lt;li&gt;å¼•è¨€&lt;/li&gt;</span></span><br><span class="line"><span class="code">    &lt;li&gt;æ¦‚å¿µè¾¨æ&lt;/li&gt;</span></span><br><span class="line"><span class="code">    &lt;li&gt;å‡è®¾å‰æ&lt;/li&gt;</span></span><br><span class="line"><span class="code">    &lt;li&gt;åœ¨ä¼ æˆçŸ¥è¯†æ–¹é¢çš„ä¼˜åŠ¿&lt;/li&gt;</span></span><br><span class="line"><span class="code">    &lt;li&gt;åœ¨ç»™äºˆå­¦ä¹ åé¦ˆæ–¹é¢çš„ä¼˜åŠ¿&lt;/li&gt;</span></span><br><span class="line"><span class="code">&lt;/ol&gt;</span></span><br><span class="line"><span class="code">&lt;ol class=&quot;column&quot; start=&quot;6&quot;&gt;</span></span><br><span class="line"><span class="code">    &lt;li&gt;åœ¨å®‰å…¨æ€§æ–¹é¢çš„ä¼˜åŠ¿&lt;/li&gt;</span></span><br><span class="line"><span class="code">    &lt;li&gt;åœ¨ç¤¾ä¼šæˆæœ¬æ–¹é¢çš„ä¼˜åŠ¿&lt;/li&gt;</span></span><br><span class="line"><span class="code">    &lt;li&gt;é¢ä¸´çš„æŒ‘æˆ˜&lt;/li&gt;</span></span><br><span class="line"><span class="code">    &lt;li&gt;ç»“è®º&lt;/li&gt;</span></span><br><span class="line"><span class="code">&lt;/ol&gt;</span></span><br><span class="line"><span class="code">&lt;/div&gt;</span></span><br><span class="line"><span class="code"></span></span><br><span class="line">---</span><br></pre></td></tr></table></figure></li><li><p>å›¾æ–‡å¯¹åº”</p>  <figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"></span><br><span class="line"><span class="section"># 4. Evaluating Histograms</span></span><br><span class="line"><span class="section">## 4.1 Skewness and Tails</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;display: flex; justify-content: space-around; margin-left: -150px;&quot;</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin-right:-300px;&quot;</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;text-align:center;&quot;</span>&gt;</span></span> </span><br><span class="line"></span><br><span class="line"><span class="emphasis">*Left Skew and Right Tail:*</span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">![<span class="string">w:500</span>](<span class="link">https://ds100.org/course-notes/visualization_1/visualization_1_files/figure-html/cell-19-output-2.png</span>)</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;margin-right:-150px;&quot;</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;text-align:center;&quot;</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="emphasis">*Right Skew and Left Tail:*</span> </span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">![<span class="string">w:500</span>](<span class="link">https://ds100.org/course-notes/visualization_1/visualization_1_files/figure-html/cell-20-output-2.png</span>)</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">---</span><br></pre></td></tr></table></figure></li><li><p>æ’å…¥è§†é¢‘</p>  <figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">video</span> <span class="attr">controls</span>= <span class="string">&quot;controls&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100%&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://www.shanghaitech.edu.cn/_upload/article/videos/b3/6a/50b2c11c4d188c4a7b392b74bb28/0428a130-e35a-4584-9684-f70000162e38-B.mp4&quot;</span>&gt;</span></span><span class="language-xml"><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">---</span><br></pre></td></tr></table></figure></li></ul><p><strong>æœ¬æ–‡çš„æ ‡é¢˜ä¸­å†™åˆ°ï¼Œâ€œfor Anyoneâ€ å› æ­¤è¿™é‡Œè‡ªç„¶ä¸ä¼šè¿‡å¤šæ¶‰åŠå‰ç«¯æŠ€æœ¯ï¼Œè€Œä¹‹æ‰€ä»¥è¿™äº›å¯ä»¥ â€œfor Anyoneâ€ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬å®Œå…¨å¯ä»¥è®©ç”Ÿæˆå¼äººå·¥æ™ºèƒ½ï¼ˆå¦‚ ChatGPTï¼‰æ¥å®Œæˆæˆ‘ä»¬å…·ä½“çš„è¯¦ç»†æ’ç‰ˆå·¥ä½œï¼Œå…³é”®åœ¨äºè‡³å°‘çŸ¥é“ä¸€äº›å…³é”®è¯ï¼š <code>è¯·ä½¿ç”¨å†…åµŒ HTML çš„æ–¹å¼ä¸ºæˆ‘å®Œæˆè¿™é¡µ Marp Slideï¼Œè¦æ±‚æ˜¯â€¦â€¦</code>ã€‚</strong></p><p>ä¸è¿‡å…¶å®å•çº¯è¿™é‡Œæä¾›çš„ HTML æ¨¡æ¿ï¼ŒåŠ ä¸Š<a href="https://marpit.marp.app/image-syntax">å®˜æ–¹çš„ä¸€äº›å›¾ç‰‡æ’ç‰ˆè¯­æ³•</a>ä¹Ÿå·²ç»è¶³å¤Ÿåº”å¯¹ç»å¤§å¤šæ•°çš„æ’ç‰ˆéœ€æ±‚äº†ã€‚</p><h3 id="Marp-for-VScode-å¯¼å‡º">Marp for VScode å¯¼å‡º</h3><p>ä¸Šæ–‡ä»‹ç»äº†å¤§é‡ Marp çš„ç¼–å†™ï¼Œä½†æ˜¯æœ€ç»ˆçš„ç›®çš„æ˜¯ä¸ºäº†å¯¼å‡ºä¸º Slides ä½¿ç”¨ã€‚</p><p>å¯¹äºå·²ç»ç¼–å†™å¥½å¹¶ä¸”ç¡®è®¤è¦å¯¼å‡ºçš„ Marp Slides</p><ul><li>å¯ä»¥ä½¿ç”¨å¿«æ·é”® <code>Ctrl + Shift + P</code>ï¼Œè¾“å…¥ <code>Marp: Export Slides</code>(å¯ä»¥æ¨¡ç³Šè¾“å…¥)ï¼Œç„¶åé€‰æ‹©å¯¼å‡ºçš„æ ¼å¼ã€‚</li><li>æˆ–è€…ç‚¹å‡»å³ä¸Šè§’çš„é‡å ä¸‰è§’å½¢å›¾æ ‡ï¼Œé€‰æ‹© <code>Export Slides Deck...</code> é€‰é¡¹ï¼Œç„¶åé€‰æ‹©å¯¼å‡ºçš„æ ¼å¼ã€‚</li></ul><p>å¯¹äºå¯¼å‡ºçš„æ ¼å¼ï¼Œæœ€ä½³çš„æ ¼å¼è‡ªç„¶æ˜¯ HTMLï¼Œå°¤å…¶æ˜¯ Slides ä¸­åŒ…å«ä¸€äº›äº’åŠ¨ï¼ŒåŠ¨æ€å†…å®¹ï¼šgif å›¾ï¼Œè§†é¢‘æ’å…¥ç­‰ã€‚å› ä¸ºå¯¹äºå…¶ä»–æ ¼å¼ï¼Œå¦‚ PDFï¼ŒPPTXï¼Œæœ¬è´¨å°±æ˜¯ç”¨æµè§ˆå™¨å†…æ ¸æ¸²æŸ“ HTML æ–‡ä»¶å¾—åˆ°å›¾ç‰‡ï¼Œç„¶åå†ç»„åˆæˆ PDF æˆ– PPTX æ–‡ä»¶ã€‚</p><p>ä¸è¿‡è¦æ³¨æ„ï¼Œå¦‚æœä½¿ç”¨çš„æ˜¯æœ¬åœ°å›¾ç‰‡ï¼Œé‚£ä¹ˆå¯¼å‡ºçš„ HTML æ–‡ä»¶ä¸­çš„å›¾ç‰‡é“¾æ¥æ˜¯æœ¬åœ°çš„ï¼Œä½¿ç”¨çš„æ—¶å€™ï¼Œè¦ä¿è¯å›¾ç‰‡æ–‡ä»¶å’Œ HTML æ–‡ä»¶çš„ç›¸å¯¹ä½ç½®å…³ç³»å’Œå¯¼å‡ºæ—¶ Markdown æ–‡æ¡£çš„ç›¸å¯¹ä½ç½®å…³ç³»ä¸€è‡´ã€‚è€Œ PDF å’Œ PPTX æ–‡ä»¶åˆ™ä¼šå°†å›¾ç‰‡åµŒå…¥å…¶ä¸­ï¼Œå› æ­¤ä¸ä¼šæœ‰è¿™ä¸ªé—®é¢˜ã€‚</p><h3 id="ä½¿ç”¨å¯¼å‡ºç»“æœ">ä½¿ç”¨å¯¼å‡ºç»“æœ</h3><p>å¯¹äº PDF å’Œ PPTX æ–‡ä»¶ï¼ŒæŒ‰ç…§æ­£å¸¸çš„æ–‡ä»¶ä½¿ç”¨æ–¹å¼å³å¯ã€‚</p><p>è€Œå¯¹äº HTML æ–‡ä»¶ï¼Œåˆ™ç”¨æµè§ˆå™¨æ‰“å¼€ï¼Œå¹¶ä¸”å¦‚ä¸Šæ–‡æ‰€è¯´ï¼Œå¦‚æœä½¿ç”¨äº†æœ¬åœ°å›¾ç‰‡ï¼Œè¦ä¿è¯å›¾ç‰‡æ–‡ä»¶å’Œ HTML æ–‡ä»¶çš„ç›¸å¯¹ä½ç½®å…³ç³»å’Œå¯¼å‡ºæ—¶ Markdown æ–‡æ¡£çš„ç›¸å¯¹ä½ç½®å…³ç³»ä¸€è‡´ã€‚</p><p>æ³¨æ„æ‰“å¼€çš„é¡µé¢æ˜¯ä¸€ä¸ªç½‘é¡µï¼Œä¸­é—´çš„å·¥å…·æ åœ¨é¼ æ ‡ä¸é è¿‘ä¸€ä¼šåä¼šè‡ªåŠ¨éšè—ã€‚</p><p>å…¨å±æŒ‰é’®æ—è¾¹çš„æŒ‰é’®å¯ä»¥åˆ‡æ¢åˆ° Presenter æ¨¡å¼ï¼ŒPresenter æ¨¡å¼å’Œ PPT çš„ Presenter æ¨¡å¼ç±»ä¼¼ï¼Œé‡ç‚¹åœ¨äº Presenter Noteï¼Œä¹Ÿå°±æ˜¯å¤‡æ³¨ï¼Œä¸‹ä¸€èŠ‚ Section å°†è®²è§£ã€‚</p><p><img src="https://s2.loli.net/2024/06/24/vfVSAxzDWBdyO4H.png" alt loading="lazy"></p><h3 id="æ·»åŠ å¤‡æ³¨">æ·»åŠ å¤‡æ³¨</h3><p>è¦æ·»åŠ å¤‡æ³¨ï¼Œåªéœ€è¦åœ¨ Markdown æ–‡æ¡£ä¸­ä½¿ç”¨æ³¨é‡Šï¼ˆæºä»£ç è¢«æ‰§è¡Œï¼Œæºä»£ç ä¸­çš„æ³¨é‡Šä¸è¢«æ‰§è¡Œï¼Œæ˜¯ç”¨æ¥ç»™å†™ä»£ç çš„äººçœ‹çš„ï¼‰ã€‚</p><p>æ³¨é‡Šçš„æ ¼å¼ä¸º <code>&lt;!-- æ³¨é‡Š --&gt;</code>ï¼Œå¯ä»¥æ¢è¡Œã€‚</p><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"></span><br><span class="line"><span class="section"># AI æ›¿ä»£åˆé«˜ä¸­äººç±»æ•™å­¦é¢ä¸´çš„æŒ‘æˆ˜</span></span><br><span class="line"></span><br><span class="line"><span class="section">## å­¦ä¹ åŠ¨æœºå’Œé›†ä½“ç§©åºçš„ç»´æŒ</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">  -</span> <span class="strong">**ç¼ºä¹ç¤¾ä¼šè§’è‰²å®šä½å’Œåœ°ä½**</span>ï¼š</span><br><span class="line"><span class="bullet">    -</span> ä½œä¸ºä¸€ç§éå…·èº«å·¥å…·ï¼Œå…¶ç¤¾ä¼šè§’è‰²æ¨¡ç³Šï¼Œéš¾ä»¥èµ¢å¾—å­¦ç”Ÿçš„è§’è‰²è®¤åŒ</span><br><span class="line"></span><br><span class="line"><span class="bullet">  -</span> <span class="strong">**ç¤¾ä¼šåŒ–è¿‡ç¨‹çš„å‚ä¸**</span>ï¼š</span><br><span class="line"><span class="bullet">    -</span> ä½œä¸ºéç¤¾ä¼šæ€§å­˜åœ¨</span><br><span class="line"><span class="bullet">    -</span> æ— æ³•æœ‰æ•ˆå‚ä¸å’Œå½±å“å­¦ç”Ÿçš„ç¤¾ä¼šåŒ–è¿‡ç¨‹</span><br><span class="line"></span><br><span class="line">&lt;!-- </span><br><span class="line"></span><br><span class="line">æ­£å¦‚æœ¬æ–‡ä¸­çš„è¯„ä»·å‰ææ‰€è¿°ï¼Œæ•™å­¦çš„è¯„ä»·è¿˜å–å†³äºç»´æŒå­¦ä¹ åŠ¨æœºå’Œç»´æŒé›†ä½“ç§©åºè¿™ä¸¤ä¸ªç»´åº¦ã€‚</span><br><span class="line"></span><br><span class="line">è¿™å…¶ä¸­æœ€æ ¸å¿ƒçš„åŸå› æ˜¯ï¼Œ AI ç¼ºä¹æ˜ç¡®çš„ç¤¾ä¼šè§’è‰²å®šä½å’Œåœ°ä½ã€‚</span><br><span class="line">äººç±»ç¤¾ä¼šæ˜¯ä¸€ä¸ªå¤æ‚çš„ç³»ç»Ÿï¼Œä¸ªä½“åœ¨å…¶ä¸­æ‰®æ¼”ç‰¹å®šçš„ç¤¾ä¼šè§’è‰²ï¼Œå¹¶è¢«èµ‹äºˆç›¸åº”çš„æƒåŠ›ã€è´£ä»»å’Œä¹‰åŠ¡ã€‚</span><br><span class="line"></span><br><span class="line">æ•™å¸ˆä½œä¸ºçŸ¥è¯†å’Œé“å¾·çš„ä¼ æ’­è€…ï¼Œåœ¨å­¦ç”Ÿå¿ƒç›®ä¸­å…·æœ‰å´‡é«˜çš„åœ°ä½ã€‚</span><br><span class="line">è€Œ AI ä½œä¸ºä¸€ç§éå…·èº«å·¥å…·ï¼Œå…¶ç¤¾ä¼šè§’è‰²æ¨¡ç³Šï¼Œéš¾ä»¥èµ¢å¾—å­¦ç”Ÿçš„è§’è‰²è®¤åŒï¼Œå› æ­¤ AI çš„è¨€è¡Œå¾ˆéš¾å¯¹å­¦ç”Ÿäº§ç”Ÿåº”æœ‰çš„å½±å“åŠ›ã€‚</span><br><span class="line"></span><br><span class="line">å†æ¬¡ï¼Œå­¦ä¹ åŠ¨æœºå’Œé›†ä½“ç§©åºçš„ç»´æŒæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç¤¾ä¼šåŒ–çš„è¿‡ç¨‹ã€‚</span><br><span class="line">å­¦ç”Ÿçš„å­¦ä¹ åŠ¨æœºä¸ä»…æ¥è‡ªæ±‚çŸ¥æ¬²ï¼Œæ›´æ¥è‡ªäºè£èª‰æ„Ÿã€è´£ä»»æ„Ÿã€é›†ä½“è®¤åŒæ„Ÿç­‰ç¤¾ä¼šæƒ…æ„Ÿçš„é©±åŠ¨ã€‚</span><br><span class="line"></span><br><span class="line">AI ä½œä¸ºéç¤¾ä¼šæ€§å­˜åœ¨ï¼Œæ— æ³•å‚ä¸å’Œå½±å“å­¦ç”Ÿç¤¾ä¼šåŒ–è¿‡ç¨‹ï¼Œå› æ­¤éš¾ä»¥åœ¨ç»´æŒå­¦ä¹ åŠ¨æœºå’Œé›†ä½“ç§©åºæ–¹é¢å‘æŒ¥å…³é”®ä½œç”¨ã€‚</span><br><span class="line"></span><br><span class="line">--&gt;</span><br><span class="line"></span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>ç»™æŸé¡µ Slide æ·»åŠ æ³¨é‡Šåå†å¯¼å‡ºï¼Œå°±å¯ä»¥åœ¨ Presenter View çš„å¯¹åº”é¡µé¢ä¸­çœ‹è§å¤‡æ³¨ã€‚</p><p>è€Œå¯¼å‡ºçš„ PPTX ä¸­ä¹ŸåŒæ ·è‡ªåŠ¨æ·»åŠ äº†å¤‡æ³¨ã€‚</p><h2 id="æœ€å">æœ€å</h2><p>EnjoyğŸ˜.</p>]]></content>
    
    
    <summary type="html">åŸºäº VScode ç¼–å†™ Marp å¹»ç¯ç‰‡çš„å·¥ä½œæµ</summary>
    
    
    
    <category term="ç»éªŒ" scheme="https://zivmax.top/categories/%E7%BB%8F%E9%AA%8C/"/>
    
    
    <category term="Docker" scheme="https://zivmax.top/tags/Docker/"/>
    
    <category term="Proxy" scheme="https://zivmax.top/tags/Proxy/"/>
    
  </entry>
  
  <entry>
    <title>CS110 Lab [14]</title>
    <link href="https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/06/04/CS110/CS110-Lab-14/"/>
    <id>https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/06/04/CS110/CS110-Lab-14/</id>
    <published>2024-06-04T03:03:54.000Z</published>
    <updated>2024-06-04T07:12:17.981Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p><strong>Goals</strong></p><ul><li><p>Explore the workings of virtual memory, specifically the TLB and the Page Table.</p></li><li><p>Analyze TLB hit rate and Page Table hit rate and figure out what accesses optimize these values.</p></li></ul><span id="more"></span><h1 id="Lab-14">Lab 14</h1><p><a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/index.html">Computer Architecture I</a> <a href="http://www.shanghaitech.edu.cn/">ShanghaiTech University</a><br><a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/labs/Lab13/lab13.html">Lab 13</a> Lab 14</p><h2 id="Setup">Setup</h2><p>For this lab we will mostly be using the virtual memory simulation features of Camera, a cache and virtual memory simulator. You may also find the cache simulations interesting, however we won't be working with those here. You can download Camera from <a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/labs/Lab14/Camera.jar">here</a>. To open the Camera, use the following instruction.</p><p>java -jar Camera.jar</p><p>Once Camera opens up, select the virtual memory option to open a visualization of the virtual memory system. In the top left you can see the contents of physical memory. Just below that is a listing of all the pages of virtual memory for this process. To the right of these items are the contents of the TLB and the Page Table. At this point these should all be empty as we haven't done anything yet. Read about the statistics of your memory system in the &quot;PROGRESS UPDATE&quot; box at the bottom of the window. This area will keep you updated on your status through the simulation as it progresses. You can move the simulation forward, backward or start it over from the beginning using the buttons to the right of the &quot;PROGRESS UPDATE&quot; box.</p><h2 id="Exercises">Exercises</h2><h3 id="Exercise-0-Sanity-Check">Exercise 0 - Sanity Check</h3><p>Before you continue, <strong>MAKE SURE THAT YOU OPENED THE VM SIMULATOR AND NOT THE CACHE SIMULATOR</strong>.</p><h3 id="Exercise-1-Working-with-CAMERA">Exercise 1 - Working with CAMERA</h3><p>Click the button labeled &quot;Auto Generate Add. Ref. Str.&quot; at the right-hand side of the window. This will generate a set of ten address references. You can think of these as a series of RISC-V &quot;load word&quot; instructions reading from the memory address specified. Click the button labeled &quot;Next&quot; to begin the simulation.</p><p>For the rest of this exercise you are at the mercy of the &quot;PROGRESS UPDATE&quot; box. After each click of the &quot;Next&quot; button examine the contents of the box and the current state of the memory system. Try to really get an understanding of what is going on in the TLB, the Page Table, and Physical Memory at each step.</p><p>Take care of the address translation process, the TLB hits/miss and the Page faluts, try to think about how the TLB and Page table work and why the memory sequence casues such behavior.</p><h4 id="Checkoff">Checkoff</h4><ul><li>Given the way the address was broken down, how big are the pages in this model?</li><li>Explain the process by which we turn a virtual address into a physical address (emphasizing on the usage of TLB and Page table and the order of using them).</li></ul><h3 id="Exercise-2-Misses">Exercise 2 - Misses</h3><p>Now that you've seen what a random workload looks like in the VM system, let's try creating a custom workload with a specific property. Your goal for this exercise is to create a workload of ten memory accesses that will cause ten TLB misses and ten Page Faults. You should be able to come up with such a workload on paper, but then you should run it in CAMERA to verify your work. You can specify a custom workload in CAMERA by clicking the button labeled &quot;Self Generate Add. Ref. Str.&quot; and entering in the addresses you want to reference one at a time. When you are satisfied that you've got a valid sequence, please write it down and be ready to show it to your TA during checkoff.</p><h4 id="Checkoff-2">Checkoff</h4><ul><li>Demonstrate that your ten memory accesses results in ten TLB Misses and ten Page Faults. Explain why such behavior occurs.</li></ul><h3 id="Exercise-3-Fixing-our-Faults">Exercise 3 - Fixing our Faults</h3><p>Given your sequence of memory accesses from Exercise 2, can you find a change to a single parameter (e.g. TLB size, page table size, memory size, etc...) that would result in the same number (ten) of TLB misses but result in fewer than ten page faults? Work through this on paper and be ready to show your results to your TA during checkoff.</p><h4 id="Checkoff-3">Checkoff</h4><ul><li>Explain the single parameter change that would result in ten TLB misses, but <strong>fewer</strong> than ten page faults.</li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;Goals&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Explore the workings of virtual memory, specifically the TLB and the Page Table.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Analyze TLB hit rate and Page Table hit rate and figure out what accesses optimize these values.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="å­¦ä¹ " scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="è®¡ç®—æœºç§‘å­¦" scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/"/>
    
    
    <category term="ä½œä¸š" scheme="https://zivmax.top/tags/%E4%BD%9C%E4%B8%9A/"/>
    
    <category term="ä¸Šç§‘å¤§" scheme="https://zivmax.top/tags/%E4%B8%8A%E7%A7%91%E5%A4%A7/"/>
    
    <category term="CS110" scheme="https://zivmax.top/tags/CS110/"/>
    
    <category term="è®¡ç®—æœºä½“ç³»æ¶æ„" scheme="https://zivmax.top/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>CS110 Project 3</title>
    <link href="https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/05/30/CS110/CS110-Project-3/"/>
    <id>https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/05/30/CS110/CS110-Project-3/</id>
    <published>2024-05-30T03:01:25.000Z</published>
    <updated>2024-06-04T07:16:01.868Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p><a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/index.html">Computer Architecture I</a> | <a href="https://www.shanghaitech.edu.cn/">ShanghaiTech University</a></p><h1 id="CS110-Project-3-24s-Flappy-bird-game-on-Longan-Nano">CS110 Project 3 (24s): Flappy-bird game on Longan Nano</h1><p><a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/project/p3/index.html#">Reference Implementation</a></p><p>As CS110 is coming to an end, it's time to put the skills we've learned into practice.</p><p>In this project, you will code in C language and RISC-V assembly to implement a Flappy-bird game. You will also use <code>platformIO</code> to cross-compile and generate a program for the Longan Nano development board.</p><p>While we do have a reference implementation, you are not required to fully replicate it. Once you have completed the basic requirements, you are free to add or modify more features according to your preferences.</p><p>We hope you enjoy playing with Longan Nano in this project.</p><p><strong>Important Note 1</strong>: Project 3 this year is an individual project - one person, no teammate.</p><p><strong>Important Note 2</strong>: We only score Flappy Bird game. You may implement your own game for fun, but they are not scored.</p><p><strong>Important Note 3</strong>: Grading of Project 3 is manually done by TAs during Lab 15 check procedure, instead of using Autograder. See <a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/project/p3/index.html#grading-policy">Grading Policy</a> for details.</p><h2 id="Academic-Integrity-Policy">Academic Integrity Policy</h2><p>Project 3 this year is an individual project - one person, no teammate.</p><p>We will conduct code similarity check. If your code (except for Lab 12 template) is too similar to code from others, prepare to face the penalty from entire TA group and two professors. See slide from the 1st lecture for all possible consequences.</p><h2 id="Grading-Policy">Grading Policy</h2><ol><li>The overall score for project 3 is 17 points. Note that <strong>if your code does not compile or assemble, you will get 0 points for project 3</strong>. However, the good news is that in project 3, there will be <strong>no</strong> memory leak check and <strong>no</strong> additional compiler flags like <code>-Wall</code> and <code>-Werror</code>.</li><li>The grading rubrics sum up to 19 points, which is more than 17. You will get a final score of 17 even if your score exceeds 17. If you are more than confident with the stability and robustness of your implementation, it is explicitly allowed to ignore some of the tasks. However, it is still strongly recommended that you implement everything that is within your reach.</li><li>Since checking procedure of Project 3 is complicated, it might be impossible to check all the â‰ˆ 25 students of one Lab within your Lab's time slot. Therefore, expect Lab 15 to last a long time ( â‰ˆ 3 hours).</li><li>Grading of Project 3 is manually done by TAs during check procedure, instead of using Autograder.</li><li>Location and time slot for Project 3 Check: Same as your Lab location.</li><li>Project 3 check procedure after DDL: On student's computer, fetch project 3 source code from Gradescope, then compile the newly fetched source code, and download the firmware into device.</li><li>All requirements other than <em>RISCV Code</em> has an all-or-nothing grading scheme, for example, you will only get 0 or 2 points for player part of <em>Moving Entities (Sprites)</em>.</li></ol><h2 id="Implementation-and-Submission-Policy">Implementation and Submission Policy</h2><p>Project 3 has no fixed template, but no fixed template means less constraint. You will implement project 3 from the ground up. Starting from the Lab 12 template (<code>lab12-starter-20240515.tar.gz</code>), you are free to:</p><ul><li>Change any code in <code>lab12-starter-20240515.tar.gz</code>. In fact, our reference implementation modifies the LCD library.</li><li>Add and remove <code>.c</code> or <code>.h</code> files.</li></ul><p>The submission must at least include:</p><ul><li>Anything in Lab 12 template (<code>lab12-starter-20240515.tar.gz</code>), unless removed by yourself.</li><li>Any new source code and assets added.</li></ul><p>Do not modify compiler framework (located in <code>&lt;pio root&gt;</code>)!</p><h2 id="Detailed-Implementation-Requirements">Detailed Implementation Requirements</h2><p>Your implementation should look like the <a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/project/p3/index.html#">Reference Implementation</a>, but we do not require them to be identical. For unspecified requirements, please refer to the reference firmware for detail. If there are ambiguous statements, first check Piazza post <a href="https://piazza.com/class/lsvl55gd4jz4h0/post/270">@270</a>, then post on Piazza.</p><h3 id="3-Points-RISCV-Code">(3 Points) RISCV Code</h3><ul><li>Grading Prerequisites: None.</li></ul><p>Use RISCV to create the splash screen (the welcome screen before starting the game or selecting difficulty, depending on your implementation). Comments and labels are not counted. Pseudo-instructions are always counted as one instruction.</p><p>Let n be the number of <em><strong>meaningful</strong></em> RISCV instructions, then your score for this section is min ( 3 , âŒŠ n / 100 âŒ‹ ) . The term <em>meaningful</em> here refers to: TAs think your splash screen have meaningful animations, <strong>or</strong> your RISCV code does not come from simple copy-and-paste operation.</p><p>For example, hand-writing <code>add t0, t0, t0</code> or doing useless <code>lw</code> and <code>sw</code> instructions for 300 times will not lead to 3 points for this section.</p><p>Note on Venus: Do not rely only on Venus. Your code may execute normally on Longan Nano even if Venus reports error. In fact, it is suggested not to use Venus in project 3.</p><p>Tips: If you want to display a series of images, please make sure that you are not exceeding the maximum memory and storage limit of the hardware. Those two limits will be reported by <code>pio run</code> or the build command in PlatformIO VSCode Plugin.</p><h3 id="4-Points-Moving-Entities-Sprites">(4 Points) Moving Entities (Sprites)</h3><p><strong>(2 Point)</strong> Display player on screen and player can react to keyboard input.</p><ul><li>Grading Prerequisites: None.</li></ul><p>When key k is pushed, the player is given a upward speed. When k is released, the player will fall as if caught by gravity.</p><p>k , upward speed, player color, initial player location, and gravity constant are defined by you. An optional constraint on maximum falling speed could also be implemented.</p><p><strong>(2 Point)</strong> There are static walls and moving walls on screen and remaining life will reduce by one if player hit the wall.</p><ul><li>Grading Prerequisites: Player part of <em>Moving Entities (Sprites)</em>.</li></ul><p>When the player hits any wall, including floor, ceil, and moving wall, the player life should be reduced by one, then the player's location is set to its initial location. However, the game should continue even if the player life reaches 0 or negative, because some TAs are dying again and again when trying Songhui Cao's reference implementation. The initial player life is defined by you.</p><p>Player score is not a factor for grading here.</p><p>Moving walls refer to the walls that move left in the reference firmware. Wall color, static wall location, wall moving speed, and the vertical and horizonal space between walls are defined by you.</p><p>Tips: It is explicitly allowed to eliminate player's hitbox against walls for a while after the player respawns (including initial spawn and respawn after hitting a wall). However, eliminating player's hitbox is an optional feature. In the reference firmware, when the player appears green, its hitbox is eliminated against walls.</p><p>Note on collision handling: 1 or 2 pixels of error or overlap is explicitly allowed. You may have noticed that the <a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/project/p3/index.html#">Reference Implementation</a> allows overlap that is no more than 1 pixel.</p><h3 id="2-Points-Life-and-Score">(2 Points) Life and Score</h3><p><strong>(1 Point)</strong> Player life is correctly displayed.</p><ul><li>Grading Prerequisites: Player part of <em>Moving Entities (Sprites)</em>.</li></ul><p>When the player life reaches negative, you may do one of the two following: displaying player life as a negative number, <strong>or</strong> adding a constant (defined by you) to player life.</p><p>Player life location, font, text, and color is defined by you.</p><p><strong>(1 Point)</strong> Player score is correctly displayed.</p><ul><li>Grading Prerequisites: All 2 parts of <em>Moving Entities (Sprites)</em>.</li></ul><p>When the player passes through the space between a pair of walls (and did not die), the player score should be increased by one.</p><p>Though not scored, we recommend that you handle the case where player score exceeds the display length properly.</p><p>Player score location, font, text, and color is defined by you.</p><h3 id="4-Points-Difficulty-Selection">(4 Points) Difficulty Selection</h3><p><strong>(2 Points)</strong> You have implemented difficulty selection screen. Different difficulty levels must have identifiable differences.</p><ul><li>Grading Prerequisites: All 2 parts of <em>Moving Entities (Sprites)</em>.</li></ul><p>At least 2 different difficulties should be implemented so that it is possible to <em>select</em> one. The difficulty selection screen must contain <strong>all</strong> of the following key points: all possible difficulties; highlighting of the chosen option.</p><p>The differences must contain <strong>at least one</strong> of the following: player uprising and falling speed; the vertical space between walls; the horizonal space between walls.</p><p><strong>(2 Points)</strong> You have implemented input key de-bouncing during difficulty selection.</p><ul><li>Grading Prerequisites: A working interface (such as difficulty selection screen) as a showcase to your input key de-bouncing implementation.</li></ul><p>Definition of input key de-bouncing: if a key (for example, joystick down) is triggered at t 0 , it cannot be triggered again before t 0 + 0.3 , while other keys can. Unit of time here is seconds.</p><p>Without input key de-bouncing, during difficulty selection, when you press the controlling key once, the target difficulty may stroll more than once, making accurate selection impossible. Therefore, your task is to implement input key de-bouncing and use it to address this issue.</p><p>Input key de-bouncing is an optional feature during actual gameplay.</p><h3 id="2-Points-Guaranteed-Stable-FPS">(2 Points) Guaranteed Stable FPS</h3><ul><li>Grading Prerequisites: None, but TAs will manually review your code for this section.</li></ul><p>Assume: 1. The CPU frequency of your Longan Nano is stable and fixed; 2. The compute time per one frame is always less than the length of one frame; 3. Power consumption is not an issue.</p><p>According to the assumption above, if you use a fixed delay to maintain FPS, your actual FPS is subject to the compute time within a frame. For example, if the compute time within a frame is 2ms, and you are delaying 20ms for 50 FPS, the actual FPS will be 45.5.</p><p>Your task for this section is to change your code, such that your frame rate have nothing to do with the compute time within a frame.</p><p>TAs will manually check your code for this section.</p><p>Tips: See implementation of <code>delay_1ms</code> for how to exploit the CPU cycle counter.</p><h3 id="2-Points-Player-Trace">(2 Points) Player Trace</h3><ul><li>Grading Prerequisites: Player part of <em>Moving Entities (Sprites)</em>.</li></ul><p>Sample player location once per frame, move the sampled points left, and connect adjacent point pairs, so that all points, as a whole, mimics a tail of the player.</p><p>Whether or not the tail will fade by time is not a factor for grading here.</p><p>Tips: You may modify the LCD library. See piazza post <a href="https://piazza.com/class/lsvl55gd4jz4h0/post/313">@313</a> for details.</p><h3 id="2-Points-Incremental-Rendering">(2 Points) Incremental Rendering</h3><ul><li>Grading Prerequisites: All 2 parts of <em>Moving Entities (Sprites)</em>.</li></ul><p>Use everything at your disposal, to prevent the screen from blinking.</p><p><a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/labs/Lab12/lab12-starter-20240515.tar.gz">Lab 12 Starter</a> is an example of blinking. It does not implement incremental rendering and is calling <code>LCD_Clear</code> periodically.</p><p>Criteria of <em>prevent the screen from blinking</em>: TA think the screen does not have visual blinking, <strong>or</strong> by reviewing your code, TA is convinced that you are not calling <code>LCD_Clear</code> or its equivalents periodically.</p><p>Tips: the reference implementation is to first identify difference between the current frame and the last frame, then perform update instead of call <code>LCD_Clear</code> and re-draw. You may come up with your own implementation, as long as your screen does not blink.</p><hr><p>Dark mode</p><p>Author: Songhui Cao (<code>caosh2022</code>).</p><p>Verified by: Luojia Hu (<code>hulj</code>)</p><p>Last modified:Â 2024-05-21</p>]]></content>
    
    
    <summary type="html">Flappy-bird game on Longan Nano. (Individual Project)</summary>
    
    
    
    <category term="å­¦ä¹ " scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="è®¡ç®—æœºç§‘å­¦" scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/"/>
    
    
    <category term="ä½œä¸š" scheme="https://zivmax.top/tags/%E4%BD%9C%E4%B8%9A/"/>
    
    <category term="ä¸Šç§‘å¤§" scheme="https://zivmax.top/tags/%E4%B8%8A%E7%A7%91%E5%A4%A7/"/>
    
    <category term="CS110" scheme="https://zivmax.top/tags/CS110/"/>
    
    <category term="è®¡ç®—æœºä½“ç³»æ¶æ„" scheme="https://zivmax.top/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>CS110 Project 4</title>
    <link href="https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/05/30/CS110/CS110-Project-4/"/>
    <id>https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/05/30/CS110/CS110-Project-4/</id>
    <published>2024-05-30T03:01:25.000Z</published>
    <updated>2024-06-04T07:17:04.214Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h2 id="Project-4">Project 4</h2><p><a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/index.html">Computer Architecture I</a> @ <a href="https://www.shanghaitech.edu.cn/">ShanghaiTech University</a></p><h2 id="1-Introduction">1. Introduction</h2><p>First, read the code snippet below, which is a simple program that simulates heat conduction in a 2D plate.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (k = <span class="number">0</span>; k &lt; step; k++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">1</span>; i &lt; N - <span class="number">1</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">1</span>; j &lt; N - <span class="number">1</span>; j++) &#123;</span><br><span class="line">            p_next[i * N + j] = (p[(i - <span class="number">1</span>) * N + j] + p[(i + <span class="number">1</span>) * N + j] + p[i * N + j + <span class="number">1</span>] + p[i * N + j - <span class="number">1</span>]) / <span class="number">4.0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">double</span> *temp = p;</span><br><span class="line">    p = p_next;</span><br><span class="line">    p_next = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Here, <code>p</code> and <code>p_next</code> are 2D arrays representing the current and next state of the plate, respectively. The loop iterates over each cell in the 2D array and calculates the next state based on the surrounding cells.</p><h2 id="2-Getting-started">2. Getting started</h2><p>Make sure you read through the entire specification before starting the project.</p><p>Just like all other programming assignments/projects this semester, you will obtain your files from the GitHub classroom, the link is <a href="https://classroom.github.com/a/c5sSJmfd">here</a>.</p><h3 id="Files">Files</h3><p>The framework contains the following files:</p><ul><li><strong>test.c</strong>: Contains the test framework code.</li><li><strong>baseline.c</strong>: Contains the baseline implementation.</li><li><strong>impl.c</strong>: You need to complete the function <code>impl(int N, int step, double *p)</code>. When the function returns, the array pointed to by <code>p</code> should contain the state after <code>step</code> iterations from its initial values. However, to enable more kinds of optimization techniques, there is a special formula to calculate the error between your implementation and the baseline implementation. Please <strong>READ THE FOLLOWING SECTION CAREFULLY</strong>, or you may <strong>LOSE POINTS!</strong></li></ul><h3 id="Validation">Validation</h3><p>We will calculate the error between the state of your <code>p</code> matrix and the baseline according to the following rules:</p><ul><li><p>Assume the matrix side length is <code>N</code> and the number of iterations is <code>step</code>.</p></li><li><p>Let the result matrix after <code>step</code> iterations using the baseline algorithm be <code>p^&#123;step&#125;</code>, and the result after <code>step-1</code> iterations be <code>p^&#123;step-1&#125;</code>. Denote the value at a point in the matrix as <code>p_&#123;i,j&#125;</code>.</p></li><li><p>For each point <code>p_&#123;i,j&#125;</code> in your <code>p</code>, the error is calculated as follows:</p><p><img src="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/project/p4/pic/error_formula.png" alt="Error Formula" loading="lazy"></p></li><li><p>The total error is the sum of the errors of all points. Your total error should less than a certain value (1e-5 in the framework code). If you believe this precision requirement is too harsh, please contact us, and we may loosen the requirement based on our evaluation.</p></li></ul><h4 id="Example">Example</h4><p>Assuming the baseline's values after <code>step</code> iterations are as shown in the figure below:</p><p><img src="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/project/p4/pic/iteration_steps.png" alt="Iteration Steps" loading="lazy"></p><p>Then, as long as your result is close enough to any of the ones shown in the figure below (only partial examples are displayed), your result will be considered valid.</p><p><img src="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/project/p4/pic/answer_examples.png" alt="Answer Examples" loading="lazy"></p><h2 id="3-Optimization-Techniques">3. Optimization Techniques</h2><p>You can find many obvious optimizations in the implementation we provide, based on what you have learned in Computer Architecture. We are listing some of the possible approaches below:</p><h3 id="Compiler">Compiler</h3><p>There are some optimization flags that can be turned on in GCC. The available flags for x86 ISA from GCC are listed <a href="https://gcc.gnu.org/onlinedocs/gcc/x86-Options.html">here</a>. However, we hope that you can do most of the optimization yourself, instead of relying on the compiler. So in this project, you are not allowed to modify the <code>Makefile</code>.</p><h3 id="Multithreading">Multithreading</h3><p>The outer loop of the algorithm is a good candidate for multithreading. You can use <code>OpenMP</code> or <code>pthread</code> to parallelize.</p><h3 id="SIMD-instructions">SIMD instructions</h3><p>SIMD processes multiple data in parallel. Part of this algorithm is also a good candidate for SIMD instructions.</p><h3 id="Loop-unrolling">Loop unrolling</h3><p>Loop unrolling can be used to reduce the overhead of the loop.</p><h3 id="Cache-Blocking">Cache Blocking</h3><p>The main idea here is to make memory access more efficient and exploit memory locality.</p><h2 id="4-Grading-Policy">4. Grading Policy</h2><p>The total score for this project is 100:</p><ol><li>We will first run your code on small test cases on GradeScope (automatically). If your program does not produce the correct result, you will receive 0 points. As always, your code should not have any memory issues.</li><li>After the deadline, we will test your code on our local machine and new test cases. Your grade on this part depends on the speedup of your code. If your code runs slower than adding the baseline (what we've provided), you will receive 0 points.</li><li>If your code runs at the same speed with bare <code>OpenMP</code>, you will receive 50 points.</li><li>If your code ranks among the top 30 in performance in the class, you will receive <strong>100 points</strong>.</li><li>For the rest, we will give a linear grade according to the speedup rate.<ul><li>If your speedup is <code>3.0</code> and the bare <code>OpenMP</code> speedup is <code>5.0</code>, then your score will be <code>(3.0 / 5.0) * 50 = 30.0</code> points.</li><li>If your speedup is <code>7.3</code> and the bare <code>OpenMP</code> speedup is <code>5.0</code>, while the 30th fastest code is <code>10.0</code> then your score will be <code>50 + ((7.3 - 5.0) / (10.0 - 5.0)) * 50 = 73.0</code> points.</li></ul></li><li>If your code crashes during our test, you will receive 0 points.</li><li>Your submission must contain meaningful use of multithreading technique and <a href="https://software.intel.com/sites/landingpage/IntrinsicsGuide/">Intel SIMD intrinsics</a>. Otherwise, you will get 0 points. This check will be done manually after the deadline so there will be no feedback on this from GradeScope.</li></ol><h2 id="5-Parameters-for-Speed-Test">5. Parameters for Speed Test</h2><p>For the final speed test, we will use a map with <code>N=2000</code>.</p><h2 id="6-Server-Configurations">6. Server Configurations</h2><p>The GrapeScope server is used for correctness check only because it has limited hardware resources and unstable performance.</p><h3 id="Toast-Lab-Server-Used-for-final-speed-test">Toast Lab Server (Used for final speed test):</h3><ul><li><p>CPU: Intel Xeon E5-2690 v4 2.6 GHz, 14 cores (28 threads) <a href="https://ark.intel.com/content/www/us/en/ark/products/91770/intel-xeon-processor-e52690-v4-35m-cache-2-60-ghz.html">Details here</a></p><ul><li>L1 i-cache 32 KiB (per core)</li><li>L1 d-cache 32 KiB (per core)</li><li>L2 cache 3.5 MiB (unified)</li><li>L3 cache 35 MiB (unified)</li></ul></li><li><p>Memory: 120 GiB</p></li></ul><h3 id="More-about-the-final-speed-test">More about the final speed test</h3><p>The final test server in fact has two cpus that uses the NUMA architecture which is commonly used in modern servers. In the final test we will use numactl to run the program in a NUMA node. This is to avoid the impact of NUMA's memory arrangement on openmp. If you're interested, you can find out what numa is and why it has an effect on openmp. But we're not asking too much here, you can simply think of it as having only one CPU with 14 cores, as the same as the server configurations listed above.</p><hr><p>Letong Han &lt;<code>hanlt</code> AT <code>shanghaitech.edu.cn</code>&gt;<br>Suting Chen &lt;<code>chenst</code> AT <code>shanghaitech.edu.cn</code>&gt;</p><p>Last modified: 2024-05-31</p>]]></content>
    
    
    <summary type="html">Finsh the given optimization task. (Individual Project)</summary>
    
    
    
    <category term="å­¦ä¹ " scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="è®¡ç®—æœºç§‘å­¦" scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/"/>
    
    
    <category term="ä½œä¸š" scheme="https://zivmax.top/tags/%E4%BD%9C%E4%B8%9A/"/>
    
    <category term="ä¸Šç§‘å¤§" scheme="https://zivmax.top/tags/%E4%B8%8A%E7%A7%91%E5%A4%A7/"/>
    
    <category term="CS110" scheme="https://zivmax.top/tags/CS110/"/>
    
    <category term="è®¡ç®—æœºä½“ç³»æ¶æ„" scheme="https://zivmax.top/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>CS110 Homework [8]</title>
    <link href="https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/05/28/CS110/CS110-Homework-8/"/>
    <id>https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/05/28/CS110/CS110-Homework-8/</id>
    <published>2024-05-28T03:21:15.000Z</published>
    <updated>2024-06-04T07:14:25.904Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p><em><strong>HW 7 are handwritten.</strong></em></p><p>You can get the template code <a href="https://classroom.github.com/a/NeKHp1pi">here</a></p><span id="more"></span><h1 id="Homework-8">Homework 8</h1><p><a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/index.html">Computer Architecture I</a> @ <a href="https://www.shanghaitech.edu.cn/">ShanghaiTech University</a></p><p>In this assignment, you will need to implement a toy simulator, where you can simulate the behavior of a paged virtual memory system and a fully-associative TLB.</p><h2 id="1-Introduction">1. Introduction</h2><p>Before you begin, make sure that you can answer the following questions:</p><ol><li>What is address translation?</li><li>What is a multilevel page table?</li><li>What does TLB stores?</li><li>When do you need to flush TLB?</li></ol><h2 id="2-File-structure">2. File structure</h2><p>You shall see the following files in the starter repository:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">root -+-- CMakeLists.txt</span><br><span class="line">      |-- main.c</span><br><span class="line">      |-- Makefile</span><br><span class="line">      +-- inc</span><br><span class="line">      |    |-- memory.h</span><br><span class="line">      |    |-- process.h</span><br><span class="line">      |    |-- PTE.h</span><br><span class="line">      |    |-- simulator.h</span><br><span class="line">      |    |-- TLB.h</span><br><span class="line">      |    +-- utils.h</span><br><span class="line">      |</span><br><span class="line">      +-- src</span><br><span class="line">           |-- memory.c</span><br><span class="line">           |-- process.c</span><br><span class="line">           |-- simulator.c</span><br><span class="line">           +-- TLB.c</span><br></pre></td></tr></table></figure><p>You will need one of <code>CMakeLists.txt</code> and <code>Makefile</code> to compile. You pick either of them. Gradescope will use the <code>Makefile</code>.<br>Although we recommend you read every single line of code, it is possible to finish the assignment without even opening <code>memory.c</code> and <code>process.c</code>, where the resource allocation code is given.<br>You will need to implement the following functions in the corresponding files:</p><ul><li><code>simulator.h/c</code>: <code>status_t allocate_page(Process *process, addr_t address, addr_t physical_address)</code></li><li><code>simulator.h/c</code>: <code>status_t deallocate_page(Process *process, addr_t address)</code></li><li><code>simulator.h/c</code>: <code>status_t write_byte(Process *process, addr_t address, const byte_t *byte)</code></li><li><code>simulator.h/c</code>: <code>status_t read_byte(Process *process, addr_t address, byte_t *byte)</code></li><li><code>TLB.h/c</code>: <code>unsigned read_TLB(proc_id_t pid, unsigned vpn)</code></li><li><code>TLB.h/c</code>: <code>void write_TLB(proc_id_t pid, unsigned vpn, unsigned ppn)</code></li><li><code>TLB.h/c</code>: <code>void remove_TLB(proc_id_t pid, unsigned vpn)</code></li></ul><h2 id="3-Function-description">3. Function description</h2><h3 id="3-1-Simulator-in-file-simulator-h-c">3.1. Simulator (in file <code>simulator.h/c</code>)</h3><p>The online judge will test these four apis. So you should never modify the function signature of the four functions.<br>The simulator is a two-level paging system, where the L1 page table takes <code>#define L1_BITS 12</code> bits as the index, and the L2 page table takes <code>#define L2_BITS 8</code> bits.<br>You will need to manage memory properly and do page table walk to pass the testcases.</p><h4 id="status-t-allocate-page-Process-process-addr-t-address-addr-t-physical-address"><code>status_t allocate_page(Process *process, addr_t address, addr_t physical_address)</code>:</h4><ul><li>Allocate a page for the process.</li><li><code>process</code>: the process that we're working with.</li><li><code>address</code>: the virtual address of the page.</li><li><code>physical_address</code>: the physical address of the page.</li><li>Return <code>SUCCESS</code> if the page is successfully allocated, otherwise return <code>ERROR</code>.</li></ul><p>Note that <code>address</code> and <code>physical_address</code> are both addresses instead of page numbers, and the input is guaranteed to be page-aligned. It is possible (and should work perfectly) that two different virtual pages are mapped to the same physical page, no matter whether the two virtual pages are in the same process or not.<br>To pass the testcases, you should return <code>ERROR</code> in these two scenarios: If the physical memory is not large enough to provide the required physical page. If the virtual page has already been allocated.</p><h4 id="status-t-deallocate-page-Process-process-addr-t-address"><code>status_t deallocate_page(Process *process, addr_t address)</code>:</h4><ul><li>Deallocate a page for the process.</li><li><code>process</code>: the process that we're working with.</li><li><code>address</code>: the virtual address of the page.</li><li>Return <code>SUCCESS</code> if the page is successfully deallocated, otherwise return <code>ERROR</code>.</li></ul><p>Similar to the allocation process above, the input is guaranteed to be page-aligned. It is possible that the virtual page is not allocated, you should return <code>ERROR</code> in this case. In addition, if the last page in the L2 page table is deallocated, you should also deallocate the page table to save memory.</p><h4 id="status-t-write-byte-Process-process-addr-t-address-const-byte-t-byte-and-status-t-read-byte-Process-process-addr-t-address-byte-t-byte"><code>status_t write_byte(Process *process, addr_t address, const byte_t *byte)</code> and <code>status_t read_byte(Process *process, addr_t address, byte_t *byte)</code>:</h4><p>You will need to implement TLB before implementing these functions and pass the testcases 11~20. These two functions are used to read and write a byte given the process and the virtual address. You don't need to care about the CPU cache in this assignment.<br>The behaviour of the two functions is trivial, write to the <code>address</code> with the value of <code>const byte_t *byte</code>, or read the value from the <code>address</code> and copy it to <code>byte_t *byte</code>.</p><ul><li>No matter reading or writing, return <code>ERROR</code> if the address is not allocated.</li><li>If the address translation is a TLB hit, return <code>TLB_HIT</code></li><li>Otherwise, return <code>SUCCESS</code></li><li>We will also check whether you're reading the right value from memory.</li></ul><p>For simplicity, you can safely assume that <strong>every byte you read has been explicitly written before</strong>. So you don't need to care about the uninitialized memory.</p><h3 id="3-2-TLB-rules-implement-in-file-TLB-h-c">3.2. TLB rules (implement in file <code>TLB.h/c</code>)</h3><p>You can freely modify the TLB structure as long as it compiles and works as expected. The structure we've provided is just a suggestion.<br>The TLB is fully-associative with the replacement policy of LRU. We've provided a <code>clock</code> in <code>struct TLB</code> and <code>lut</code> in <code>TLB_entry</code> to help you implement the LRU policy. You can also have your own implementation.<br>To get things right, you just need to consider the operations of TLB: read, write, remove, and flush.</p><h4 id="read">read</h4><p>The process is triggered by a memory visit. The TLB will be checked first. If it is a TLB hit, the physical page number will be returned.</p><h4 id="write-or-update">write (or update)</h4><p>However, if you experience TLB miss in the &quot;read&quot; process above, there is a need for a page table walk. After the page table walk, the TLB should be updated with the new entry.<br><strong>Note that allocating page does not update any TLB entries!</strong><br>Before you continue reading, make sure you're not messing TLB read/write with memory read/write.</p><h4 id="remove">remove</h4><p>When a page is deallocated, the TLB should be removed immediately to prevent illegal visits to the physical page.</p><h4 id="flush">flush</h4><p>Flush is trivial in this assignment, it just means invalidate all the TLB entries. You can implement it as a loop that sets all the valid bits to 0.<br>Your code should trigger the flush operation <strong>if the context of TLB will change</strong>.<br>We call it a context switch if you're trying to <strong>update</strong> the TLB entry from a process that has a different pid compared to the current one. The pid of a process can be obtained by <code>process-&gt;pid</code>, and the pid of the TLB can be obtained by <code>tlb-&gt;pid</code>.</p><h2 id="4-Submission">4. Submission</h2><ol><li>Implement</li><li>Debug</li><li><code>git commit</code></li><li><code>git push</code></li><li>Submit on Gradescope</li><li>Congratulations! or <code>goto step_2;</code></li></ol><h2 id="5-Code-quality">5. Code quality</h2><ul><li>Your code with be compiled with <code>-Wpedantic -Wall -Wextra -Wvla -Werror -std=c11</code></li><li>No memory leak is allowed, <code>Valgrind</code> will be used to detect memory leaks on runtime.</li><li>It is possible to pass multiple testcases by simply <code>return SUCCESS</code>. We will manually check this kind of (or similar) implementation and will give 0 points for it.</li></ul><hr><p>The following TAs are responsible for this homework:</p><p>Suting Chen <chenst at shanghaitech.edu.cn><br>Lei Jia <jialei2022 at shanghaitech.edu.cn></jialei2022></chenst></p><p>Last modified: 2024-05-24</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;em&gt;&lt;strong&gt;HW 7 are handwritten.&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;You can get the template code &lt;a href=&quot;https://classroom.github.com/a/NeKHp1pi&quot;&gt;here&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="å­¦ä¹ " scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="è®¡ç®—æœºç§‘å­¦" scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/"/>
    
    
    <category term="ä½œä¸š" scheme="https://zivmax.top/tags/%E4%BD%9C%E4%B8%9A/"/>
    
    <category term="ä¸Šç§‘å¤§" scheme="https://zivmax.top/tags/%E4%B8%8A%E7%A7%91%E5%A4%A7/"/>
    
    <category term="CS110" scheme="https://zivmax.top/tags/CS110/"/>
    
    <category term="è®¡ç®—æœºä½“ç³»æ¶æ„" scheme="https://zivmax.top/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>CS110 Lab [13]</title>
    <link href="https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/05/28/CS110/CS110-Lab-13/"/>
    <id>https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/05/28/CS110/CS110-Lab-13/</id>
    <published>2024-05-28T03:03:54.000Z</published>
    <updated>2024-06-04T07:12:31.241Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p><strong>Goals</strong></p><ul><li><p>Learn about basic OpenMP directives</p></li><li><p>Write code to learn two ways of how <code>#pragma omp for</code> could be implemented. Learn about false sharing.</p></li><li><p>Learn about basic multiprocessing programming</p></li></ul><span id="more"></span><h1 id="Lab-13">Lab 13</h1><p><a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/index.html">Computer Architecture I</a> @ <a href="https://www.shanghaitech.edu.cn/">ShanghaiTech University</a></p><h2 id="Setup">Setup</h2><p>Download source code from <a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/labs/Lab13/lab13.tar">here</a></p><h2 id="Multi-threading-programming-using-OpenMP">Multi-threading programming using OpenMP</h2><p>OpenMP stands for Open specification for Multi-Processing. It is a framework that offers a C interface. It is not a built-in part of the language â€“ most OpenMP features are directives to the compiler.</p><p>Benefits of multithreaded programming using OpenMP include:</p><ul><li>Very simple interface allows a programmer to separate a program into serial regions and parallel regions.</li><li>Convenient synchronization control (Data race bugs in POSIX threads are very hard to trace).</li></ul><p>In this lab, we will practice on basic usage of OpenMP.</p><h3 id="Exercise-1-OpenMP-Hello-World">Exercise 1 - OpenMP Hello World</h3><p>Consider the implementation of Hello World (hello.c):</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">main</span> <span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="meta">#<span class="keyword">pragma</span> omp parallel</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="type">int</span> thread_ID = omp_get_thread_num ();</span><br><span class="line">    <span class="built_in">printf</span> (<span class="string">&quot;hello world %d\n&quot;</span>, thread_ID);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>This program will fork off the default number of threads and each thread will print out &quot;hello world&quot; in addition to which thread number it is. You can change the number of OpenMP threads by setting the environment variable OMP_NUM_THREADS or by using the <a href="https://gcc.gnu.org/onlinedocs/libgomp/omp_005fset_005fnum_005fthreads.html">omp_set_num_threads</a> function in your program. The #pragma tells the compiler that the rest of the line is a directive, and in this case it is omp parallel. omp declares that it is for OpenMP and parallel says the following code block (what is contained in { }) can be executed in parallel. Give it a try:</p><p>$ make hello &amp;&amp; ./hello</p><p>If you run ./hello a couple of times, you should see that the numbers are not always in numerical order and will most likely vary across runs. Think about the reason and explain to your TA.</p><p>It is also vital to note that the variable thread_ID is local to a specific thread and not shared across all threads. In general with OpenMP, variables declared inside the parallel block will be private to each thread, but variables declared outside will be global and accessible by all the threads.</p><h3 id="Exercise-2-Matrix-Multiplication">Exercise 2 - Matrix Multiplication</h3><p>Matrix multiplication is a common operation in scientific computing and machine learning. In this exercise, we will optimize a matrix multiplication implementation using OpenMP. The matrix multiplication is implemented in matmul.c.</p><p>Your task is to optimize matmul.c (speedup may plateau as the number of threads continues to increase). To aid you in this process, two useful OpenMP functions are:</p><ul><li><a href="https://gcc.gnu.org/onlinedocs/libgomp/omp_005fget_005fnum_005fthreads.html">int omp_get_num_threads()</a></li><li><a href="https://gcc.gnu.org/onlinedocs/libgomp/omp_005fget_005fthread_005fnum.html">int omp_get_thread_num()</a></li></ul><p>Divide up the work for each thread through two different methods (write different code for each of these methods):</p><ol><li>First task, <strong>slicing</strong>: have each thread handle adjacent rows: i.e. Thread 0 will compute the rows at indices i such that i % <code>omp_get_num_threads()</code> is 0, Thread 1 will compute the rows where i % <code>omp_get_num_threads()</code> is 1, etc.</li><li>Second task, <strong>chunking</strong>: if there are N threads, break the matrices into N contiguous chunks along the first dimension (the rows), and have each thread compute the product of the chunk of matrix A and the entire matrix B.</li></ol><p>Hints:</p><ul><li>Use the two functions we listed above somehow in the for loop to choose which rows each thread handles in the slicing method.</li><li>You may need a special case to prevent going out of bounds for matmul_optimized_chunks. Don't be afraid to write one.</li><li>Be careful about cache line alignment and false sharing. To avoid false sharing, each thread should have its own output buffer to store the computed rows.</li></ul><p>For this exercise, we are asking you to manually split the work amongst threads since this is a common pattern used in software optimization. The designers of OpenMP actually made the #pragma omp for directive to automatically split up independent work. Here is the function rewritten using it. <strong>You may NOT use this directive in your solution to this exercise</strong>.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">matmul</span> <span class="params">(<span class="type">double</span> *a, <span class="type">double</span> *b, <span class="type">double</span> *c)</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="meta">#<span class="keyword">pragma</span> omp parallel for </span></span><br><span class="line">  <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; MATRIX_SIZE; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; MATRIX_SIZE; j++) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> k = <span class="number">0</span>; k &lt; MATRIX_SIZE; k++) &#123;</span><br><span class="line">        c[i * MATRIX_SIZE + j] += a[i * MATRIX_SIZE + k] * b[k * MATRIX_SIZE + j];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Test the performance of your code with:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ make matmul &amp;&amp; ./matmul</span><br></pre></td></tr></table></figure><h4 id="Checkoff">Checkoff</h4><ul><li>Show the modified code for both the slicing and chunking methods in matmul.c.</li><li>Describe the performance differences between the methods you implemented and try to analyze the reason(Run more times to find a common pattern instead of just running once).</li><li>Explain why using OpenMP may not necessarily lead to optimal performance on a single compute node with multiple cores.</li><li>Bonus: Implement an additional optimization and discuss its impact on performance.</li></ul><h3 id="Exercise-3-Dot-Product">Exercise 3 - Dot Product</h3><p>The next task is to compute the dot product of two vectors. At first glance, implementing this might seem not too different from v_add, but the challenge is how to sum up all the products into the same variable (reduction). A sloppy handling of reduction may lead to <strong>data races</strong>: all the threads are trying to read and write to the same address simultaneously. One solution is to use a <strong>critical section</strong>. The code in a critical section can only be executed by a single thread at any given time. Thus, having a critical section naturally prevents multiple threads from reading and writing to the same data, a problem that would otherwise lead to data races. One way to avoid data races is to use the critical primitive provided by OpenMP. An implementation, dotp_naive in dotp.c, protects the sum with a critical section.</p><p>Try out the code (make dotp &amp;&amp;./dotp). Notice how the performance gets much worse as the number of threads goes up. By putting all the work of reduction in a critical section, we have flattened the parallelism and made it so only one thread can do useful work at a time (not exactly the idea behind thread-level parallelism). This contention is problematic; each thread is constantly fighting for the critical section and only one is making any progress at any given time. As the number of threads goes up, so does the contention, and the performance pays the price. Can we reduce the number of times that each thread needs to use a critical section?</p><p>In this exercise, you have 2 tasks:</p><ol><li>Fix the performance problem without using OpenMP's built-in Reduction keyword.</li><li>Fix the performance problem using OpenMP's built-in Reduction keyword. (Note that your code should no longer contain #pragma omp critical)</li></ol><h4 id="Checkoff-2">Checkoff</h4><ul><li>Show the TA your manual fix to dotp.c that gets speedup over the single threaded case.</li><li>Show the TA your Reduction keyword fix for dotp.c, and explain the difference in performance.</li></ul><hr><p>Suting Chen &lt;<code>chenst</code> AT <code>shanghaitech.edu.cn</code>&gt;</p><p>Last modified: 2024-04-24</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;Goals&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Learn about basic OpenMP directives&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Write code to learn two ways of how &lt;code&gt;#pragma omp for&lt;/code&gt; could be implemented. Learn about false sharing.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Learn about basic multiprocessing programming&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="å­¦ä¹ " scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="è®¡ç®—æœºç§‘å­¦" scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/"/>
    
    
    <category term="ä½œä¸š" scheme="https://zivmax.top/tags/%E4%BD%9C%E4%B8%9A/"/>
    
    <category term="ä¸Šç§‘å¤§" scheme="https://zivmax.top/tags/%E4%B8%8A%E7%A7%91%E5%A4%A7/"/>
    
    <category term="CS110" scheme="https://zivmax.top/tags/CS110/"/>
    
    <category term="è®¡ç®—æœºä½“ç³»æ¶æ„" scheme="https://zivmax.top/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>CS110 Lab [12]</title>
    <link href="https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/05/21/CS110/CS110-Lab-12/"/>
    <id>https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/05/21/CS110/CS110-Lab-12/</id>
    <published>2024-05-21T03:03:54.000Z</published>
    <updated>2024-06-04T07:20:21.262Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p><strong>Goals</strong></p><ul><li><p>Hack <code>platformio</code> for a Stable Development Environment.</p></li><li><p>Understand C and RISC-V Programming for Longan Nano.</p></li><li><p>Learn to Modify C Code for Specific Behavior on MCU.</p></li><li><p>Learn to Modify RISC-V Code for Specific Behavior.</p></li><li><p>Learn to Debugging Without GDB.</p></li></ul><span id="more"></span><h1 id="Lab12">Lab12</h1><p>==<strong><em>Download Lab 12 Starter from <a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/labs/Lab12/lab12-starter-20240515.tar.gz">here</a>.</em></strong>==</p><p>To those Windows lovers: we CS110 TAs have noticed your determination on using Windows for CA1.</p><p>Lab 12 and Project 3 will have official Windows/x86-64 Linux/MAC support. See Piazza post <a href="https://piazza.com/class/lsvl55gd4jz4h0/post/281">@281</a> for MAC support.</p><p><strong>Read Piazza post <a href="https://piazza.com/class/lsvl55gd4jz4h0/post/270">@270</a> before asking any question!</strong></p><p><strong>Read Piazza post <a href="https://piazza.com/class/lsvl55gd4jz4h0/post/270">@270</a> before asking any question!</strong></p><p><strong>Read Piazza post <a href="https://piazza.com/class/lsvl55gd4jz4h0/post/270">@270</a> before asking any question!</strong></p><h2 id="Step-0-Identify-Objectives-for-Lab-12">Step 0: Identify Objectives for Lab 12</h2><ol><li>Hack <code>platformio</code> so that you have a stable developing environment for Lab 12 and Project 3. (Step 1)</li><li>Understand how to program C and RISC-V code for Longan Nano. (Steps 2-4)</li></ol><h2 id="Step-1-Hack-platformio">Step 1: Hack <code>platformio</code></h2><h3 id="Troubleshooting">Troubleshooting</h3><p>I know that most of you do not have the patience reading through all material, so troubleshooting will be delivered here.</p><ul><li><p>I cannot install PlatformIO.</p><ul><li><p>Use VSCode plugin to install PlatformIO. DO NOT USE <code>pip</code>!</p><ul><li>If you were using <code>pip</code> to install PlatformIO, try uninstall the <code>pip</code> version and switch to VSCode plugin. The <code>pip</code> version of PlatformIO may not cooperate well with VSCode, but it works as a command line tool anyway.</li></ul></li><li><p>(For x86-64 Linux user) See installation guide from post <a href="https://piazza.com/class/lsvl55gd4jz4h0/post/281">@281</a>. The troubleshooting section here is especially useful.</p></li><li><p>Search on the Internet. If the Internet does not provide practical solutions, post on Piazza.</p></li></ul></li><li><p>When I try to hack PlatformIO, some files do not exist, while others do. Why does this happen? What should I do?</p><ul><li>Why does this happen? Because you have not opened PlatformIO Home. Some files first appear after you have opened and see PlatformIO Home. Merely seeing â€œLoadingâ€¦â€ does not indicate that you have opened PlatformIO Home.</li><li>What should I do? If you can see some of these files, ignore this issue and go ahead as if all files exist. Otherwise re-install platformio.</li></ul></li></ul><h3 id="Why-Hacking-platformio">Why Hacking <code>platformio</code></h3><p>Until March 2024, the SDK for Longan Nano on <code>platformio</code> is maintained by Sipeed, the manufacturer for Longan Nano. Unluckily, Sipeed removed the whole repository for Longan Nano recently, perhaps because they are intentionally causing trouble to Longan Nano to promote Lichee series, the predecessor of Longan. Therefore, the legacy instructions for setting up developing environment descended from 2020 no longer works. Fortunately, despite all the difficulties, Songhui Cao managed to compose a working environment for Longan Nano based on <code>platformio</code>. It is tested on both Windows and Ubuntu LTS versions (20.04 and 22.04).</p><h3 id="Install-platformio">Install <code>platformio</code></h3><p>The typical installation for <code>platformio</code> is to use the <code>VSCode</code> extension, not <code>pip</code>. Install the <code>platformio</code> extension on <code>VSCode</code>, wait until the <code>platformio</code> home appears, then the <code>platformio</code> installation is complete.</p><h3 id="Hack-platformio">Hack <code>platformio</code></h3><p>Download the Longan development kit for CA1 from here: <a href="https://epan.shanghaitech.edu.cn/l/KFjNMO">https://epan.shanghaitech.edu.cn/l/KFjNMO</a> (Link valid until June 30, 2024)</p><p>Inflate the compressed archive, follow the instruction (<a href="http://readme.md/pdf">readme.md/pdf</a>) herein, and you should be able to proceed. If you encounter any unexpected trouble, search on the Internet. If the problem persists, post on Piazza.</p><p>The reason why this chaos converges is beyond the scope of this lab. You may find your own answer, but ignoring the underlying magic suffices for Lab 12 and Project 3. (Tip: If you are really curious about the magic, please read the source code of <code>platformio</code>)</p><h3 id="platformio-Basics"><code>platformio</code> Basics</h3><p>For introduction and detailed documentation to <code>platformio</code> and <code>scons</code>, please refer to their website. We only address issues that are vital to Lab 12 and Project 3 here. If you have no further plans about embedded software development, and aim at merely completing Lab 12 and Project 3, the following basics would be decent.</p><p><code>platformio</code> is capable of:</p><ol><li>Managing software development kits and toolchains for different boards.</li><li>Managing packages (like <code>apt</code>) for embedded software development.</li><li>Performing static code analysis and cooperate with <code>scons</code> to generate compiler commands so that the code can be automatically compiled.</li></ol><p><code>platformio</code> has only one configuration file in Lab 12 and Project 3: <code>platformio.ini</code>. From now, we use <code>&lt;lab root&gt;</code> to represent the folder that contains <code>platformio.ini</code>.</p><p>In Project 3 and Lab 12, you do not need direct command line interaction with PlatformIO.</p><h2 id="Step-2-Compile-the-Source-Code">Step 2: Compile the Source Code</h2><p><strong>From now, we use <code>&lt;lab root&gt;</code> to represent the folder that contains <code>platformio.ini</code>.</strong></p><p><strong>From now, we use <code>&lt;lab root&gt;</code> to represent the folder that contains <code>platformio.ini</code>.</strong></p><p><strong>From now, we use <code>&lt;lab root&gt;</code> to represent the folder that contains <code>platformio.ini</code>.</strong></p><h3 id="Troubleshooting-2">Troubleshooting</h3><ul><li><p>I am installing PlatformIO with <code>pip</code>. What should I do?</p><ul><li><p>If you do not want the PlatformIO integration with VSCode, use the following command to compile the source code. The result should be <code>&lt;lab root&gt;/.pio/build/sipeed-longan-nano/firmware.bin</code>.</p></li><li><p><code>cd &lt;lab root&gt;</code></p><p><code>python3 -m platformio run</code></p></li><li><p>Otherwise uninstall the <code>pip</code> version and use VSCode plugin to install PlatformIO.</p></li></ul></li><li><p>Command <code>cd &lt;lab root&gt;</code> fails. It appears that the working directory is not what I desire.</p><ul><li>The most common reason is that your path to <code>platformio.ini</code> has whitespace inside. Solution: change the path so that there is no whitespace, or use <code>&quot;&quot;</code> to quote the path, or insert <code>\</code> before a whitespace.</li></ul></li></ul><h3 id="Workflow-and-Explanation">Workflow and Explanation</h3><p><strong>Compile Lab 12 source code (on PC):</strong></p><p>If you are installing <code>platformio</code> with <code>VSCode</code>, then you do not need to directly interact with <code>platformio</code>. Use <code>VSCode</code> to open the folder <code>&lt;lab root&gt;</code>, in <code>platformio</code> panel, issue the build command to compile the source code. The result should be <code>&lt;lab root&gt;/.pio/build/sipeed-longan-nano/firmware.bin</code>.</p><ul><li><p>Explanation:</p><ul><li>You do not need knowledge for the compilation details to complete Lab 12 and Project 3. However, if you ARE interested in, here are the clues so that you can search on the Internet.</li><li>The ISA for your PC and the embedded device might be different, and the operation system will be different. Therefore, that the compiled executable cannot run natively on your host PC is a common phenomena. Generally, we call this (compiled executable cannot run natively on compiling host) <em>cross compile</em>.</li><li>Generally speaking, the compiler during cross compile is different from the default compiler. Therefore, the Longan development kit for CA1 includes a working compiler toolchain, which explains why the size of the Longan development kit for CA1 after de-compression is so large.</li><li>You may notice that <code>platformio</code> does not generate <code>CMakeLists.txt</code> or <code>Makefile</code>. In fact, <code>platformio</code> performs static code analysis and cooperates with <code>scons</code> to generate compiler commands.</li></ul></li></ul><p><strong>Enter DFU mode (on Longan Nano):</strong></p><p>Same as Lab 11 (Longan Nano Part).</p><p><strong>Download (write) to device (on PC):</strong></p><p>Same as Lab 11 (Longan Nano Part). Remember to replace the <code>.bin</code> file path to <code>&lt;lab root&gt;/.pio/build/sipeed-longan-nano/firmware.bin</code>.</p><p><strong>Leave DFU mode (Windows version: on PC/Longan Nano; Linux version: on Longan Nano)</strong></p><p>Same as Lab 11 (Longan Nano Part).</p><h3 id="Workflow-Completion-Self-Check">Workflow Completion Self-Check</h3><p>Same as Lab 11 (Longan Nano Part). The released source code is the source code for Lab 11 (Longan Nano Part), so the behavior should be exactly the same.</p><h2 id="Step-3-Modify-C-Code">Step 3: Modify C Code</h2><p>Modify C code so that the text <code>TEST</code> on the screen appears red instead of green when the joystick is pushed down. Also, fix the correspondence between SW1, SW2, and their text on screen.</p><p>You can only add/delete/modify files in directory <code>&lt;lab root&gt;</code>. We do not enforce any other restriction on what you modify for this step.</p><p>The reference implementation modifies less than 10 lines of C code.</p><h2 id="Step-4-Modify-RISCV-Code">Step 4: Modify RISCV Code</h2><p>Modify the RISCV code so that you can see a rectangular on screen.</p><p>Sample RISCV code are in <code>&lt;lab root&gt;/assembly</code>. Use this to your advantage.</p><p>You can only modify RISCV code in <code>&lt;lab root&gt;</code>. We do not enforce any other restriction on what you modify for this step.</p><p>The reference implementation modifies/adds less than 10 lines of RISCV code.</p><h2 id="Hint-on-Debugging">Hint on Debugging</h2><p>Longan Nano does not support GDB, so you will need to display debugging message on something. In consideration that the peripheral board may interfere with Hardware Serial, the suggested way is to display the debugging message on the screen.</p><h2 id="Grading-Rubrics">Grading Rubrics</h2><p>Steps 0, 1, and 2 counts as no score. There is 2 point for step 3, and 1 points for step 4.</p><p>1 point: The correspondence between SW1, SW2, and their text on screen is fixed.</p><p>1 point: The text <code>TEST</code> on the screen appears red when the joystick is pushed down.</p><p>1 point: TA can see a rectangular on screen. And by reading your code, TAs are convinced that you use RISCV, instead of C or C keyword <code>asm</code>, to implement step 4.</p><p>Students are encouraged to merge steps 3 and 4 into one <code>firmware.bin</code> and show to TA only once. However, this counts as no score. Students may show TA step 3, then download firmware again, and show step 4.</p><p>Students are also encouraged to download the firmware into device before check.</p><p>Author: Songhui Cao <code>&lt;caosh2022&gt;</code></p><p>Verified By: Luojia Hu <code>&lt;hulj&gt;</code></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;Goals&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Hack &lt;code&gt;platformio&lt;/code&gt; for a Stable Development Environment.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Understand C and RISC-V Programming for Longan Nano.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Learn to Modify C Code for Specific Behavior on MCU.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Learn to Modify RISC-V Code for Specific Behavior.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Learn to Debugging Without GDB.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="å­¦ä¹ " scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="è®¡ç®—æœºç§‘å­¦" scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/"/>
    
    
    <category term="ä½œä¸š" scheme="https://zivmax.top/tags/%E4%BD%9C%E4%B8%9A/"/>
    
    <category term="ä¸Šç§‘å¤§" scheme="https://zivmax.top/tags/%E4%B8%8A%E7%A7%91%E5%A4%A7/"/>
    
    <category term="CS110" scheme="https://zivmax.top/tags/CS110/"/>
    
    <category term="è®¡ç®—æœºä½“ç³»æ¶æ„" scheme="https://zivmax.top/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>CS110 Homework [6]</title>
    <link href="https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/05/18/CS110/CS110-Homework-6/"/>
    <id>https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/05/18/CS110/CS110-Homework-6/</id>
    <published>2024-05-18T03:21:15.000Z</published>
    <updated>2024-05-22T13:17:14.599Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p><em><strong>HW 4, HW 5 are handwritten.</strong></em></p><p>You can get the template code <a href="https://classroom.github.com/a/OlfGnHG5">here</a></p><span id="more"></span><h1 id="Homework-6-Multi-level-Cache-Simulator">Homework 6: Multi-level Cache Simulator</h1><p><a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/">Computer Architecture I</a> <a href="http://www.shanghaitech.edu.cn/">ShanghaiTech University</a></p><h2 id="Introduction">Introduction</h2><p>Exploiting locality in the memory access with data cache is one of the key idea in CS110 Computer Architecture. In this homework, you are going to implement a two-level cache simulator.</p><h2 id="File-structure">File structure</h2><p>You should see files below in your starter code.</p><ul><li>main.c includes an exemplary dot-product computation program that employs the cache simulator. The implementation of environmental interfaces is also implemented in this file.</li><li>cache.c includes the implementation of the cache access functions, which should be currently empty. Feel free to add your own functions here.</li><li>cache.h includes declaratons of:<ul><li>the simulated cache structure</li><li>functions used to interact with cache, like read, write, etc.</li><li>some other helper functions</li></ul></li></ul><h2 id="Specification">Specification</h2><h3 id="Structure-Specification">Structure Specification</h3><p>We describe the meaning of some selected variables inside main structs here.</p><ul><li>struct cache_config is used for initialize cache.<ul><li>address_bits indicates the number of bits in the address</li><li>line_size indicates the cache line size in byte, guaranteed to be power of 2</li><li>lines indicates the number of cache lines in the cache, guaranteed to be power of 2</li><li>ways indicates how many lines within a set, i.e. associativity, guaranteed to be power of 2</li><li>write_back indicates whether the cache will follow write back policy. Otherwise, the cache will follow write through policy.</li></ul></li><li>struct cache_line is the simulated cache line.<ul><li>last_access is used for LRU replacement.</li><li>data is the array that stores data in each cache line. You should initialize it.</li></ul></li><li>struct cache is the simulated cache, which is the main struct.<ul><li>xx_bits represents the number of bits in this field</li><li>xx_mask is used to extract corresponding field. For example, you can get index of an address by (addr &amp; index_mask) &gt;&gt; offset_bits</li><li>lines is the array of cache lines. You should initialize it.</li><li>lower_cache is the pointer to L2 cache. It should be NULL in L2 cache.</li></ul></li></ul><h3 id="Functions-Specification">Functions Specification</h3><p>We describe the usage, parameters and returns for some functions here.</p><ul><li><p>cache_create : create a cache simulator(a struct cache variable)</p><ul><li>parameter:<ul><li>struct cache_config config sets of parameters this cache should follow</li><li>struct cache * lower_cache pointer to the lower level cache. If the cache is the last level cache, this parameter will be NULL</li></ul></li><li>returns: pointer to a struct cache variable. You should return NULL if memory allocation failed.</li></ul></li><li><p>cache_destroy : destroy a cache simulator and free all dynamic allocated memroy</p><ul><li>parameter:<ul><li>struct cache * cache pointer to the cache simulator you are going to destroyed.</li></ul></li><li>note: You should write the modified cache line back to memory. See comments in the initial code for the required eviction order.</li></ul></li><li><p>cache_read_byte : read one byte of data at a specific address</p><ul><li>parameter:<ul><li>struct cache* cache cache simulator to read from</li><li>uint32_t addr address to read</li><li>uint8_t * byte pointer to space to store the result</li></ul></li><li>returns: true on cache hit, false on cache miss.</li><li>note: Whether hit or miss is determined by L1 cache only.</li></ul></li><li><p>cache_write_byte : write one byte of data at a specific address</p><ul><li>parameter:<ul><li>struct cache* cache cache simulator to write from</li><li>uint32_t addr address to write</li><li>uint8_t byte the data to be written</li></ul></li><li>returns: true on cache hit, false on cache miss.</li><li>note: Whether hit or miss is determined by L1 cache only.</li></ul></li><li><p>mem_store is implemented for you and is used to store data into memory.</p><ul><li><p>parameter:</p></li><li><p>uint8_t * src pointer to source data to be stored</p></li><li><p>uint32_t addr address to store</p></li><li><p>uint32_t count size of data</p></li></ul></li><li><p>mem_load is implemented for you and is used to load data from memory.</p><ul><li><p>parameter:</p></li><li><p>uint8_t * dst pointer to space to store the loaded data</p></li><li><p>uint32_t addr address to load</p></li><li><p>uint32_t count size of data</p></li></ul></li><li><p>get_timestamp is implemented for you and will return current timestamp.</p></li></ul><h2 id="Task-Description">Task Description</h2><p>You are required to implement a 2-level cache in this homework. To simplify the task, we divide it into 2 parts</p><h3 id="Part-1-single-level-cache">Part 1: single-level cache</h3><p>In this part, you are going to implement a cache simultor with only a L1 cache. Your cache simulator should:</p><ul><li>has configurable associative, cache line size, total cache data capacity</li><li>works correctly with both write through and write back policy</li><li>employs LRU replacement policy</li></ul><p>You are required to follow some rules:</p><ul><li>last_access should be updated at every cache read/write, no matter hit or miss. You should call get_timestamp to get the system time.</li><li>For write-through policy, any modification should reach memory after the access is triggered. While for write-back policy, modicication will only reach memory when a cache line is evicted from the cache.</li><li>When finding a place for a new cache line, first try to find an invalid cache line. You should find the first invalid slot in a set. For example, if slot0 and slot3 are all empty, you should use slot0 first. If the set is full, apply LRU to evict one cache line</li><li>If there occurs a cache miss while writing, you should first read the corresponding cache line from memory and then finish the writting. NOTE THAT you should return a miss for a writing miss, not just writing down the data and return a hit.</li><li>The granularity between cache and memory should be one cache line, i.e. you should write/read a whole cache line to/from the memory</li></ul><p>To simplify your task and the grading, we provide a flow chart here to show the working process of write-back and write-through cache. Please strictly follow this process while implementing your simultor.</p><p><img src="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/homework/hw6-%E7%BD%91%E9%A1%B5/write-back.png" alt loading="lazy"> <img src="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/homework/hw6-%E7%BD%91%E9%A1%B5/write-through.png" alt loading="lazy"></p><h3 id="Part-2-two-level-cache">Part 2: two-level cache</h3><p>In part2, you are going to extend your simulator to a 2-level cache simulator. Each cache in a 2-level cache system should behave individually and follows the rules mentioned in part1.</p><p>Except those rules in part1, there are some additional rules for this part:</p><ul><li>Whether hit or miss for function cache_read_byte or cache_write_btye should be determined by the status of L1 cache in this part. For example, if L1 cache miss and L2 cache hit, you should return false.</li><li>The granularity between L1 and L2 cache should be one cache line. Thus, L1 cache should evict/load one cache line to/from L2 cache at one time. Please do not call multiply times of cache_read_byte/cache_write_byte. Instead, implementing new functions cache_read_cachelin/cache_write_cacheline for L2 cache may be better.</li><li>L1 cache should not access the memory directly. Only L2 cache can access the memory</li><li>Since L1 and L2 cache can differ in the cache configuration, you should take care of the tag field while transfer cache lines bewteen the two caches.</li><li>When a replacement in L1 cache occurs, make sure you first evcit the victim cache line to L2 cache, then read the needed cache line from L2 cache. THIS IS IMPORTANT FOR GRADING</li></ul><h2 id="Test">Test</h2><p>We provide a simple test dot_test in main.c. You can refer to it for how we test your simulator. The final test cases will be in the similar form. You are also highly recommend to write your own test cases by converting conventional applications into those using cache simulator interfaces. we will test whether you implement write through policy correctly by directly checking the memory</p><h2 id="Submission">Submission</h2><p>You should submit your code via Github. Please follow the guidance in Gradescope to submit your codes on Github.</p><hr><p>In Homework 6 are,</p><p>Chundong Wang &lt;<code>wangchd</code> AT <code>shanghaitech.edu.cn</code>&gt;<br>Siting Liu &lt;<code>liust</code> AT <code>shanghaitech.edu.cn</code>&gt;</p><p>and,</p><p>Linjie Ma &lt;<code>malj</code> AT <code>shanghaitech.edu.cn</code>&gt;<br>Qing Xu &lt;<code>xuqing2</code> AT <code>shanghaitech.edu.cn</code>&gt;</p><p>Last modified: 2024-05-12</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;em&gt;&lt;strong&gt;HW 4, HW 5 are handwritten.&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;You can get the template code &lt;a href=&quot;https://classroom.github.com/a/OlfGnHG5&quot;&gt;here&lt;/a&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="å­¦ä¹ " scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="è®¡ç®—æœºç§‘å­¦" scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/"/>
    
    
    <category term="ä½œä¸š" scheme="https://zivmax.top/tags/%E4%BD%9C%E4%B8%9A/"/>
    
    <category term="ä¸Šç§‘å¤§" scheme="https://zivmax.top/tags/%E4%B8%8A%E7%A7%91%E5%A4%A7/"/>
    
    <category term="CS110" scheme="https://zivmax.top/tags/CS110/"/>
    
    <category term="è®¡ç®—æœºä½“ç³»æ¶æ„" scheme="https://zivmax.top/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>Synchronizing Windows Fonts with WSL for LaTeX Typesetting</title>
    <link href="https://zivmax.top/%E7%BB%8F%E9%AA%8C/2024/05/15/Tutorials/Sync-Fonts-WSL/"/>
    <id>https://zivmax.top/%E7%BB%8F%E9%AA%8C/2024/05/15/Tutorials/Sync-Fonts-WSL/</id>
    <published>2024-05-15T02:30:00.000Z</published>
    <updated>2024-05-15T14:53:06.721Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>Recently, while working on my writing projects in WSL (Windows Subsystem for Linux), I encountered issues with the limited font selection when using XeLaTeX to compile my documents. XeLaTeX, a popular LaTeX compiler, relies on the system font library, which means maintaining the font library in WSL is crucial for a smooth typesetting experience. To address this problem, I decided to explore ways to synchronize the fonts installed on my Windows system with WSL.</p><span id="more"></span><h1 id="Problem">Problem</h1><p>WSL, being a separate Linux subsystem, does not automatically synchronize the fonts installed on the Windows system. This limitation results in a restricted font selection when using certain applications in WSL, such as XeLaTeX for document compilation. The lack of a diverse font library can impact the overall typesetting quality and hinder the creative process.</p><h1 id="Solution">Solution</h1><h2 id="Installing-Individual-Fonts-in-WSL">Installing Individual Fonts in WSL</h2><p>If you only need to install a specific font in WSL for your LaTeX projects, you can follow these steps:</p><ol><li><p>Check Font Location: Ensure that the font file (e.g., VictorMono.ttf) is located in a directory accessible from your WSL instance. For simplicity, you can copy the font file to your WSL home directory.</p></li><li><p>Install Font: Use the <code>fc-cache</code> command to update the font cache in WSL and make the font available. Open a terminal in your WSL instance and run the following commands:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo cp /mnt/c/path/to/VictorMono.ttf /usr/local/share/fonts/</span><br><span class="line">sudo fc-cache -fv</span><br></pre></td></tr></table></figure><p>Note that <code>/mnt/c</code> is the path to access the Windows C: drive from within WSL.</p></li><li><p>Verify Installation: Confirm that the font is installed by running the following command in your WSL terminal:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fc-list | grep &quot;Victor Mono&quot;</span><br></pre></td></tr></table></figure></li></ol><h2 id="Synchronizing-the-Windows-Fonts-Directory-with-WSL">Synchronizing the Windows Fonts Directory with WSL</h2><p>If you want to synchronize all the fonts installed on your Windows system with WSL, you can directly copy the entire fonts directory. Here's how:</p><ol><li><p>In your WSL terminal, create a directory to store the synchronized fonts, for example:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p ~/.fonts</span><br></pre></td></tr></table></figure></li><li><p>Copy the Windows fonts directory to the WSL fonts directory:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -r /mnt/c/Windows/Fonts/* ~/.fonts/</span><br></pre></td></tr></table></figure><p>This command copies all the font files from the Windows fonts directory <code>C:\Windows\Fonts</code> to the <code>~/.fonts</code> directory in WSL.</p></li><li><p>Update the font cache in WSL:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fc-cache -fv</span><br></pre></td></tr></table></figure><p>This command updates the font cache in WSL, making the newly installed fonts available.</p></li></ol><p>Now, you can use the fonts installed on your Windows system in various applications within WSL, including XeLaTeX for your LaTeX projects. Having a rich font library at your disposal greatly enhances the typesetting experience and allows for more creative control over your documents.</p><h1 id="Conclusion">Conclusion</h1><p>By following the steps outlined above, you can easily synchronize the fonts installed on your Windows system with WSL, either individually or by copying the entire fonts directory. This ensures a consistent font experience between Windows and the Linux environment in WSL, particularly when using XeLaTeX for document compilation.</p><p>Maintaining a diverse font library in WSL is essential for LaTeX users who rely on XeLaTeX for typesetting. It enables them to access a wide range of fonts, enhancing the visual appeal and professional quality of their documents.</p><p>I hope this article helps you in using custom fonts with XeLaTeX in WSL. If you have any questions or suggestions, feel free to leave a comment below.</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;Recently, while working on my writing projects in WSL (Windows Subsystem for Linux), I encountered issues with the limited font selection when using XeLaTeX to compile my documents. XeLaTeX, a popular LaTeX compiler, relies on the system font library, which means maintaining the font library in WSL is crucial for a smooth typesetting experience. To address this problem, I decided to explore ways to synchronize the fonts installed on my Windows system with WSL.&lt;/p&gt;</summary>
    
    
    
    <category term="ç»éªŒ" scheme="https://zivmax.top/categories/%E7%BB%8F%E9%AA%8C/"/>
    
    
    <category term="WSL" scheme="https://zivmax.top/tags/WSL/"/>
    
    <category term="Fonts" scheme="https://zivmax.top/tags/Fonts/"/>
    
    <category term="LaTeX" scheme="https://zivmax.top/tags/LaTeX/"/>
    
  </entry>
  
  <entry>
    <title>CS110 Lab [11]</title>
    <link href="https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/05/14/CS110/CS110-Lab-11/"/>
    <id>https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/05/14/CS110/CS110-Lab-11/</id>
    <published>2024-05-14T03:03:54.000Z</published>
    <updated>2024-06-04T07:11:38.402Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p><strong>Goals</strong></p><ul><li>Understand SIMD (Single Instruction, Multiple Data)</li><li>Implement Vector Addition using SIMD</li><li>Implement Matrix Multiplication using SIMD</li><li>Explore Loop Unrolling</li><li>Analyze Compiler Optimization</li></ul><span id="more"></span><h1 id="Lab-11">Lab 11</h1><p><a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/index.html">Computer Architecture I</a> @ <a href="https://www.shanghaitech.edu.cn/">ShanghaiTech University</a><br>Download the starter code <a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/labs/Lab11/lab11.tar">here</a></p><h2 id="Introduction-to-SIMD">Introduction to SIMD</h2><p><a href="https://en.wikipedia.org/wiki/Single_instruction,_multiple_data">SIMD</a> makes a program faster by executing the same instruction on multiple data at the same time. In this lab, we will use <a href="https://www.intel.com/content/www/us/en/docs/intrinsics-guide/index.html">Intel Intrinsics</a> to implement simple programs.</p><h2 id="Part-1-Vector-addition">Part 1: Vector addition</h2><p>In this part, you will implement a vector addition program using SIMD. Please &quot;translate&quot; naive_add() to simd_add().<br>You may use the following intrinsics, search in the <a href="https://www.intel.com/content/www/us/en/docs/intrinsics-guide/index.html">Intel Intrinsics Guide</a>:</p><ul><li>_mm_loadu_si128</li><li>_mm_storeu_si128</li><li>_mm_add_epi32</li></ul><p>Try to tell the difference of the following &quot;load&quot; intrisics:</p><ul><li>_mm_load_si128</li><li>_mm_loadu_si128</li><li>_mm_load_pd</li><li>_mm_load1_pd</li></ul><h2 id="Part-2-Matrix-multiplication">Part 2: Matrix multiplication</h2><p>In this part, you will implement a matrix multiplication program using SIMD. Please &quot;translate&quot; naive_matmul() to simd_matmul().<br>You may use the following intrinsics:</p><ul><li>_mm_setzero_ps</li><li>_mm_set1_ps</li><li>_mm_loadu_ps</li><li>_mm_add_ps</li><li>_mm_mul_ps</li><li>_mm_storeu_ps</li></ul><p>Explain why this makes the program faster.</p><h2 id="Part-3-Loop-unrolling">Part 3: Loop unrolling</h2><p>Read Wikipedia and try to understand the concept of loop unrolling:</p><ul><li><a href="https://en.wikipedia.org/wiki/Loop_unrolling">Loop unrolling</a></li></ul><p>Implement loop_unroll_matmul() and loop_unroll_simd_matmul(), explain the performance boost they brought.</p><h2 id="Part-4-Compiler-optimization">Part 4: Compiler optimization</h2><p>Run <code>make test</code>, explain why <code>-O3</code> makes the program much faster.<br>For checkup: Put this piece of code into <a href="https://godbolt.org/">godbolt.org</a> , compile them with a risc-v compiler, and tell the difference between <code>-O0</code> and <code>-O3</code>.</p><p>int a = 0;</p><p>void modify(int j) {<br>a += j;<br>}</p><p>int main() {<br>for (int i = 0; i &lt; 1000; i++) {<br>a += 1;<br>}</p><pre><code>for (int i = 0; i &lt; 1000; i++) &#123;    a += i;&#125;return a;</code></pre><p>}</p><hr><p>Suting Chen &lt;<code>chenst</code> AT <code>shanghaitech.edu.cn</code>&gt;</p><p>Last modified: 2024-04-24</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;Goals&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Understand SIMD (Single Instruction, Multiple Data)&lt;/li&gt;
&lt;li&gt;Implement Vector Addition using SIMD&lt;/li&gt;
&lt;li&gt;Implement Matrix Multiplication using SIMD&lt;/li&gt;
&lt;li&gt;Explore Loop Unrolling&lt;/li&gt;
&lt;li&gt;Analyze Compiler Optimization&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="å­¦ä¹ " scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="è®¡ç®—æœºç§‘å­¦" scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/"/>
    
    
    <category term="ä½œä¸š" scheme="https://zivmax.top/tags/%E4%BD%9C%E4%B8%9A/"/>
    
    <category term="ä¸Šç§‘å¤§" scheme="https://zivmax.top/tags/%E4%B8%8A%E7%A7%91%E5%A4%A7/"/>
    
    <category term="CS110" scheme="https://zivmax.top/tags/CS110/"/>
    
    <category term="è®¡ç®—æœºä½“ç³»æ¶æ„" scheme="https://zivmax.top/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>CS110 Project 2.2</title>
    <link href="https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/05/10/CS110/CS110-Project-2-2/"/>
    <id>https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/05/10/CS110/CS110-Project-2-2/</id>
    <published>2024-05-10T03:01:25.000Z</published>
    <updated>2024-05-21T10:12:12.421Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h1 id="Project-2-A-RV32C-Toy-CPU">Project 2: A RV32C Toy CPU</h1><h2 id="IMPORTANT-INFO-PLEASE-READ">IMPORTANT INFO - PLEASE READ</h2><p>The projects are part of your design project worth 2 credit points. As such they run in parallel to the actual course. So be aware that the due date for project and homework might be very close to each other! Start early and do not procrastinate.</p><h2 id="Overview">Overview</h2><p>In this <strong>individual</strong> project, you will embark on a two-step journey to create a toyÂ <strong>RVC CPU</strong>. Before diving into the task, please pay close attention to the following important points:</p><ul><li><p>Any behavior that violates course rules is strictly prohibited. This includes viewing, copying or plagiarizing other individuals' circuits and codes.Â <a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/lecture_notes/L01-Intro.pdf">Violators will face severe consequences</a></p></li><li><p>You are allowed to use any built-in blocks of Logisim, except for the <strong>System On a Chip</strong> group, throughout this project.</p></li><li><p>Save frequently and commit frequently! Try to save your code in Logisim every 5 minutes or so, and commit every time you produce a new feature, even if it is small.</p></li><li><p>Don't move around the given inputs and outputs in your circuit; this could lead to issues with the autograder.</p></li></ul><h2 id="Introduction">Introduction</h2><p>This excerpt from the RISC-V User-Level ISA Specification describes the current draft proposal for the RISC-V standard compressed instruction set extension, named â€œCâ€, which reduces static and dynamic code size by adding short 16-bit instruction encodings for common operations. The C extension can be added to any of the base ISAs (RV32, RV64, RV128), and we use the generic term â€œRVCâ€ to cover any of these. Typically, 50%â€“60% of the RISC-V instructions in a program can be replaced with RVC instructions, resulting in a 25%â€“30% code-size reduction. In this project, we will build a CPU that solely supports some of the RVC instructions.</p><h3 id="Project-2-1-Implement-CI-and-CR-type-instructions-DDL-May-7th">Project 2.1: Implement CI and CR type instructions (DDL: May 7th)</h3><p>In this part, your task involves implementing allÂ <strong>CI and CR type instructions</strong>Â shown inÂ <strong>The Instruction Set</strong> below. Feel free to refer to the advice provided in theÂ <strong>How to Get Started</strong>Â section to kickstart your circuit adventure.</p><h3 id="Project-2-2-Implement-all-instructions-DDL-May-26th">Project 2.2: Implement all instructions (DDL: May 26th)</h3><p>In this part, you need to implement all instructions shonw in The Instruction Set table below. Notice: A new template is provided for you to implement the instructions. You can copy and paste your circuit from the previous part to save time.</p><h3 id="The-Instruction-Set">The Instruction Set</h3><p>The instructions you need to implement are shown in the table below:</p><table><thead><tr><th>Format</th><th>ISA</th><th>OP[1:0]</th><th>Funct3</th><th>Implementation</th></tr></thead><tbody><tr><td>CR</td><td>add</td><td>10</td><td>100</td><td>x[rd] = x[rd] + x[rs2]</td></tr><tr><td>CR</td><td>mv</td><td>10</td><td>100</td><td>x[rd] = x[rs2]</td></tr><tr><td>CI</td><td>addi</td><td>01</td><td>000</td><td>x[rd] = x[rd] + sext(imm)</td></tr><tr><td>CI</td><td>slli</td><td>10</td><td>000</td><td>x[rd] = x[rd] &lt;&lt; uimm</td></tr><tr><td>CI</td><td>li</td><td>01</td><td>010</td><td>x[rd] = sext(imm)</td></tr><tr><td>CI</td><td>lui</td><td>01</td><td>011</td><td>x[rd] = sext(imm[17:12] &lt;&lt; 12)</td></tr><tr><td>CI</td><td>nop</td><td>01</td><td>000</td><td>None</td></tr><tr><td>CSS</td><td>swsp</td><td>10</td><td>110</td><td>M[x[2] + uimm][31:0] = x[rs2]</td></tr><tr><td>CIW</td><td>addi4spn</td><td>00</td><td>000</td><td>x[8+rd'] = x[2] + nzuimm</td></tr><tr><td>CL</td><td>lw</td><td>00</td><td>010</td><td>x[8+rd'] = sext(M[x[8+rs1'] + uimm][31:0])</td></tr><tr><td>CS</td><td>sw</td><td>00</td><td>110</td><td>M[x[8+rs1'] + uimm][31:0] = x[8+rs2']</td></tr><tr><td>CB</td><td>beqz</td><td>01</td><td>110</td><td>if (x[8+rs1'] == 0) pc += sext(offset)</td></tr><tr><td>CJ</td><td>j</td><td>01</td><td>101</td><td>pc += sext(offset)</td></tr><tr><td>CR</td><td>jr</td><td>10</td><td>100</td><td>pc = x[rs1]</td></tr></tbody></table><p>A detailed description of compressed instruction formats is provided in <a href="https://riscv.org/wp-content/uploads/2015/11/riscv-compressed-spec-v1.9.pdf">The RISC-V Compressed Instruction Set Manual, Version 1.9</a>. Some important information is also provided below. Please note that there are different versions of RVC instructions, and referencing other documents or webpages may result in failing the test.</p><h3 id="Instruction-Formats">Instruction Formats</h3><p><img src="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/project/p2.2/2024-04-10-15-38-55-image.png" alt="2024-04-10-15-38-55-image.png" loading="lazy"></p><p>Table 1.1 shows the eight compressed instruction formats. CR, CI, and CSS can use any of the 32 RVI registers, but CIW, CL, CS, and CB are limited to use only 8 of them, which are registers x8 to x15 listed in Table 1.2. In project 2, you do not need to implement all 32 registers, please refer to the <strong>Restriction</strong> section for details.</p><p><strong>Tips:</strong> you can try to decode the instruction to opcode, register address, immediate and so on firstly.</p><h4 id="CR-Format">CR Format</h4><table><thead><tr><th>CR</th><th>FUNCT4</th><th>RD/RS1</th><th>RS2</th><th>OPCODE</th></tr></thead><tbody><tr><td><strong>Bits</strong></td><td>4</td><td>5</td><td>5</td><td>2</td></tr><tr><td><strong>C.ADD</strong></td><td>1001</td><td>destâ‰  0</td><td>srcâ‰  0</td><td>10</td></tr><tr><td><strong><a href="http://C.MV">C.MV</a></strong></td><td>1000</td><td>destâ‰  0</td><td>srcâ‰  0</td><td>10</td></tr><tr><td><strong>C.JR</strong></td><td>1000</td><td>srcâ‰  0</td><td>0</td><td>10</td></tr></tbody></table><h4 id="CI-Format">CI Format</h4><table><thead><tr><th>CI</th><th>FUNCT3</th><th>IMM</th><th>RD/RS1</th><th>IMM</th><th>OPCODE</th></tr></thead><tbody><tr><td><strong>Bits</strong></td><td>3</td><td>1</td><td>5</td><td>5</td><td>2</td></tr><tr><td><strong><a href="http://C.LI">C.LI</a></strong></td><td>010</td><td>imm[5]</td><td>destâ‰  0</td><td>imm[4:0]</td><td>01</td></tr><tr><td><strong>C.LUI</strong></td><td>011</td><td>nzimm[17]</td><td>destâ‰ {0,2}</td><td>nzimm[16:12]</td><td>01</td></tr><tr><td><strong>C.ADDI</strong></td><td>000</td><td>nzimm[5]</td><td>destâ‰  0</td><td>nzimm[4:0]</td><td>01</td></tr><tr><td><strong>C.SLLI</strong></td><td>000</td><td>shamt[5]</td><td>destâ‰  0</td><td>shamt[4:0]</td><td>10</td></tr></tbody></table><h4 id="CL-Format">CL Format</h4><table><thead><tr><th>CL</th><th>FUNCT3</th><th>IMM</th><th>RS1'</th><th>IMM</th><th>RD'</th><th>OPCODE</th></tr></thead><tbody><tr><td><strong>Bits</strong></td><td>3</td><td>3</td><td>3</td><td>2</td><td>3</td><td>2</td></tr><tr><td><strong>C.LW</strong></td><td>010</td><td>offset[5:3]</td><td>base</td><td>offset[2|6]</td><td>dest</td><td>00</td></tr></tbody></table><h4 id="CS-Format">CS Format</h4><table><thead><tr><th>CS</th><th>FUNCT3</th><th>IMM</th><th>RS1'</th><th>IMM</th><th>RS2'</th><th>OPCODE</th></tr></thead><tbody><tr><td><strong>Bits</strong></td><td>3</td><td>3</td><td>3</td><td>2</td><td>3</td><td>2</td></tr><tr><td><strong>C.SW</strong></td><td>110</td><td>offset[5:3]</td><td>base</td><td>offset[2|6]</td><td>src</td><td>00</td></tr></tbody></table><h4 id="CSS-Format">CSS Format</h4><table><thead><tr><th>CSS</th><th>FUNCT3</th><th>IMM</th><th>RS2'</th><th>OPCODE</th></tr></thead><tbody><tr><td><strong>Bits</strong></td><td>3</td><td>6</td><td>5</td><td>2</td></tr><tr><td><strong>C.SWSP</strong></td><td>110</td><td>offset[5:2|7:6]</td><td>src</td><td>10</td></tr></tbody></table><h4 id="CIW-Format">CIW Format</h4><table><thead><tr><th>CIW</th><th>FUNCT3</th><th>IMM</th><th>rd'</th><th>OPCODE</th></tr></thead><tbody><tr><td><strong>Bits</strong></td><td>3</td><td>8</td><td>3</td><td>2</td></tr><tr><td><strong>C.ADDI4SPN</strong></td><td>000</td><td>zimm[5:4|9:6|2|3]</td><td>dest</td><td>00</td></tr></tbody></table><h4 id="CJ-Format">CJ Format</h4><table><thead><tr><th>CJ</th><th>FUNCT3</th><th>JUMP TARGET</th><th>OPCODE</th></tr></thead><tbody><tr><td><strong>Bits</strong></td><td>3</td><td>11</td><td>2</td></tr><tr><td><strong>C.J</strong></td><td>101</td><td>offset[11|4|9:8|10|6|7|3:1|5]</td><td>01</td></tr></tbody></table><h4 id="CB-Format">CB Format</h4><table><thead><tr><th>CB</th><th>FUNCT3</th><th>IMM</th><th>RD'/RS1'</th><th>IMM</th><th>OPCODE</th></tr></thead><tbody><tr><td><strong>Bits</strong></td><td>3</td><td>3</td><td>3</td><td>5</td><td>2</td></tr><tr><td><strong>C.BEQZ</strong></td><td>110</td><td>offset[8|4:3]</td><td>src</td><td>offset[7:6|2:1|5]</td><td>01</td></tr></tbody></table><h3 id="TOP-I-O">TOP I/O</h3><p>The inputs and outputs of top level are fixed in <code>TOP</code> circuit. It's not allowed to add extra pins in <code>TOP</code> circuit in your submission. Fail to comply with this may result in losing all your points!</p><table><thead><tr><th>Type</th><th>signal</th><th>bit width</th><th>description</th></tr></thead><tbody><tr><td>input</td><td>clk</td><td>1</td><td>clock</td></tr><tr><td>input</td><td>rst</td><td>1</td><td>reset</td></tr><tr><td>input</td><td>inst</td><td>16</td><td>RVC instruction</td></tr><tr><td>input</td><td>mem_dout</td><td>32</td><td>data from memory</td></tr><tr><td>input</td><td>current_pc</td><td>32</td><td>current pc value</td></tr><tr><td>output</td><td>mem_wen</td><td>1</td><td>memory write enable</td></tr><tr><td>output</td><td>mem_din</td><td>32</td><td>data written to memory</td></tr><tr><td>output</td><td>mem_ren</td><td>1</td><td>memory read enable</td></tr><tr><td>output</td><td>mem_addr</td><td>32</td><td>address of memory</td></tr><tr><td>output</td><td>control_en</td><td>1</td><td>enable writing value to pc</td></tr><tr><td>output</td><td>control_pc</td><td>32</td><td>value written to pc</td></tr><tr><td>output</td><td>wb_en</td><td>1</td><td>regfile write enable</td></tr><tr><td>output</td><td>wb_addr</td><td>5</td><td>addressÂ written toÂ regfile</td></tr><tr><td>output</td><td>wb_data</td><td>32</td><td>data written toÂ regfile</td></tr></tbody></table><p>Some of these pins are not involved in Project 2.1 but will be used in Project 2.2, so you can temporarily ignore them.</p><h3 id="Fetch">Fetch</h3><p>Throughout this project, you will work with theÂ <strong>Fetch module</strong>Â provided by the TA. This module assumes that</p><ul><li>The instruction memory is halfword-addressable, i.e., each address refers toÂ a 16-bit memory space.</li><li>During each clock cycle, an instruction is fetched from the address stored in theÂ program counter.</li><li>The address value in the program counter increments by one each clock cycle to fetch the next instruction without considering branch or jump.</li></ul><p>Additionally, you have the flexibility to incorporateÂ sub-circuitsÂ to explore the functionality of the Fetch module. Doing so will enhance your understanding of its operational principles.</p><h2 id="How-to-get-start">How to get start</h2><p>Here is a simpleÂ <a href="https://classroom.github.com/a/YmOsB4yi">template</a>Â to get started. Please download and unzip it first. Opening <code>proj_2_1.circ</code> with logisim-evolution, you will find several subcircuits inside it.</p><p>For project 2.2, you can use thisÂ <a href="https://classroom.github.com/a/-IqGtrZC">template</a>Â to get started.</p><ul><li><strong>TOP</strong> is the top-level circuit you need to complete. It represents the implementation of the target toy CPU that includes the subcircuits you designed.Â <strong>Please note that do not modify the packaging of the TOP circuit or any parts marked as &quot;Don't touch&quot;</strong>, as failing to comply with this may result in failing the test cases.</li><li><strong>testbench</strong> is a completed circuit provided by TAs for testing purposes. You can write any binary format instruction to the ROM and observe whether your circuit operates as expected. This circuit will not be used in grading, so feel free to make any attempts.</li></ul><p>Here are some suggestions for your information:</p><ul><li>It's recommended that try to implement instructions one by one and you can start with <strong>LI</strong> or <strong>LUI</strong> instructions! This method is debug-friendly.</li><li>List all the signals you need, and try to classify them into different groups. Classifying signals helps complete circuits in the simplest way. You will find that the workload is much smaller in this way.</li></ul><h3 id="Test">Test</h3><p>Test for all CR and CI type instruction has been included with the template package. You can run it with the command<code>./test.sh</code>. The provided test case is carried out in the order (LI-LI-LUI-LUI-SLLI-ADD-MV-ADDI-ADDI), and errors in the previous instructions may result in incorrect results in the later ones even if you implement them correctly.</p><p>The <code>8000</code> instruction utilizes a reserved instruction space to generate the halt signal. This signal serves the same purpose as the halt signal in Lab 5, which is to terminate the execution of the auto-test script. While this signal is crucial for the auto-test script, it does not produce any additional effects. Please be aware that when the 8000 instruction is executed, your system should not generate any significant output. The Autograder will not evaluate the output of this instruction.</p><p>In submission, you need to correctly implement at least one of <strong>LI</strong> or <strong>LUI</strong> to ensure that the other instructions can be successfully tested.</p><p>Notice: The Autograder of project 2.2 will test all instruction shown in the Instruction Set.</p><h2 id="Restriction">Restriction</h2><p>In order to reduce your workload and help you pass the test smoothly, some restrictions are stipulated as follows. You should read this section carefully as it may not be consistent with the content in the Instruction Set Manual.</p><ul><li><p>All data is represented in 2's complement form.</p></li><li><p>The data memory (RAM) is word-addressable, i.e., each address refers toÂ a 32-bit memory space.</p></li><li><p>The Autograder willÂ <strong>reset your system</strong> before carrying out any instructions. In other words, during the first cycle, all pins should outputÂ <strong>0</strong>.</p></li><li><p>To reduce your workload, all test scripts will only involve ten integer registers <strong>x0, x2, x8-x15</strong>.</p></li><li><p>All instructions in testcases are valid, and you don't need to consider instruction checking (please note that <strong>NOP</strong> is also a valid instruction in RVC and our CPU).</p></li><li><p>Since logisim supports memory with limited size, only the lower 8 bits of an 32-bit address are used to access instruction memory (ROM) and lower 16 bits to access data memory (RAM).</p></li></ul><hr><p>In project 2.1 are,</p><p><em>Siting Liu &lt;<code>liust</code>Â ATÂ <code>shanghaitech.edu.cn</code>&gt;</em></p><p><em>Yutong Wang &lt;<code>wangyt32023</code> AT <code>shanghaitech.edu.cn</code>&gt;</em></p><p>and</p><p><em>Suting Chen &lt;<code>chenst</code> AT <code>shanghaitech.edu.cn</code>&gt;</em></p><p>In project 2.2 are,</p><p><em>Siting Liu &lt;<code>liust</code>Â ATÂ <code>shanghaitech.edu.cn</code>&gt;</em></p><p>and</p><p><em>Yutong Wang &lt;<code>wangyt32023</code> AT <code>shanghaitech.edu.cn</code>&gt;</em></p><p>Last modified:Â 2024-05-12</p>]]></content>
    
    
    <summary type="html">A RV32C Toy CPU running RVC instructions. (Individual Project)</summary>
    
    
    
    <category term="å­¦ä¹ " scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="è®¡ç®—æœºç§‘å­¦" scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/"/>
    
    
    <category term="ä½œä¸š" scheme="https://zivmax.top/tags/%E4%BD%9C%E4%B8%9A/"/>
    
    <category term="ä¸Šç§‘å¤§" scheme="https://zivmax.top/tags/%E4%B8%8A%E7%A7%91%E5%A4%A7/"/>
    
    <category term="CS110" scheme="https://zivmax.top/tags/CS110/"/>
    
    <category term="è®¡ç®—æœºä½“ç³»æ¶æ„" scheme="https://zivmax.top/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>CS110 Lab [10]</title>
    <link href="https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/05/05/CS110/CS110-Lab-10/"/>
    <id>https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/05/05/CS110/CS110-Lab-10/</id>
    <published>2024-05-05T03:03:54.000Z</published>
    <updated>2024-06-04T07:05:46.528Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p><strong>Goals</strong></p><ul><li><p>Understand cache behavior and performance terminology through visualization tools in Venus.</p></li><li><p>Analyze different cache scenarios to predict and record hit rates.</p></li><li><p>Optimize a Gaussian Blur program focusing on memory access performance.</p></li><li><p>Learn to modify data structures to be more cache-friendly to reduce cache misses.</p></li></ul><span id="more"></span><h1 id="Lab-10">Lab 10</h1><p><a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/">Computer Architecture I</a> <a href="http://www.shanghaitech.edu.cn/">ShanghaiTech University</a></p><h2 id="Set-Up">Set Up</h2><p>Get source code from <a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/labs/lab10/Lab10.zip">here</a> and you should find cache.s, exe2_template and exe3_template after extraction.</p><h2 id="Exercise-1-Cache-Visualization">Exercise 1: Cache Visualization</h2><p>Caches is typically one of the hardest topics for students in Computer Architecture to grasp at first. This exercise will use some cool cache visualization tools in Venus to get you more familiar with cache behavior and performance terminology with the help of the file cache.s. At this point, read through cache.s to get a rough idea of what the program does.</p><p>To get started with each of the scenarios below:</p><ol><li>Copy the code in cache.s to Venus.</li><li>In the code for cache.s, set the appropriate Program Parameters as indicated at the beginning of each scenario (by changing the immediates of the commented li instructions in main).</li><li>Click Simulator, in right partition, there is a tag called Cache.</li><li>Set the appropriate Cache Parameters as indicated at the beginning of each scenario.</li><li>Click Simulator--&gt;Assemble &amp; Simulate from Editor.</li><li>Click Simulator--&gt;Step and see the cache states.</li></ol><p>Get familiar with the parameters in cache windows:</p><ol><li>Cache Levels: The number of layers your cache simulator will have. We will only use L1 cache in this lab, but you can play with it to learn more.</li><li>Block Size: Every block's size, should be a power of 2, take a quick review of the lecture content, the number of offset should be decided by block size.</li><li>Number of Blocks: How many blocks your cache have totally. Attention, the number is the total number, no matter how many ways you choose, therefore, if you want to satisfy the requirement, please take care of it (divide associativity).</li><li>Associativity: The number of ways, only if you select the N-way Set Associative can you change this value.</li><li>Cache size: The result of block size multiply number of blocks. You cannot change it.</li></ol><p>The Data Cache Simulator will show the state of your data cache. Please remember that these are running with your code, so if you reset your code, it will also reset your cache and memory status.</p><p>If you run the code all at once, you will get the final state of the cache and hit rate. You will probably benefit the most from setting breakpoints at each memory access to see exactly where the hits and misses are coming from. The method to set a breakpoint in Venus is just clicking the corresponding line in the simulator, if the line become red, that means your program will stop when the execution meets that line.</p><p>Simulate the following scenarios and record the final cache hit rates. Try to reason out what the hit rate will be BEFORE running the code. After running each simulation, make sure you understand WHY you see what you see (the TAs will ask related questions later)!</p><p><strong>Do not hesitate to ask questions if you feel confused! This is perfectly normal and the TA is there to help you out!</strong></p><p>Good questions to ask yourself as you do these exercises:</p><ul><li>How big is your cache block? How many consecutive accesses fit within a single block?</li><li>How big is your cache? How many jumps do you need to make before you &quot;wrap around?&quot;</li><li>What is your cache's associativity? Where can a particular block fit?</li><li>Have you accessed this piece of data before? If so, is it still in the cache or not?</li></ul><h3 id="Scenario-1">Scenario 1:</h3><p><strong>Cache Parameters:</strong></p><ul><li><strong>Cache Levels:</strong> 1</li><li><strong>Block Size (Bytes):</strong> 8</li><li><strong>Number of blocks:</strong> 4</li><li><strong>Associativity:</strong> 1 (Venus won't let you change this, why?)</li><li><strong>Cache Size (Bytes):</strong> 32 (Why?)</li><li><strong>Placement Policy:</strong> Direct Mapping</li><li><strong>Block Replacement Policy:</strong> LRU</li><li><strong>Enable current selected level of the cache.</strong></li></ul><p><strong>Program Parameters:</strong></p><ul><li><strong>Array Size:</strong> 128</li><li><strong>Step Size:</strong> 8</li><li><strong>Rep Count:</strong> 4</li><li><strong>Option:</strong> 0</li></ul><p>Checkoff</p><ol><li>What combination of parameters is producing the hit rate you observe? (Hint: Your answer should be the process of your calculation.)</li><li>What is our hit rate if we increase Rep Count arbitrarily? Why?</li><li>How could we modify our program parameters to maximize our hit rate?</li></ol><h3 id="Scenario-2">Scenario 2:</h3><p><strong>Cache Parameters:</strong></p><ul><li><strong>Cache Levels:</strong> 1</li><li><strong>Block Size (Bytes):</strong> 16</li><li><strong>Number of blocks:</strong> 16</li><li><strong>Associativity:</strong> 4</li><li><strong>Cache Size (Bytes):</strong> 256</li><li><strong>Placement Policy:</strong> N-Way Set Associative</li><li><strong>Block Replacement Policy:</strong> LRU</li><li><strong>Enable current selected level of the cache.</strong></li></ul><p><strong>Program Parameters:</strong></p><ul><li><strong>Array Size:</strong> 256</li><li><strong>Step Size:</strong> 2</li><li><strong>Rep Count:</strong> 1</li><li><strong>Option:</strong> 1</li></ul><p>Checkoff</p><ol><li>What combination of parameters is producing the hit rate you observe? (Hint: Your answer should be the process of your calculation.)</li><li>What happens to our hit rate as Rep Count goes to infinity? Why?</li><li>Suppose we have a program that uses a very large array and during each Rep, we apply a different operator to the elements of our array (e.g. if Rep Count = 1024, we apply 1024 different operations to each of the array elements). How can we restructure our program to achieve a hit rate like that achieved in this scenario? (Assume that the number of operations we apply to each element is very large and that the result for each element can be computed independently of the other elements.) What is this technique called? (<a href="http://software.intel.com/en-us/articles/cache-blocking-techniques">Hint</a>)</li></ol><h3 id="Scenario-3">Scenario 3:</h3><p><strong>Cache Parameters:</strong></p><ul><li><strong>Cache Levels:</strong> 1</li><li><strong>Block Size (Bytes):</strong> 16</li><li><strong>Number of blocks:</strong> 16</li><li><strong>Associativity:</strong> 4</li><li><strong>Cache Size (Bytes):</strong> 256</li><li><strong>Placement Policy:</strong> N-Way Set Associative</li><li><strong>Block Replacement Policy:</strong> Random</li><li><strong>Enable current selected level of the cache.</strong></li></ul><p><strong>Program Parameters:</strong></p><ul><li><strong>Array Size:</strong> 256</li><li><strong>Step Size:</strong> 8</li><li><strong>Rep Count:</strong> 2</li><li><strong>Option:</strong> 0</li></ul><p>Checkoff</p><ol><li>Run the simulation a few times. Every time, set a different seed value (bottom of the cache window). Note that the hit rate is non-deterministic. What is the range of its hit rate? Why is this the case? (&quot;The cache eviction is random&quot; is not a sufficient answer)</li><li>Which Cache parameter can you modify in order to get a constant hit rate? Record the parameter and its value (and be prepared to show your TA a few runs of the simulation). How does this parameter allow us to get a constant hit rate? And explain why the constant hit rate value is that value.</li><li>Ensure that you thoroughly understand each answer. Your TA may ask for additional explanations.</li></ol><h2 id="Exercise-2-Matrix-multiplication-and-Execution-order">Exercise 2: Matrix multiplication and Execution order</h2><h3 id="Gaussian-Blur-On-Image">Gaussian Blur On Image</h3><p>In image processing, a Gaussian blur (also known as Gaussian smoothing) is the result of blurring an image by a Gaussian function. Mathematically, applying a Gaussian blur to an image is the same as convolving the image with a Gaussian function. In this lab, we adopt a 1-dimensional Gaussian distribution kernel, and the blurring process is done in two steps: Given image A as our input, we first convolve the kernel over the rows of image A to produce a horizontally blurred image B. We then convolve the kernel over the columns of image B to produce a horizontally and vertically blurred image C. The image C is our final blurred image</p><p>The process of image convolution works like below. It consists a simple multiplication and add.</p><p><img src="https://s2.loli.net/2024/05/06/ETZvluMBmzKeqGQ.png" alt loading="lazy"></p><p>We provide an implement of Gaussian Blur in exe2_template and your job is to optimize the program without changing the algorithm. To make things easy, you only need to focus on apply_gb_fast.c.</p><p>In apply_gb_fast.c, there is a function called apply_gb(). This function will receive two parameters, where Image a indicates the input image and FVec gv indicates the kernel. It will call gb_h and gb_v to do convolution horizontally and vertically. gb_h and gb_v will return a new image.</p><p>At first, you can use make base_test to run the origin version of gaussian blur, which will show you the time of gb_h and gh_v. Then, you will find there is a gap between the two time.</p><p>Then, to optimize the program, we can take another look on the execution order of Gaussian Blur. The vertical convolution equals to apply horizontal convolution to a transposed matrix. Thus, we can first transpose the image, apply horizontal convolution to it and finally transpose it again to get a correct result. In this way, we can optimize the memory access performance of the program.</p><p>In apply_gb_fast.c, there is a completed function transpose(), which will return a transposed image of the input image. You can use it to optimize your program following the method mentioned above.</p><p>You can run make all to test your modified program. The program test_accuracy will test the result of your program and output the average error between your result and the correct result.</p><h3 id="Optional">(Optional)</h3><p>To make the program even faster, we can apply <strong>cache blocking</strong> to the function transpose(), which can be learned from <a href="https://www.intel.com/content/www/us/en/developer/articles/technical/cache-blocking-techniques.html">here</a></p><p><strong>Checkoff:</strong> Show your program to your TA and answer the following questions:</p><ol><li><p>Why there is a gap between gb_v and gb_h ?</p></li><li><p>Why the changed execution order will achieve a better performance even if we do more things(transpose)?</p></li></ol><h2 id="Exercise-3-Effort-of-Cache-Miss">Exercise 3: Effort of Cache Miss</h2><h3 id="Cache-Friendly-Data-Structure">Cache Friendly Data Structure</h3><p>Some data structures are cache friendly while others will cause a lot of cache miss. For those programs whose workloads are mainly in data access instead of calculation, cache miss will influence to performance significantly.</p><h3 id="Demo-Web-Log-Engine">Demo Web Log Engine</h3><p>Every time there is someone who visits our website, the website log engine will record some information such as IP and state. The website log engine will do some operations on the recorded logs, where the main work is accessing data. To simplify the situation, we provide a demo web log engine in exe3_template which will traverse all logs and do map function to some information</p><p>Your task is to modify the given struct log_entry in log_fast.c to make the data structure more cache friendly. You can use the following command to test your program's performance compared with the origin one.(If you use a virtual machine, you may need to increase the memory if there comes a sigment fault)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">make all</span></span><br></pre></td></tr></table></figure><h3 id="Hint">Hint</h3><p>In the function traverse(), we only use three members in the log_entry. However, the three members are separated to different large arrays, which make them placed into three different cache lines. Thus, each access of one element in the array logs will cause 3 cache misses.</p><p><strong>Checkoff:</strong> Show your result to your TA and explain why you do this modification.</p><hr><p>Daqian Cao &lt;<code>caodq</code> AT <code>shanghaitech.edu.cn</code>&gt;</p><p>Modeled after UC Berkeley's CS61C.<br>Last modified: 2024-04-10</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;Goals&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Understand cache behavior and performance terminology through visualization tools in Venus.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Analyze different cache scenarios to predict and record hit rates.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Optimize a Gaussian Blur program focusing on memory access performance.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Learn to modify data structures to be more cache-friendly to reduce cache misses.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="å­¦ä¹ " scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="è®¡ç®—æœºç§‘å­¦" scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/"/>
    
    
    <category term="ä½œä¸š" scheme="https://zivmax.top/tags/%E4%BD%9C%E4%B8%9A/"/>
    
    <category term="ä¸Šç§‘å¤§" scheme="https://zivmax.top/tags/%E4%B8%8A%E7%A7%91%E5%A4%A7/"/>
    
    <category term="CS110" scheme="https://zivmax.top/tags/CS110/"/>
    
    <category term="è®¡ç®—æœºä½“ç³»æ¶æ„" scheme="https://zivmax.top/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>CS110 Note [6]</title>
    <link href="https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/05/04/CS110/CS110-Note-6/"/>
    <id>https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/05/04/CS110/CS110-Note-6/</id>
    <published>2024-05-04T08:32:40.000Z</published>
    <updated>2024-05-06T06:31:24.048Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h1 id="Principle-of-Locality">Principle of Locality</h1><p>When a student who is researching something gathers several relevant books on a library desk, <strong>he create a localized, easily accessible pool of memory</strong>, reducing the need to constantly retrieve additional materials.</p><p>Just as the student did not need to access all the books in the library at once with equal probability, a program does not access all of its code or data at once with equal probability.</p><p>This mirrors the <em>principle of locality</em> in computer memory, where programs access a relatively small portion of their address space at any instant oftime, just as you accessed a very small portion of the library's collection.</p><p>There are two different types of locality:</p><ul><li><p>Temporal locality (locality in time): if an item is referenced, it will tend to be referenced again soon. If you recently brought a book to your desk to look at, you will probably need to look at it again soon.</p></li><li><p>Spatial locality (locality in space): if an item is referenced, items whose addresses are close by will tend to be referenced soon.</p></li></ul><p>Just as accesses to books on the desk naturally exhibit locality, locality in programs arises from simple and natural program structures.</p><p>For example, most programs contain loops, so instructions and data are likely to be accessed repeatedly, showing large temporal locality.</p><p>Since instructions are normally accessed sequentially, programs also show high spatial locality. Accesses to data also exhibit a natural spatial locality. For example, sequential accesses to elements of an array or a record will naturally have high degrees of spatial locality.</p><h1 id="Memory-Hierarchy">Memory Hierarchy</h1><p>We take advantage of the principle of locality by implementing the memory of a computer as a memory hierarchy. A memory hierarchy consists of multiple levels of memory with different speeds and sizes. The faster memories are more expensive per bit than the slower memories and thus are smaller.</p><p>Below is the basic structure of a memory hierarchy:</p><table><thead><tr><th>Name</th><th>Speed</th><th>Size</th><th>Cost ($/bit)</th><th>Technology</th></tr></thead><tbody><tr><td>Cache</td><td>Fastest</td><td>Smallest</td><td>Highest</td><td>SRAM</td></tr><tr><td>Main Memory</td><td>Medium</td><td>Medium</td><td>Medium</td><td>DRAM</td></tr><tr><td>Storage</td><td>Slowest</td><td>Biggest</td><td>Lowest</td><td>Magnetic Disk / NAND Flash</td></tr></tbody></table><p>The data are similarly hierarchical: a level closer to the processor is generally a subset of any level further away, and all the data are stored at the lowest level. By analogy, the books on your desk form a subset of the library you are working in, which is in turn a subset of all the libraries on campus. Furthermore, as we move away from the processor, the levels take progressively longer to access, just as we might encounter in a hierarchy of campus libraries.</p><p>A memory hierarchy can consist of multiple levels, <strong>but data are copied between only two adjacent levels at a time</strong>, so we can focus our attention on just two levels.</p><p>The minimum unit of information that can be either present or not present in the two-level hierarchy is called a block or a line; in our library analogy, a block of information is one book.</p><p><img src="https://s2.loli.net/2024/05/06/iNBmJqDO7p5kMex.png" alt="Usually we transfer an entire block when we copy something between levels" loading="lazy"></p><p>If the data requested by the processor appear in some block in the upper level, this is called a <em>hit</em> (analogous to your finding the information in one of the books on your desk). If the data are not found in the upper level, the request is called a <em>miss</em>. The lower level in the hierarchy is then accessed to retrieve the block containing the requested data. (Continuing our analogy, you go from your desk to the shelves to find the desired book.) The <em>hit rate</em>, or <em>hit ratio</em>, is the fraction of memory accesses found in the upper level; <strong>it is often used as a measure of the performance of the memory hierarchy</strong>. The <em>miss rate</em> (1âˆ’hit rate) is the fraction of memory accesses not found in the upper level.</p><p>Since performance is the major reason for having a memory hierarchy, the time to service hits and misses is important. <em>Hit time</em> is the time to access the upper level of the memory hierarchy, which includes the time needed to determine whether the access is a hit or a miss (that is, the time needed to look through the books on the desk). The <em>miss penalty</em> is the time to replace a block in the upper level with the corresponding block from the lower level, plus the time to deliver this block to the processor (or the time to get another book from the shelves and place it on the desk).</p><h2 id="The-Big-Picture">The Big Picture</h2><p>Below shows that a memory hierarchy uses smaller and faster memory technologies close to the processor. Thus, <strong>accesses that hit in the highest level of the hierarchy can be processed quickly.</strong> <strong>Accesses that miss go to lower levels of the hierarchy, which are larger but slower.</strong> If the hit rate is high enough, the memory hierarchy has an effective access time close to that of the highest (and fastest) level and a size equal to that of the lowest (and largest) level.</p><p><img src="https://s2.loli.net/2024/05/06/8C1tMfpADxyWv5k.png" alt="As the distance from the processor increases, so does the size." loading="lazy"></p><h1 id="Memory-Technologies">Memory Technologies</h1><p>There are four primary technologies used today in memory hierarchies. Main memory is implemented from DRAM, while levels closer to the processor (caches) use SRAM. The third technology is flash memory. This nonvolatile memory is the secondary memory in Personal Mobile Devices. The fourth technology, used to implement the largest and slowest level in the hierarchy in servers, is magnetic disk. However, nowadays in 2024, the SSD (flash) is rapidly replacing the position of the HDD (magnetic disk).</p><p>Previously in &quot;The Basics of Logic Design&quot;, we've introduced the low-level implementation of SRAM and DRAM, this time we'll more focus on the high-level details along with the flash and magnetic disk.</p><table><thead><tr><th style="text-align:center">Memory technology</th><th style="text-align:center">Typical access time</th><th style="text-align:center">$ per GiB in 2012</th></tr></thead><tbody><tr><td style="text-align:center">SRAM semiconductor memory</td><td style="text-align:center">0.5-2.5 ns</td><td style="text-align:center">$500-$1000</td></tr><tr><td style="text-align:center">DRAM semiconductor memory</td><td style="text-align:center">50-70 ns</td><td style="text-align:center">$10-$20</td></tr><tr><td style="text-align:center">Flash semiconductor memory</td><td style="text-align:center">5,000-50,000 ns</td><td style="text-align:center">$0.75-$1.00</td></tr><tr><td style="text-align:center">Magnetic disk</td><td style="text-align:center">5,000,000-20,000,000 ns</td><td style="text-align:center">$0.05-$0.10</td></tr></tbody></table><h2 id="SRAM-Technology">SRAM Technology</h2><p>SRAMs are simply integrated circuits that are memory arrays with (usually) a single access port that can provide either a read or a write. SRAMs have a fixed access time to any datum, though the read and write access times may differ.</p><p>SRAMs don't need to refresh and so the access time is very close to the cycle time. SRAMs typically use six to eight transistors per bit to prevent the information from being disturbed when read. SRAM needs only minimal power to retain the charge in standby mode.</p><p>In the past, most PCs and server systems used separate SRAM chips for either their primary, secondary, or even tertiary caches. Today, thanks to Moore's Law, all levels of caches are integrated onto the processor chip, so the market for independent SRAM chips has nearly evaporated.</p><h2 id="DRAM-Technology">DRAM Technology</h2><p>In a SRAM, as long as power is applied, the value can be kept indefinitely. In a dynamic RAM (DRAM), the value kept in a cell is stored as a charge in a capacitor. A single transistor is then used to access this stored charge, either to read the value or to overwrite the charge stored there. Because DRAMs use only one transistor per bit of storage, they are much denser and cheaper per bit than SRAM. <strong>As DRAMs store the charge on a capacitor, it cannot be kept indefinitely and must periodically be refreshed.</strong> That is why this memory structure is called dynamic, in contrast to the static storage in an SRAM cell.</p><p>To refresh the cell, we merely read its contents and write it back. The charge can be kept for several milliseconds. If in every clock we could only refresh one bit, we would constantly be just refreshing the DRAM, leaving no time for really use it. Fortunately, DRAMs use a two-level decoding structure, and this allows us to refresh an entire <em>row</em> (which shares a word line) with a read cycle followed immediately by a write cycle.</p><p>To improve performance, DRAMs buffer rows for repeated access. The buffer acts like an SRAM; by changing the address, random bits can be accessed in the buffer until the next row access. This capability improves the access time significantly, since the access time to bits in the row is much lower.</p><p>To improve the interface to processors further, DRAMs added clocks and are properly called synchronous DRAMs or SDRAMs. The advantage of SDRAMs is that the use of a clock eliminates the time for the memory and processor to synchronize. The speed advantage of synchronous DRAMs comes from the ability to transfer the bits in the burst without having to specify the address of data bits. Instead, the clock transfers the successive bits in a burst. <strong>Without a global clock to synchronize operations, each access to memory would require its own control signals and potentially its own address specification.</strong></p><p>The fastest version is called Double Data Rate (DDR) SDRAM. The name means data transfers on both the rising and falling edge of the clock, thereby getting twice as much bandwidth as you might expect based on the clock rate and the data width.</p><p>Sustaining that much bandwidth requires clever organization inside the DRAM. Instead of just a faster row buffer, <strong>the DRAM can be internally organized to read or write from multiple <em>banks</em>, with each having its own row buffer</strong>. Sending an address to several banks permits them all to read or write simultaneously. For example, with four banks, there is just one access time and then accesses rotate between the four banks to supply four times the bandwidth. This rotating access scheme is called <em>address interleaving</em>.</p><p>Modern DRAMs are organized in banks, typically four for DDR3. Each bank consists of a series of rows. Sending a Pre (precharge) command opens or closes a bank. A row address is sent with an Act (activate), which causes the row to transfer to a buffer. When the row is in the buffer, it can be transferred by successive column addresses at whatever the width of the DRAM is (typically 4, 8, or 16 bits in DDR3) or by specifying a block transfer and the starting address. Each command, as well as block transfers, is synchronized with a clock.</p><p><img src="https://s2.loli.net/2024/05/06/cE29HhwGFM6S1VN.png" alt="Internal organization of a DRAM" loading="lazy"></p><h2 id="Flash-Memory">Flash Memory</h2><p>Flash memory is a type of <em>electrically erasable programmable read-only memory</em> (EEPROM). Unlike disks and DRAM, but like other EEPROM technologies, <strong>writes can wear out flash memory bits</strong>. To cope with such limits, most flash products include a controller to spread the writes by remapping blocks that have been written many times to less trodden blocks. This technique is called <em>wear leveling</em>. With wear leveling, personal mobile devices are very unlikely to exceed the write limits in the flash. Such wear leveling lowers the potential performance of flash, but it is needed unless higher-level software monitors block wear. Flash controllers that perform wear leveling can also improve yield by mapping out memory cells that were manufactured incorrectly.</p><h2 id="Disk-Memory">Disk Memory</h2><p>As below shows, a magnetic hard disk consists of a collection of platters, which rotate on a spindle at 5400 to 15,000 revolutions per minute. The metal platters are covered with magnetic recording material on both sides, similar to the material found on a cassette or videotape. To read and write information on a hard disk, a movable arm containing a small electromagnetic coil called a <em>read-write head</em> is located just above each surface. The entire drive is permanently sealed to control the environment inside the drive, which, in turn, allows the disk heads to be much closer to the drive surface.</p><p><img src="https://s2.loli.net/2024/05/06/b2HJaIYPwReAq7m.png" alt="A disk showing 10 disk platters and the read/write heads" loading="lazy"></p><p>Each disk surface is divided into concentric circles, called <em>tracks</em>. There are typically tens of thousands of tracks per surface. Each track is in turn divided into <em>sectors</em> that contain the information; each track may have thousands of sectors. Sectors are typically 512 to 4096 bytes in size. The sequence recorded on the magnetic media is <code>... | a sector number | a gap | the information for that sector including error correction code | a gap | the sector number of the next sector | ...</code>, and so on.</p><p>The disk heads for each surface are connected together and move in conjunction, <strong>so that every head is over the same track of every surface</strong>. The term <em>cylinder</em> is used to refer to all the tracks under the heads at a given point on all surfaces.</p><p>To access data, the operating system must direct the disk through a three-stage process. The first step is to position the head over the proper track. This operation is called a <em>seek</em>, and the time to move the head to the desired track is called the <em>seek time</em>.</p><p>Once the head has reached the correct track, we must wait for the desired sector to rotate under the read/write head. This time is called the <em>rotational latency</em> or <em>rotational delay</em>. The average latency to the desired information is halfway around the disk. Disks rotate at 5400 RPM to 15,000 RPM. The average rotational latency at 5400 RPM is:</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mtext>AverageÂ rotationalÂ latency</mtext></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mfrac><mrow><mn>0.5</mn><mrow><mtext>Â </mtext><mi mathvariant="normal">r</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">n</mi></mrow></mrow><mrow><mn>5400</mn><mrow><mtext>Â </mtext><mi mathvariant="normal">R</mi><mi mathvariant="normal">P</mi><mi mathvariant="normal">M</mi></mrow></mrow></mfrac><mo>=</mo><mfrac><mrow><mn>0.5</mn><mrow><mtext>Â </mtext><mi mathvariant="normal">r</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">a</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">n</mi></mrow></mrow><mrow><mn>5400</mn><mrow><mtext>Â </mtext><mi mathvariant="normal">R</mi><mi mathvariant="normal">P</mi><mi mathvariant="normal">M</mi></mrow><mi mathvariant="normal">/</mi><mrow><mo fence="true">(</mo><mn>60</mn><mfrac><mrow><mi mathvariant="normal">s</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">c</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">n</mi><mi mathvariant="normal">d</mi><mi mathvariant="normal">s</mi></mrow><mrow><mi mathvariant="normal">m</mi><mi mathvariant="normal">i</mi><mi mathvariant="normal">n</mi><mi mathvariant="normal">u</mi><mi mathvariant="normal">t</mi><mi mathvariant="normal">e</mi></mrow></mfrac><mo fence="true">)</mo></mrow></mrow></mfrac></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mn>0.0056</mn><mrow><mtext>Â </mtext><mi mathvariant="normal">s</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">c</mi><mi mathvariant="normal">o</mi><mi mathvariant="normal">n</mi><mi mathvariant="normal">d</mi><mi mathvariant="normal">s</mi></mrow><mo>=</mo><mn>5.6</mn><mrow><mtext>Â </mtext><mi mathvariant="normal">m</mi><mi mathvariant="normal">s</mi></mrow></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{aligned}\text{Average rotational latency}&amp; =\frac{0.5\mathrm{~rotation}}{5400\mathrm{~RPM}}=\frac{0.5\mathrm{~rotation}}{5400\mathrm{~RPM}/\left(60\frac{\mathrm{seconds}}{\mathrm{minute}}\right)} \\&amp;=0.0056\mathrm{~seconds}=5.6\mathrm{~ms}\end{aligned}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:4.265em;vertical-align:-1.8825em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.3825em;"><span style="top:-4.3825em;"><span class="pstrut" style="height:3.3449em;"></span><span class="mord"><span class="mord text"><span class="mord">AverageÂ rotationalÂ latency</span></span></span></span><span style="top:-2.1224em;"><span class="pstrut" style="height:3.3449em;"></span><span class="mord"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.8825em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.3825em;"><span style="top:-4.3825em;"><span class="pstrut" style="height:3.3449em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3449em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5400</span><span class="mord"><span class="mspace nobreak">Â </span><span class="mord mathrm">RPM</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0.5</span><span class="mord"><span class="mspace nobreak">Â </span><span class="mord mathrm">rotation</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3449em;"><span style="top:-2.2299em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">5400</span><span class="mord"><span class="mspace nobreak">Â </span><span class="mord mathrm">RPM</span></span><span class="mord">/</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">(</span></span><span class="mord">60</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8801em;"><span style="top:-2.655em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">minute</span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mord mathrm mtight">seconds</span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">)</span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">0.5</span><span class="mord"><span class="mspace nobreak">Â </span><span class="mord mathrm">rotation</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.1201em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.1224em;"><span class="pstrut" style="height:3.3449em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">0.0056</span><span class="mord"><span class="mspace nobreak">Â </span><span class="mord mathrm">seconds</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">5.6</span><span class="mord"><span class="mspace nobreak">Â </span><span class="mord mathrm">ms</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.8825em;"><span></span></span></span></span></span></span></span></span></span></span></span></p><p>The last component of a disk access, <em>transfer time</em>, is the time to transfer a block of bits. The transfer time is a function of the sector size, the rotation speed, and the recording density of a track. Transfer rates in 2012 were between <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>100</mn></mrow><annotation encoding="application/x-tex">100</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">100</span></span></span></span> and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>200</mn><mtext>â€…â€Š</mtext><mrow><mi mathvariant="normal">M</mi><mi mathvariant="normal">B</mi></mrow><mi mathvariant="normal">/</mi><mrow><mi mathvariant="normal">s</mi><mi mathvariant="normal">e</mi><mi mathvariant="normal">c</mi></mrow></mrow><annotation encoding="application/x-tex">200\;\mathrm{MB}/\mathrm{sec}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">200</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mord mathrm">MB</span></span><span class="mord">/</span><span class="mord"><span class="mord mathrm">sec</span></span></span></span></span>.</p><blockquote><p>Alas, where block numbers are located is no longer intuitive. <strong>The assumptions of the sector-track-cylinder model above are that nearby blocks are on the same track, blocks in the same cylinder take less time to access since there is no seek time, and some tracks are closer than others</strong>. The reason for the change was the raising of the level of the disk interfaces. To speed up sequential transfers, these higher-level interfaces organize disks more like tapes than like random access devices. The logical blocks are ordered in serpentine fashion across a single surface, trying to capture all the sectors that are recorded at the same bit density to try to get best performance. Hence, sequential blocks may be on different tracks</p></blockquote><h1 id="The-Basics-of-Caches">The Basics of Caches</h1><p>In our library example, the desk acted as a cache: a safe place to store things (books) that we needed to examine. <em>Cache</em> was the name chosen to represent the level of the memory hierarchy between the processor and main memory in the first commercial computer to have this extra level.</p><p>Today, although this remains the dominant use of the word <em>cache</em>, the term is also used to refer to any storage managed to take advantage of locality of access. Like in the SSD, we have a &quot;cache&quot; to store the frequently accessed data too.</p><h2 id="Cache-Mapping">Cache Mapping</h2><p>Cache copies a subset of the all data in the main memory, then, there are two questions to answer:</p><ul><li>How do we know if a data item is in the cache?</li><li>If it is in the cache, how do we find it?</li></ul><p><strong>The answers are related.</strong> If each word can go in exactly one place in the cache, then it is straightforward to find the word if it is in the cache. The simplest way to assign a location in the cache for each word in memory is to assign the cache location based on the address of the word in memory. <strong>In other words, we build a hash map.</strong></p><p>This cache structure is called <em>direct mapped</em>, since each memory location is mapped directly to exactly one location in the cache. The typical mapping between addresses and cache locations for a direct-mapped cache is usually simple. For example, almost all direct-mapped caches use this mapping to find a block:</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mtext>(BlockÂ address)Â moduloÂ (NumberÂ ofÂ blocksÂ inÂ theÂ cache)</mtext></mrow><annotation encoding="application/x-tex">\text{(Block address) modulo (Number of blocks in the cache)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord text"><span class="mord">(BlockÂ address)Â moduloÂ (NumberÂ ofÂ blocksÂ inÂ theÂ cache)</span></span></span></span></span></span></p><p>This is also one of the simplest hash function in the field of hasing. But in this simple way, there will be hash collisions:</p><p><img src="https://s2.loli.net/2024/05/06/MQiPamKLjd1OpE6.png" alt="The addresses of memory words between 0 and 31 that map to the same cache locations" loading="lazy"></p><p>, which is multipile main memory blocks point to a same cache block.</p><p>Because each cache location may contains the contents of a number of different memory locations, how do we know whether a requested word is in the cache or not? We answer this question by adding a set of <em>tags</em> to the cache.</p><p>The tags contain the address information required to identify whether a word in the cache is the requested word. The tag needs just to contain the upper portion of the address, corresponding to the bits that are <strong>not</strong> used as an index into the cache. More specificly, those address mapped into the same address in the cache are differed in the upper portion of the address.</p><p>For example, in figure above showing collisions, <strong>we need only have the upper two of the five address bits in the tag, since the lower 3-bit index field of the address selects the block in cache</strong>. Architects omit the index bits because they are redundant, since by definition, the index field of any address of a cache block must be that block number.</p><p>We also need a way to recognize that a cache block does not have valid information. For instance, when a processor starts up, the cache does not have good data, and the tag fields will be meaningless. Even after executing many instructions, some of the cache entries may still be empty. Thus, we need to know that the tag should be ignored for such entries. The most common method is to add a <em>valid bit</em> to indicate whether an entry contains a valid cache address. If the bit is not set, there cannot be a match for this block.</p><h2 id="The-Big-Picture-2">The Big Picture</h2><p><strong>Caching is perhaps the most important example of the big idea of prediction.</strong> It relies on the principle of locality to try to find the desired data in the higher levels of the memory hierarchy, and provides mechanisms to ensure that when the prediction is wrong it finds and uses the proper data from the lower levels of the memory hierarchy. The hit rates of the cache prediction on modern computers are often above 95%</p><h2 id="Accessing-a-Cache">Accessing a Cache</h2><h1 id="Unfinished-Yet">Unfinished Yet...</h1>]]></content>
    
    
    <summary type="html">Large and Fast: Exploiting Memory Hierarchy</summary>
    
    
    
    <category term="å­¦ä¹ " scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="è®¡ç®—æœºç§‘å­¦" scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/"/>
    
    
    <category term="ä¸Šç§‘å¤§" scheme="https://zivmax.top/tags/%E4%B8%8A%E7%A7%91%E5%A4%A7/"/>
    
    <category term="CS110" scheme="https://zivmax.top/tags/CS110/"/>
    
    <category term="è®¡ç®—æœºä½“ç³»æ¶æ„" scheme="https://zivmax.top/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E6%9E%B6%E6%9E%84/"/>
    
    <category term="ç¬”è®°" scheme="https://zivmax.top/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Unfinished" scheme="https://zivmax.top/tags/Unfinished/"/>
    
  </entry>
  
  <entry>
    <title>CS110 Note [5]</title>
    <link href="https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/05/03/CS110/CS110-Note-5/"/>
    <id>https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/05/03/CS110/CS110-Note-5/</id>
    <published>2024-05-03T08:32:40.000Z</published>
    <updated>2024-05-05T08:35:41.621Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h1 id="A-Basic-RISC-V-Implementation">A Basic RISC-V Implementation</h1>]]></content>
    
    
    <summary type="html">The Processor</summary>
    
    
    
    <category term="å­¦ä¹ " scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="è®¡ç®—æœºç§‘å­¦" scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/"/>
    
    
    <category term="ä¸Šç§‘å¤§" scheme="https://zivmax.top/tags/%E4%B8%8A%E7%A7%91%E5%A4%A7/"/>
    
    <category term="CS110" scheme="https://zivmax.top/tags/CS110/"/>
    
    <category term="è®¡ç®—æœºä½“ç³»æ¶æ„" scheme="https://zivmax.top/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E6%9E%B6%E6%9E%84/"/>
    
    <category term="ç¬”è®°" scheme="https://zivmax.top/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Unfinished" scheme="https://zivmax.top/tags/Unfinished/"/>
    
  </entry>
  
  <entry>
    <title>CS110 Lab [8]</title>
    <link href="https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/04/25/CS110/CS110-Lab-8/"/>
    <id>https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/04/25/CS110/CS110-Lab-8/</id>
    <published>2024-04-25T03:03:54.000Z</published>
    <updated>2024-04-25T03:09:01.557Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p><strong>Goals</strong></p><ul><li><p>Understand the structure of a shift and add multiplier.</p></li><li><p>Implement a non-pipelined 4-bit shift and add multiplier.</p></li><li><p>Implement a pipelined 4-bit shift and add multiplier.</p></li></ul><span id="more"></span><h1 id="Lab-8">Lab 8</h1><p><a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/">Computer Architecture I</a> <a href="http://www.shanghaitech.edu.cn">ShanghaiTech University</a><br><a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/labs/lab8/lab8.html"></a>Lab 8</p><h2 id="PipeLine">PipeLine</h2><h3 id="Setup">Setup</h3><ul><li>Download source code from <a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/labs/Lab8/Lab8.tar">here</a></li></ul><h3 id="Warmup">Warmup</h3><p>Recall multiplication by hand:</p><p><img src="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/labs/Lab8/pictures/by_hand.png" alt loading="lazy"></p><p>Similarly to calculating by hand, multipliers find a way to sum up all partial products. Many different circuits exist for multiplication. Each one has a different balance between speed (performance) and amount of logic (cost). Today, we are going to implement and optimize one of the most basic multiplier: shift and add multiplier.</p><h3 id="Shift-and-Add-Multiplier">Shift and Add Multiplier</h3><p>Here we review the structure of shift and add multiplier:</p><p><img src="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/labs/Lab8/pictures/structure.png" alt loading="lazy"></p><p>The Controal Algorithm of the shift and add multiplier is:</p><p><img src="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/labs/Lab8/pictures/control_algorithm.png" alt loading="lazy"></p><p>In this practice, we assume that the multiplier and multiplicand are 4-bit unsigned integers, and the output is an 8-bit unsigned integer. Hence the whole multiplier can be flattened to a combined logic.</p><h3 id="1-non-pipelined-4-bit-shift-and-add-multiplier">1. non_pipelined 4-bit shift and add multiplier</h3><p>We're going to finish a non-pipelined 4-bit shift and add multiplier in this section.</p><h4 id="Action-Item">Action Item</h4><p>Complete the following steps (remember to save often):</p><ol><li><p>Open up the Exercise 1 schematic (<code>File-&gt;Open-&gt;Lab8.circ</code>) and go to the <code>shift_and_add</code> circuit.</p></li><li><p>Connect all components to implement a single shift and add step. Once you finished, the circuit should correctly decide whether to add or not to add the input multiplicand on the current result, and output the shifted multiplicand as well.</p><p><em>Hint: We are going to shift the multiplicand here. Take a look at the control algorithm again and think carefully about the shift direction.</em></p></li><li><p>Now refer to the <code>non-pipelined</code> circuit. Play with the inputs to see if your implementation is correct, and adjust your design if necessary.</p></li><li><p>Let the propagation delay of an adder block be 45 ns, the propagation delay of a MUX be 20 ns, and the propagation delay of a shifters block be 5 ns (since we have a constant offset, it is very efficient). The register has a CLK-to-Q delay of 10 ns, a setup time of 10 ns, and a hold time of 5 ns. Calculate the maximum clock rate at which this circuit can operate, assuming that both inputs come from clocked registers that receive their data from an external source.</p></li></ol><h4 id="Checkoff">Checkoff</h4><ul><li>Show your design and the highest clock rate achieved to your TA.</li></ul><h3 id="2-Pipe-that-line">2. Pipe that line</h3><p>The shift-addition multiplier we implemented exhibits significant inefficiencies. Consider dividing the implementation into two stages to maximize its clock rate. Note that to pipeline the circuit, we need registers to hold the intermediate values of the computation between pipeline stages. This requirement is a general theme with pipelines.</p><p>To verify that your pipelined design still produces correct outputs, we will consider the outputs from the circuit &quot;correct&quot; if and only if they match the sequence of outputs the non-pipelined version would emit, except for some leading zeros. This leading zero occurs because the second stange of the pipeline is &quot;empty&quot; in the first cycle. For example, if the non-pipelined version produces the sequence [3, 5, 1, 2, 4, â€¦], a correct pipelined circuit might produce the sequence [0, 3, 5, 1, 2, 4, â€¦] for the same series of inputs. You can check this by simulating the circuit and either advancing the clock manually or enabling continuous ticks.</p><p><em>Note: You should run this simulation in the main circuit. You can modify the inputs by right-clicking the ROM and selecting <code>Edit Contents</code></em>.</p><h4 id="Action-Item-2">Action Item</h4><ul><li>Complete the design of <code>pipelined.circ</code>. You may only add registers to separate stages.</li><li>Calculate the maximum clock rate for the pipelined version of the circuit you designed.</li></ul><h4 id="Checkoff-2">Checkoff</h4><ul><li>Show your design and the highest clock rate achieved to your TA.</li></ul><hr><p>The following TA(s) are responsible for this lab:</p><p>Xinxin Yu <yuxx at shanghaitech.edu.cn></yuxx></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;Goals&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Understand the structure of a shift and add multiplier.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Implement a non-pipelined 4-bit shift and add multiplier.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Implement a pipelined 4-bit shift and add multiplier.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="å­¦ä¹ " scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="è®¡ç®—æœºç§‘å­¦" scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/"/>
    
    
    <category term="ä½œä¸š" scheme="https://zivmax.top/tags/%E4%BD%9C%E4%B8%9A/"/>
    
    <category term="ä¸Šç§‘å¤§" scheme="https://zivmax.top/tags/%E4%B8%8A%E7%A7%91%E5%A4%A7/"/>
    
    <category term="CS110" scheme="https://zivmax.top/tags/CS110/"/>
    
    <category term="è®¡ç®—æœºä½“ç³»æ¶æ„" scheme="https://zivmax.top/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>CS110 Project 2.1</title>
    <link href="https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/04/25/CS110/CS110-Project-2-1/"/>
    <id>https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/04/25/CS110/CS110-Project-2-1/</id>
    <published>2024-04-25T03:01:25.000Z</published>
    <updated>2024-05-06T03:42:18.562Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h1 id="Project-2-A-RV32C-Toy-CPU">Project 2: A RV32C Toy CPU</h1><h2 id="IMPORTANT-INFO-PLEASE-READ">IMPORTANT INFO - PLEASE READ</h2><p>The projects are part of your design project worth 2 credit points. As such they run in parallel to the actual course. So be aware that the due date for project and homework might be very close to each other! Start early and do not procrastinate.</p><h2 id="Overview">Overview</h2><p>In this <strong>individual</strong> project, you will embark on a two-step journey to create a toyÂ <strong>RVC CPU</strong>. Before diving into the task, please pay close attention to the following important points:</p><ul><li><p>Any behavior that violates course rules is strictly prohibited. This includes viewing, copying or plagiarizing other individuals' circuits and codes.Â <a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/lecture_notes/L01-Intro.pdf">Violators will face severe consequences</a></p></li><li><p>You are allowed to use any built-in blocks of Logisim, except for the <strong>System On a Chip</strong> group, throughout this project.</p></li><li><p>Save frequently and commit frequently! Try to save your code in Logisim every 5 minutes or so, and commit every time you produce a new feature, even if it is small.</p></li><li><p>Don't move around the given inputs and outputs in your circuit; this could lead to issues with the autograder.</p></li></ul><h2 id="Introduction">Introduction</h2><p>This excerpt from the RISC-V User-Level ISA Specification describes the current draft proposal for the RISC-V standard compressed instruction set extension, named â€œCâ€, which reduces static and dynamic code size by adding short 16-bit instruction encodings for common operations. The C extension can be added to any of the base ISAs (RV32, RV64, RV128), and we use the generic term â€œRVCâ€ to cover any of these. Typically, 50%â€“60% of the RISC-V instructions in a program can be replaced with RVC instructions, resulting in a 25%â€“30% code-size reduction. In this project, we will build a CPU that solely supports some of the RVC instructions.</p><h3 id="Project-2-1-Implement-CI-and-CR-type-instructions-DDL-May-7th">Project 2.1: Implement CI and CR type instructions (DDL: May 7th)</h3><p>In this part, your task involves implementing allÂ <strong>CI and CR type instructions</strong>Â shown inÂ <strong>The Instruction Set</strong> below. Feel free to refer to the advice provided in theÂ <strong>How to Get Started</strong>Â section to kickstart your circuit adventure.</p><h3 id="The-Instruction-Set">The Instruction Set</h3><p>The instructions you need to implement are shown in the table below:</p><table><thead><tr><th>Format</th><th>ISA</th><th>OP[1:0]</th><th>Funct3</th><th>Implementation</th></tr></thead><tbody><tr><td>CR</td><td>add</td><td>10</td><td>100</td><td>x[rd] = x[rd] + x[rs2]</td></tr><tr><td>CR</td><td>mv</td><td>10</td><td>100</td><td>x[rd] = x[rs2]</td></tr><tr><td>CI</td><td>addi</td><td>01</td><td>000</td><td>x[rd] = x[rd] + sext(imm)</td></tr><tr><td>CI</td><td>slli</td><td>10</td><td>000</td><td>x[rd] = x[rd] &lt;&lt; uimm</td></tr><tr><td>CI</td><td>li</td><td>01</td><td>010</td><td>x[rd] = sext(imm)</td></tr><tr><td>CI</td><td>lui</td><td>01</td><td>011</td><td>x[rd] = sext(imm[17:12] &lt;&lt; 12)</td></tr><tr><td>CI</td><td>nop</td><td>01</td><td>000</td><td>None</td></tr><tr><td>CSS</td><td>swsp</td><td>10</td><td>110</td><td>M[x[2] + uimm][31:0] = x[rs2]</td></tr><tr><td>CIW</td><td>addi4spn</td><td>00</td><td>000</td><td>x[8+rd'] = x[2] + nzuimm</td></tr><tr><td>CL</td><td>lw</td><td>00</td><td>010</td><td>x[8+rd'] = sext(M[x[8+rs1'] + uimm][31:0])</td></tr><tr><td>CS</td><td>sw</td><td>00</td><td>110</td><td>M[x[8+rs1'] + uimm][31:0] = x[8+rs2']</td></tr><tr><td>CB</td><td>beqz</td><td>01</td><td>110</td><td>if (x[8+rs1'] == 0) pc += sext(offset)</td></tr><tr><td>CJ</td><td>j</td><td>01</td><td>101</td><td>pc += sext(offset)</td></tr></tbody></table><p>A detailed description of compressed instruction formats is provided in <a href="https://riscv.org/wp-content/uploads/2015/11/riscv-compressed-spec-v1.9.pdf">The RISC-V Compressed Instruction Set Manual, Version 1.9</a>. Some important information is also provided below. Please note that there are different versions of RVC instructions, and referencing other documents or webpages may result in failing the test.</p><h3 id="Instruction-Formats">Instruction Formats</h3><p><img src="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/project/p2.1/2024-04-10-15-38-55-image.png" alt="2024-04-10-15-38-55-image.png" loading="lazy"></p><p>Table 1.1 shows the eight compressed instruction formats. CR, CI, and CSS can use any of the 32 RVI registers, but CIW, CL, CS, and CB are limited to use only 8 of them, which are registers x8 to x15 listed in Table 1.2. In project 2, you do not need to implement all 32 registers, please refer to the <strong>Restriction</strong> section for details.</p><p><strong>Tips:</strong> you can try to decode the instruction to opcode, register address, immediate and so on firstly.</p><h4 id="CR-Format">CR Format</h4><table><thead><tr><th>CR</th><th>FUNCT4</th><th>RD/RS1</th><th>RS2</th><th>OPCODE</th></tr></thead><tbody><tr><td><strong>Bits</strong></td><td>4</td><td>5</td><td>5</td><td>2</td></tr><tr><td><strong>C.ADD</strong></td><td>1001</td><td>dest â‰  0</td><td>src â‰  0</td><td>10</td></tr><tr><td><strong><a href="http://C.MV">C.MV</a></strong></td><td>1000</td><td>dest â‰  0</td><td>src â‰  0</td><td>10</td></tr></tbody></table><h4 id="CI-Format">CI Format</h4><table><thead><tr><th>CI</th><th>FUNCT3</th><th>IMM</th><th>RD/RS1</th><th>IMM</th><th>OPCODE</th></tr></thead><tbody><tr><td><strong>Bits</strong></td><td>3</td><td>1</td><td>5</td><td>5</td><td>2</td></tr><tr><td><strong><a href="http://C.LI">C.LI</a></strong></td><td>010</td><td>imm[5]</td><td>dest â‰  0</td><td>imm[4:0]</td><td>01</td></tr><tr><td><strong>C.LUI</strong></td><td>011</td><td>nzimm[17]</td><td>dest â‰  {0,2}</td><td>nzimm[16:12]</td><td>01</td></tr><tr><td><strong>C.ADDI</strong></td><td>000</td><td>nzimm[5]</td><td>dest â‰  0</td><td>nzimm[4:0]</td><td>01</td></tr><tr><td><strong>C.SLLI</strong></td><td>000</td><td>shamt[5]</td><td>dest â‰  0</td><td>shamt[4:0]</td><td>10</td></tr></tbody></table><h4 id="CL-Format">CL Format</h4><table><thead><tr><th>CL</th><th>FUNCT3</th><th>IMM</th><th>RS1'</th><th>IMM</th><th>RD'</th><th>OPCODE</th></tr></thead><tbody><tr><td><strong>Bits</strong></td><td>3</td><td>3</td><td>3</td><td>2</td><td>3</td><td>2</td></tr><tr><td><strong>C.LW</strong></td><td>010</td><td>offset[5:3]</td><td>base</td><td>offset[2|6]</td><td>dest</td><td>00</td></tr></tbody></table><h4 id="CS-Format">CS Format</h4><table><thead><tr><th>CS</th><th>FUNCT3</th><th>IMM</th><th>RS1'</th><th>IMM</th><th>RS2'</th><th>OPCODE</th></tr></thead><tbody><tr><td><strong>Bits</strong></td><td>3</td><td>3</td><td>3</td><td>2</td><td>3</td><td>2</td></tr><tr><td><strong>C.SW</strong></td><td>110</td><td>offset[5:3]</td><td>base</td><td>offset[2|6]</td><td>src</td><td>00</td></tr></tbody></table><h4 id="CSS-Format">CSS Format</h4><table><thead><tr><th>CSS</th><th>FUNCT3</th><th>IMM</th><th>RS2'</th><th>OPCODE</th></tr></thead><tbody><tr><td><strong>Bits</strong></td><td>3</td><td>6</td><td>5</td><td>2</td></tr><tr><td><strong>C.SWSP</strong></td><td>110</td><td>offset[5:2|7:6]</td><td>src</td><td>10</td></tr></tbody></table><h4 id="CIW-Format">CIW Format</h4><table><thead><tr><th>CIW</th><th>FUNCT3</th><th>IMM</th><th>rd'</th><th>OPCODE</th></tr></thead><tbody><tr><td><strong>Bits</strong></td><td>3</td><td>8</td><td>3</td><td>2</td></tr><tr><td><strong>C.ADDI4SPN</strong></td><td>000</td><td>zimm[5:4|9:6|2|3]</td><td>dest</td><td>00</td></tr></tbody></table><h4 id="CJ-Format">CJ Format</h4><table><thead><tr><th>CJ</th><th>FUNCT3</th><th>JUMP TARGET</th><th>OPCODE</th></tr></thead><tbody><tr><td><strong>Bits</strong></td><td>3</td><td>11</td><td>2</td></tr><tr><td><strong>C.J</strong></td><td>101</td><td>offset[11|4|9:8|10|6|7|3:1|5]</td><td>01</td></tr></tbody></table><h4 id="CB-Format">CB Format</h4><table><thead><tr><th>CB</th><th>FUNCT3</th><th>IMM</th><th>RD'/RS1'</th><th>IMM</th><th>OPCODE</th></tr></thead><tbody><tr><td><strong>Bits</strong></td><td>3</td><td>3</td><td>3</td><td>5</td><td>2</td></tr><tr><td><strong>C.BEQZ</strong></td><td>110</td><td>offset[8|4:3]</td><td>src</td><td>offset[7:6|2:1|5]</td><td>01</td></tr></tbody></table><h3 id="TOP-I-O">TOP I/O</h3><p>The inputs and outputs of top level are fixed in <code>TOP</code> circuit. It's not allowed to add extra pins in <code>TOP</code> circuit in your submission. Fail to comply with this may result in losing all your points!</p><table><thead><tr><th>Type</th><th>signal</th><th>bit width</th><th>description</th></tr></thead><tbody><tr><td>input</td><td>clk</td><td>1</td><td>clock</td></tr><tr><td>input</td><td>rst</td><td>1</td><td>reset</td></tr><tr><td>input</td><td>inst</td><td>16</td><td>RVC instruction</td></tr><tr><td>input</td><td>mem_dout</td><td>32</td><td>data from memory</td></tr><tr><td>input</td><td>current_pc</td><td>32</td><td>current pc value</td></tr><tr><td>output</td><td>mem_wen</td><td>1</td><td>memory write enable</td></tr><tr><td>output</td><td>mem_din</td><td>32</td><td>data written to memory</td></tr><tr><td>output</td><td>mem_ren</td><td>1</td><td>memory read enable</td></tr><tr><td>output</td><td>alu_result</td><td>32</td><td>result calculated by alu</td></tr><tr><td>output</td><td>control_en</td><td>1</td><td>enable writing value to pc</td></tr><tr><td>output</td><td>control_pc</td><td>32</td><td>value written to pc</td></tr><tr><td>output</td><td>wb_en</td><td>1</td><td>regfile write enable</td></tr><tr><td>output</td><td>wb_addr</td><td>5</td><td>addressÂ written toÂ regfile</td></tr><tr><td>output</td><td>wb_data</td><td>32</td><td>data written toÂ regfile</td></tr></tbody></table><p>Some of these pins are not involved in Project 2.1 but will be used in Project 2.2, so you can temporarily ignore them.</p><h3 id="Fetch">Fetch</h3><p>Throughout this project, you will work with theÂ <strong>Fetch module</strong>Â provided by the TA. This module assumes that</p><ul><li>The instruction memory is halfword-addressable, i.e., each address refers toÂ a 16-bit memory space.</li><li>During each clock cycle, an instruction is fetched from the address stored in theÂ program counter.</li><li>The address value in the program counter increments by one each clock cycle to fetch the next instruction without considering branch or jump.</li></ul><p>Additionally, you have the flexibility to incorporateÂ sub-circuitsÂ to explore the functionality of the Fetch module. Doing so will enhance your understanding of its operational principles.</p><h2 id="How-to-get-start">How to get start</h2><p>Here is a simpleÂ <a href="https://classroom.github.com/a/YmOsB4yi">template</a>Â to get started. Please download and unzip it first. Opening <code>proj_2_1.circ</code> with logisim-evolution, you will find several subcircuits inside it.</p><ul><li><strong>TOP</strong> is the top-level circuit you need to complete. It represents the implementation of the target toy CPU that includes the subcircuits you designed.Â <strong>Please note that do not modify the packaging of the TOP circuit or any parts marked as &quot;Don't touch&quot;</strong>, as failing to comply with this may result in failing the test cases.</li><li><strong>testbench</strong> is a completed circuit provided by TAs for testing purposes. You can write any binary format instruction to the ROM and observe whether your circuit operates as expected. This circuit will not be used in grading, so feel free to make any attempts.</li></ul><p>Here are some suggestions for your information:</p><ul><li>It's recommended that try to implement instructions one by one and you can start with <strong>LI</strong> or <strong>LUI</strong> instructions! This method is debug-friendly.</li><li>List all the signals you need, and try to classify them into different groups. Classifying signals helps complete circuits in the simplest way. You will find that the workload is much smaller in this way.</li></ul><h3 id="Test">Test</h3><p>Test for all CR and CI type instruction has been included with the template package. You can run it with the command<code>./test.sh</code>. The provided test case is carried out in the order (LI-LI-LUI-LUI-SLLI-ADD-MV-ADDI-ADDI), and errors in the previous instructions may result in incorrect results in the later ones even if you implement them correctly.</p><p>The <code>8000</code> instruction utilizes a reserved instruction space to generate the halt signal. This signal serves the same purpose as the halt signal in Lab 5, which is to terminate the execution of the auto-test script. While this signal is crucial for the auto-test script, it does not produce any additional effects. Please be aware that when the 8000 instruction is executed, your system should not generate any significant output. The Autograder will not evaluate the output of this instruction.</p><p>In submission, you need to correctly implement at least one of <strong>LI</strong> or <strong>LUI</strong> to ensure that the other instructions can be successfully tested.</p><h2 id="Restriction">Restriction</h2><p>In order to reduce your workload and help you pass the test smoothly, some restrictions are stipulated as follows. You should read this section carefully as it may not be consistent with the content in the Instruction Set Manual.</p><ul><li><p>All data is represented in 2's complement form.</p></li><li><p>The data memory (RAM) is word-addressable, i.e., each address refers toÂ a 32-bit memory space.</p></li><li><p>You shouldÂ <strong>reset your system</strong> before carrying out any instructions. In other words, during the first cycle, all pins should outputÂ <strong>0</strong>.</p></li><li><p>To reduce your workload, all test scripts will only involve ten integer registers <strong>x0, x2, x8-x15</strong>.</p></li><li><p>All instructions in testcases are valid, and you don't need to consider instruction checking (please note that <strong>NOP</strong> is also a valid instruction in RVC and our CPU).</p></li><li><p>Since logisim supports memory with limited size, only the lower 8 bits of an 32-bit address are used to access instruction memory (ROM) and lower 16 bits to access data memory (RAM).</p></li></ul><hr><p>In project 2.1 are,</p><p><em>Siting Liu &lt;<code>liust</code>Â ATÂ <code>shanghaitech.edu.cn</code>&gt;</em></p><p>and</p><p><em>Yutong Wang &lt;<code>wangyt32023</code> AT <code>shanghaitech.edu.cn</code>&gt;</em></p><p>Last modified:Â 2024-04-19</p>]]></content>
    
    
    <summary type="html">A RV32C Toy CPU running RVC instructions. (Individual Project)</summary>
    
    
    
    <category term="å­¦ä¹ " scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="è®¡ç®—æœºç§‘å­¦" scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/"/>
    
    
    <category term="ä½œä¸š" scheme="https://zivmax.top/tags/%E4%BD%9C%E4%B8%9A/"/>
    
    <category term="ä¸Šç§‘å¤§" scheme="https://zivmax.top/tags/%E4%B8%8A%E7%A7%91%E5%A4%A7/"/>
    
    <category term="CS110" scheme="https://zivmax.top/tags/CS110/"/>
    
    <category term="è®¡ç®—æœºä½“ç³»æ¶æ„" scheme="https://zivmax.top/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>CS110 Lab [6]</title>
    <link href="https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/04/25/CS110/CS110-Lab-6/"/>
    <id>https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/04/25/CS110/CS110-Lab-6/</id>
    <published>2024-04-25T01:05:51.000Z</published>
    <updated>2024-04-25T03:06:33.529Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p><strong>Goals</strong></p><ul><li><p>Learning advanced techniques to help you create more concise circuits within Logisim.</p></li><li><p>Feel free to do each part as separate sub-circuits in the same Logisim file.</p></li><li><p>Strengthening experience in designing circuits using Logisim.</p></li></ul><span id="more"></span><h1 id="Lab-6">Lab 6</h1><p><a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/index.html">Computer Architecture I</a> @ <a href="https://www.shanghaitech.edu.cn/">ShanghaiTech University</a></p><h2 id="Advanced-Logisim">Advanced Logisim</h2><p>Download the <a href="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/labs/Lab6/lab6_starter.zip">files</a> for Lab 6 first.</p><p>Here are three Logisim features that should both save you a lot of time and make your circuits look much cleaner.</p><h4 id="1-Splitters">1. Splitters</h4><p>Splitters allow you to take a multi-bit value and split it up into smaller parts, or (despite the name) combine multiple values that are one or more bits into a single value.<br>Here, we split the 4-bit binary number <code>0111</code> into <code>01</code> and <code>11</code>, then recombine it with <code>10</code> into the final 6-bit number <code>100111</code>:</p><p><img src="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/labs/Lab6/splitters.png" alt loading="lazy"></p><p>Click on a splitter to get its menu in the sidebar. This menu determine the number of arms on your splitter and how many bits should go on each arm. For the circuit above, the left splitter's menu looks like this:</p><p><img src="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/labs/Lab6/splitters_left.png" alt loading="lazy"></p><p>While the right splitter's menu looks like this:</p><p><img src="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/labs/Lab6/splitters_right.png" alt loading="lazy"></p><p><strong>Notice that there's an option called</strong> <code>facing</code>. You can use this to rotate your splitter. Above, see that the splitter on the right is facing West while the splitter on the left is facing East.</p><p>If you see an error wire that is orange, this means that your bit width in does not match your bit width out. Make sure that if you're connecting two components with a wire, you correctly set the bit width in that component's menu.</p><p><img src="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/labs/Lab6/splitters_error.png" alt loading="lazy"></p><h4 id="2-Tunnels">2. Tunnels</h4><p>A tunnel allows you draw an &quot;invisible wire&quot; to bind two points together. Tunnels are grouped by case-sensitive labels give to a wire. They are used to connect wires like so:</p><p><img src="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/labs/Lab6/Tunnels.png" alt loading="lazy"></p><p>Some care should be taken as to which wires are connected with tunnels to which other wires, such as in this case:</p><p><img src="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/labs/Lab6/Tunnels_error.png" alt loading="lazy"></p><p>We <em>strongly</em> recommend you use tunnels with Logisim, because they make your circuits much cleaner looking, and therefore easier to debug.</p><h4 id="3-Extenders">3. Extenders</h4><p>When changing the width of a wire, you should use a bit extender for clarity. For example, consider the following implementation of extending an 8-bit wire into a 16-bit wire:</p><p><img src="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/labs/Lab6/Extenders.png" alt loading="lazy"></p><p><img src="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/labs/Lab6/Extenders_0.PNG" alt loading="lazy"></p><p>Compared to the splitter, the extender is easier to understand at a glance. This becomes especially helpful when working with complex circuits.</p><p>Additionally, consider the case of throwing out bits. Despite its name, an extender can also perform this operation:</p><p><img src="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/labs/Lab6/Extenders_1.PNG" alt loading="lazy"></p><p><img src="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/labs/Lab6/Extenders_2.PNG" alt loading="lazy"></p><h2 id="Exercises">Exercises</h2><h3 id="Exercise-1-Practice-with-Advanced-features">Exercise 1: Practice with Advanced features</h3><p>In this part of the lab, we will construct a circuit that manipulates an 8-bit number.</p><h4 id="ACTION-ITEM">ACTION ITEM:</h4><p>Complete the following steps to create the splitter circuit, and show this to your TA (remember to save). When you've completed the circuit, answer the question in the checkoff session.</p><ol><li><p>Open up the Exercise 1 schematic (<code>File-&gt;Open-&gt;ex1.circ</code>) and go to the empty Split circuit.</p></li><li><p>Go to the <code>Wiring</code> folder and select the <code>Splitter</code> circuit. This circuit will take a wire and split it into a set of wires of smaller width. Conversely, it can also take many sets of wires and combine them into one.</p></li><li><p>Change the <code>Bit Width In</code> property (bus width) to <code>8</code>, and <code>Fan Out</code> property to <code>8</code>. Connect the inputs to tunnels</p><p><img src="https://toast-lab.sist.shanghaitech.edu.cn/courses/CS110@ShanghaiTech/Spring-2024/labs/Lab6/practice1.PNG" alt loading="lazy"></p></li><li><p>Now, judge the number of '1s' in the input whether odd. You can use <code>XOR</code> gates to eath bit of input and route the output to <code>OUT1</code>.</p></li><li><p>Then, judge the number of '1s' in the input whether greater than '0s'. You can use <code>Bit Adder and Comparator</code> from <code>Arithmetic</code> to implement this circuit and route the output to <code>OUT2</code> .</p></li><li><p>We need to add a parity bit to the input to ensure that output has odd number of '1s', you are not allowed to use parity circuits from logisim <code>Gates</code>. Place another splitter with the proper properties to combine the parity bit and the input to <code>OUT3</code>.</p></li><li><p>We consider the <code>OUT2</code> is the sign bit of input, changing input into 2's complement format. Place another splitter with the proper properties to combine the sign bit and the 2's complement to <code>OUT4</code>.</p></li></ol><p><strong>Hint 1</strong>: An unsigned comparator is required in <code>OUT2</code>.</p><p><strong>Hint 2</strong>: The parity bit can be obtained from <code>OUT1</code> because when input has odd bit '1s', the parity bit will be 0, otherwise, the parity bit will be 1.</p><p><strong>Hint 3</strong>: 2's complement transform is different according to sign bit.</p><ul><li>Show your <code>ex1.circ</code> to your TA.</li><li>When the output from <code>OUT4</code> is negative and we want to compute its two's complement once more, what would the outcome be? <strong>Hint:</strong> In fact, this is a question about finding the two's complement of a two's complement. Just share your findings with TA.</li></ul><h3 id="Exercise-2-Rotate-Right">Exercise 2: Rotate Right</h3><p>With your knowledge and experience of splitters and multiplexers, you are ready to implement a non-trivial combinational logic block: <code>rotr</code>, which stands for &quot;Rotate Right&quot;. The idea is that <code>rotr A,B</code> will &quot;rotate&quot; the bit pattern of input <code>A</code> to the right by <code>B</code> bits. So, if <code>A</code> were <code>0b1011010101110011</code> and <code>B</code> were <code>0b0101</code> (<code>5</code> in decimal), the output of the block would be <code>0b1001110110101011</code>. Notice that the rightmost <code>5</code> bits were rotated off the right end of the value and back onto the left end. In RTL, the operation would be something like <code>R = A &gt;&gt; B | A &lt;&lt; (16 - B)</code>.</p><h4 id="ACTION-ITEM-2">ACTION ITEM:</h4><p>Implement a subcircuit named <code>rotr</code> with the following inputs. Show the final circuit to your TA (remember to save!).</p><ul><li><code>A</code> (16-bit), the 16-bit input to be rotated</li><li><code>B</code> (4-bit), the rotation amount (why 4 bits?) You can find the starter subcircuit in <code>ex2.circ</code>.</li></ul><p>The output should be <code>A</code> rotated right by <code>B</code> bit positions, as outlined above. You are <strong>NOT</strong> allowed to use Logisim shifters in your solution, though all other combinational logic (MUXes, constants, gates, adders, etc.) is allowed. Logisim's built-in MUXes (find them under the <code>Plexers</code> menu) might be especialy helpful. Your solution shouldn't involve a clock or any clocked elements, like registers.</p><p><strong>Hint 1</strong>: Before you start wiring, you should think very carefully about how you might decompose this problem into smaller ones and join them together. You should feel very free to use subcircuits when implementing <code>rot4</code> and <code>rot8</code> as well as <code>rotr</code>.</p><p><strong>Hint 2</strong>: Just because we gave you an RTL representation doesn't mean it's the best way to look at this problem. Think about the input bits of <code>B</code> and think about how to effectively use splitters! Can you do something with the binary form? Remember why binary is good for use in computers: a <code>1</code> is easy to represent as an <code>ON</code> signal, and a <code>0</code> is easy to represent as an <code>OFF</code> signal. Let's say we want to rotate <code>11</code> times. <code>11</code> is <code>1011</code> in binary, or <code>1*8 + 0*4 + 1*2 + 1*1</code>. Can you use this to make a cleaner circuit? Making use of the <code>rot*</code>circuits we have provided is a good idea that will keep things clean!</p><p><strong>Hint 3</strong>: Perhaps you also need to create other sub-circuits and call them in the <code>rotr</code> circuit. Please explore how to customize the appearance of your components! It's important to note that after designing their appearance, they also need to be saved immediately and their <code>Appearance</code> attribute should be changed to <code>Custom</code>.</p><ul><li>Show your TA your <code>rotr</code> circuit and verify that it works.</li></ul><h3 id="Exercise-3-Runing-LED">Exercise 3: Runing LED</h3><p>From Exercise 2, we obtained a combinational circuits which can rotate the input with different values. In this part of lab, we will implement a version for sequential circuits. For each clock, the input will rotate with step of 1 and the rotated value will be input next time. For example, if <code>input</code> is <code>0b10000000</code> and we set the rotate step of <code>1</code>. At clock 2, <code>output</code> is <code>0b01000000</code>, at clock 3, output is <code>0b00100000</code>...</p><h4 id="ACTION-ITEM-3">ACTION ITEM:</h4><p>Complete the following steps and show this completed circuit to your TA (remember to save!)</p><ol><li><p>Open up the Exercise 3 schematic (<code>File-&gt;Open-&gt;ex3.circ</code>) and fill in the <code>rot1</code>, you can use the circuits in Exercise 2 and revise the width of input and output.</p></li><li><p>Using the <code>Register</code> to store the previous value, and then using a <code>rot1</code> to rotate the value, the output is <code>OUT_LED</code>.</p></li><li><p>Using a <code>Multiplexer</code> to set the initinal value <code>INITIAL_LED</code> of <code>Register</code> when reset signal <code>RST</code> is 1. When <code>RST</code> is 0, the input of Multiplexer will be <code>OUT_LED</code>.</p></li></ol><ul><li>Show your TA your <code>Runing LED</code> circuit and verify that it works.</li><li>If we want to control the LED to shift for a certain number of times, such that it stops after moving 8 times, remaining stationary until the next change in the <code>RST</code> signal occurs. What changes should we make to the circuit? Show your TA your revised circuit drawing or create a new Logisim file containing your revised circuit.</li></ul><h3 id="Testing">Testing</h3><p>Debugging circuits can be done in two ways. One method involves directly using the poke tool to alter component values and observe the output instantly. The second approach is to use the testing scripts provided by us via:</p><p>./test.sh</p><p>Since Logisim will be running in one terminal window already, make sure to open up a new window to run the testing script.</p><p>If it says you don't have permission to <code>test.sh</code>, run the following code:</p><p>chmod +x <a href="http://test.sh">test.sh</a></p><p>If it says you don't have permission to <code>test.py</code>, run the following code <strong>in</strong> the <code>./testing</code> folder:</p><p>chmod +x <a href="http://test.py">test.py</a></p><hr><p>The following TA(s) are responsible for this lab:</p><p>Zhaojun Ni <nizhj2022 at shanghaitech.edu.cn></nizhj2022></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;Goals&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Learning advanced techniques to help you create more concise circuits within Logisim.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Feel free to do each part as separate sub-circuits in the same Logisim file.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Strengthening experience in designing circuits using Logisim.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="å­¦ä¹ " scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="è®¡ç®—æœºç§‘å­¦" scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/"/>
    
    
    <category term="ä½œä¸š" scheme="https://zivmax.top/tags/%E4%BD%9C%E4%B8%9A/"/>
    
    <category term="ä¸Šç§‘å¤§" scheme="https://zivmax.top/tags/%E4%B8%8A%E7%A7%91%E5%A4%A7/"/>
    
    <category term="CS110" scheme="https://zivmax.top/tags/CS110/"/>
    
    <category term="è®¡ç®—æœºä½“ç³»æ¶æ„" scheme="https://zivmax.top/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>ä½“å¤–ç¥ç»å…ƒåœ¨æ¨¡æ‹Ÿæ¸¸æˆä¸–ç•Œä¸­å­¦ä¹ å¹¶è¡¨ç°å‡ºæ„ŸçŸ¥èƒ½åŠ›</title>
    <link href="https://zivmax.top/%E8%AE%BA%E6%96%87%E7%A0%94%E8%AF%BB/2024/04/16/%E4%BD%93%E5%A4%96%E7%A5%9E%E7%BB%8F%E5%85%83%E5%9C%A8%E6%A8%A1%E6%8B%9F%E6%B8%B8%E6%88%8F%E4%B8%96%E7%95%8C%E4%B8%AD%E5%AD%A6%E4%B9%A0%E5%B9%B6%E8%A1%A8%E7%8E%B0%E5%87%BA%E6%84%9F%E7%9F%A5%E8%83%BD%E5%8A%9B/"/>
    <id>https://zivmax.top/%E8%AE%BA%E6%96%87%E7%A0%94%E8%AF%BB/2024/04/16/%E4%BD%93%E5%A4%96%E7%A5%9E%E7%BB%8F%E5%85%83%E5%9C%A8%E6%A8%A1%E6%8B%9F%E6%B8%B8%E6%88%8F%E4%B8%96%E7%95%8C%E4%B8%AD%E5%AD%A6%E4%B9%A0%E5%B9%B6%E8%A1%A8%E7%8E%B0%E5%87%BA%E6%84%9F%E7%9F%A5%E8%83%BD%E5%8A%9B/</id>
    <published>2024-04-16T03:31:38.000Z</published>
    <updated>2024-04-16T04:57:47.595Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://www.cell.com/neuron/fulltext/S0896-6273(22)00806-6#secsectitle0040">In vitro neurons learn and exhibit sentience when embodied in a simulated game-world</a></p><h1 id="ä½“å¤–ç¥ç»å…ƒåœ¨æ¨¡æ‹Ÿæ¸¸æˆä¸–ç•Œä¸­å­¦ä¹ å¹¶è¡¨ç°å‡ºæ„ŸçŸ¥èƒ½åŠ›">ä½“å¤–ç¥ç»å…ƒåœ¨æ¨¡æ‹Ÿæ¸¸æˆä¸–ç•Œä¸­å­¦ä¹ å¹¶è¡¨ç°å‡ºæ„ŸçŸ¥èƒ½åŠ›</h1><h2 id="æ‘˜è¦">æ‘˜è¦</h2><p>å°†ç¥ç»å…ƒæ•´åˆåˆ°æ•°å­—ç³»ç»Ÿä¸­å¯èƒ½ä¼šå®ç°ç¡…å•ç‹¬æ— æ³•å®ç°çš„æ€§èƒ½ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¼€å‘äº† DishBrain ç³»ç»Ÿï¼Œè¯¥ç³»ç»Ÿåˆ©ç”¨ç»“æ„åŒ–ç¯å¢ƒä¸­ç¥ç»å…ƒçš„å›ºæœ‰è‡ªé€‚åº”è®¡ç®—ã€‚ä½“å¤–æ¥è‡ªäººç±»æˆ–å•®é½¿åŠ¨ç‰©æ¥æºçš„ç¥ç»ç½‘ç»œé€šè¿‡é«˜å¯†åº¦å¤šç”µæé˜µåˆ—ä¸ç¡…å†…è®¡ç®—ç›¸ç»“åˆã€‚é€šè¿‡ç”µç”Ÿç†åˆºæ¿€å’Œè®°å½•ï¼ŒåŸ¹å…»ç‰©è¢«åµŒå…¥åˆ°æ¨¡æ‹Ÿæ¸¸æˆä¸–ç•Œä¸­ï¼Œæ¨¡æ‹Ÿè¡—æœºæ¸¸æˆâ€œä¹’ä¹“çƒâ€ã€‚åº”ç”¨ä¸»åŠ¨æ¨ç†ç†è®ºçš„å«ä¹‰ï¼Œé€šè¿‡è‡ªç”±èƒ½åŸç†ï¼Œæˆ‘ä»¬å‘ç°åœ¨å®æ—¶æ¸¸æˆä¸­çš„äº”åˆ†é’Ÿå†…å‡ºç°äº†æ˜æ˜¾çš„å­¦ä¹ ï¼Œè€Œåœ¨å¯¹ç…§æ¡ä»¶ä¸­æ²¡æœ‰è§‚å¯Ÿåˆ°ã€‚è¿›ä¸€æ­¥çš„å®éªŒè¡¨æ˜ï¼Œé€šè¿‡éšæ—¶é—´æ¨ç§»å¼•å‘å­¦ä¹ çš„é—­ç¯ç»“æ„åŒ–åé¦ˆçš„é‡è¦æ€§ã€‚åŸ¹å…»ç‰©å±•ç¤ºäº†å¯¹å…¶è¡Œä¸ºåæœçš„ç¨€ç–æ„ŸçŸ¥ä¿¡æ¯çš„è‡ªç»„ç»‡æ´»åŠ¨çš„èƒ½åŠ›ï¼Œæˆ‘ä»¬å°†å…¶ç§°ä¸ºåˆæˆç”Ÿç‰©æ™ºèƒ½ã€‚æœªæ¥çš„åº”ç”¨å¯èƒ½ä¼šè¿›ä¸€æ­¥æ·±å…¥äº†è§£æ™ºèƒ½çš„ç»†èƒå¯¹åº”ç‰©ã€‚</p><blockquote><p>Integrating neurons into digital systems may enable performance infeasible with silicon alone. Here, we develop DishBrain, a system that harnesses the inherent adaptive computation of neurons in a structured environment. In vitro neural networks from human or rodent origins are integrated with in silico computing via a high-density multielectrode array. Through electrophysiological stimulation and recording, cultures are embedded in a simulated game-world, mimicking the arcade game â€˜â€˜Pong.â€™â€™ Applying implications from the theory of active inference via the free energy principle, we find apparent learning within five minutes of real-time gameplay not observed in control conditions. Further experiments demonstrate the importance of closed-loop structured feedback in eliciting learning over time. Cultures display the ability to self-organize activity in a goal-directed manner in response to sparse sensory information about the consequences of their actions, which we term synthetic biological intelligence. Future applications may provide further insights into the cellular correlates of intelligence.</p></blockquote><p><img src="https://s2.loli.net/2024/04/16/VUms12ZXv5BtNWR.jpg" alt="Graphical abstract" loading="lazy"></p><h2 id="å¼•è¨€">å¼•è¨€</h2><p>åˆ©ç”¨ç”Ÿç‰©ç¥ç»å…ƒçš„è®¡ç®—èƒ½åŠ›åˆ›é€ åˆæˆç”Ÿç‰©æ™ºèƒ½ï¼ˆSBIï¼‰ï¼Œä»¥å‰ä»…é™äºç§‘å¹»é¢†åŸŸï¼Œç°åœ¨å¯èƒ½å·²ç»åœ¨äººç±»åˆ›æ–°çš„èŒƒå›´å†…ã€‚ç”Ÿç‰©è®¡ç®—çš„ä¼˜è¶Šæ€§å·²è¢«å¹¿æ³›æ¨æµ‹ï¼Œå¹¶å°è¯•å¼€å‘æ”¯æŒç±»ç¥ç»è®¡ç®—çš„ä»¿ç”Ÿç¡¬ä»¶ï¼ˆKumarç­‰ï¼Œ2020å¹´ï¼‰ã€‚ç„¶è€Œï¼Œåœ¨ç”Ÿç‰©ç¥ç»å…ƒä¹‹å¤–çš„ä»»ä½•äººå·¥ç³»ç»Ÿéƒ½æ— æ³•æ”¯æŒè‡³å°‘ä¸‰é˜¶å¤æ‚åº¦ï¼ˆèƒ½å¤Ÿè¡¨ç¤ºä¸‰ä¸ªçŠ¶æ€å˜é‡ï¼‰ï¼Œè¿™æ˜¯é‡æ–°åˆ›å»ºç”Ÿç‰©ç¥ç»ç½‘ç»œï¼ˆBNNï¼‰çš„å¤æ‚æ€§æ‰€å¿…éœ€çš„ï¼ˆIzhikevichï¼Œ2006å¹´ï¼›Kumarç­‰ï¼Œ2020å¹´ï¼‰ã€‚å°½ç®¡åœ¨ä½“å†…ç¥ç»è®¡ç®—çš„æ˜ å°„æ–¹é¢å–å¾—äº†é‡å¤§è¿›å±•ï¼Œä½†åœ¨ä½“å¤–æ¢ç´¢è¿™ä¸€é¢†åŸŸå­˜åœ¨æŠ€æœ¯é™åˆ¶ï¼ˆBarronç­‰ï¼Œ2020å¹´ï¼‰ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æ—¨åœ¨å»ºç«‹ä»èƒšèƒå•®é½¿åŠ¨ç‰©å’Œäººç±»è¯±å¯¼å¤šèƒ½å¹²ç»†èƒï¼ˆHiPSCsï¼‰åˆ°é«˜å¯†åº¦å¤šç”µæé˜µåˆ—ï¼ˆHD-MEAsï¼‰ä¸Šçš„åŠŸèƒ½æ€§ä½“å¤– BNNs ï¼Œä»¥è¯æ˜è¿™äº›ç¥ç»åŸ¹å…»ç‰©èƒ½å¤Ÿè¡¨ç°å‡ºç”Ÿç‰©æ™ºèƒ½ï¼Œå¦‚åœ¨æ¨¡æ‹Ÿæ¸¸æˆç¯å¢ƒä¸­çš„å®æ—¶å­¦ä¹ æ¥æ”¹å˜æ´»åŠ¨æ–¹å¼ï¼Œè¿™åœ¨å®æ—¶æ¸¸æˆä¸­è¢«è¯æ˜ï¼ˆå›¾1ï¼‰ã€‚æå‡ºè¿™äº›ç¥ç»åŸ¹å…»ç‰©å°†ç¬¦åˆæ„ŸçŸ¥çš„æ­£å¼å®šä¹‰ï¼Œå³é€šè¿‡è‡ªé€‚åº”å†…éƒ¨è¿‡ç¨‹å¯¹æ„Ÿè§‰å°è±¡ä½œå‡ºååº”ï¼ˆFristonç­‰ï¼Œ2020å¹´ï¼‰ã€‚å®ä¾‹åŒ– SBIs å¯èƒ½ä¼šå¼•é¢†ç ”ç©¶è¿›å…¥ç”Ÿç‰©æ™ºèƒ½çš„èŒƒå¼è½¬å˜ï¼ŒåŒ…æ‹¬ä¼ªè®¤çŸ¥ååº”ä½œä¸ºè¯ç‰©ç­›é€‰çš„ä¸€éƒ¨åˆ†ï¼ˆKaganç­‰ï¼Œ2022å¹´ï¼›Myersï¼Œ2017å¹´ï¼‰ï¼Œå¼¥åˆå•ç»†èƒå’Œç¾¤ä½“ç¼–ç æ–¹æ³•å¯¹ç†è§£ç¥ç»ç”Ÿç‰©å­¦çš„æ¢ç´¢ï¼ˆEbitzå’ŒHaydenï¼Œ2021å¹´ï¼‰ï¼Œæ¢ç´¢BNNå¦‚ä½•è®¡ç®—ä»¥æŒ‡å¯¼æœºå™¨å­¦ä¹ æ–¹æ³•ï¼ˆMattarå’ŒLengyelï¼Œ2022å¹´ï¼‰ï¼Œå¹¶æ½œåœ¨åœ°å‚¬ç”Ÿè¶…è¶Šç°æœ‰çº¯ç¡…ç¡¬ä»¶æ€§èƒ½çš„ç¡…-ç”Ÿç‰©è®¡ç®—å¹³å°ã€‚ä»ç†è®ºä¸Šè¯´ï¼Œæ™®éçš„SBIå¯èƒ½ä¼šåœ¨äººå·¥é€šç”¨æ™ºèƒ½ï¼ˆAGIï¼‰ä¹‹å‰åˆ°æ¥ï¼Œè¿™æ˜¯ç”±äºç”Ÿç‰©ç³»ç»Ÿçš„å†…åœ¨æ•ˆç‡å’Œè¿›åŒ–ä¼˜åŠ¿ï¼ˆBuchananï¼Œ2018å¹´ï¼‰ã€‚</p><blockquote><p>Harnessing the computational power of living neurons to create synthetic biological intelligence (SBI), previously confined to the realm of science fiction, may now be within reach of human innovation. The superiority of biological computation has been widely theorized with attempts to develop biomimetic hardware supporting neuromorphic computing (Kumar et al., 2020). Yet no artificial system outside biological neurons is capable of supporting at least third-order complexity (able to represent three state variables), which is necessary to recreate the complexity of a biological neuronal network (BNN) (Izhikevich, 2006; Kumar et al., 2020). While significant progress has been made in mapping in vivo neural computation, there are technical limits to exploring this in vitro (Barron et al., 2020). Here, we aim to establish functional in vitro BNNs from embryonic rodent and humaninduced pluripotent stem cells (hiPSCs) on high-density multielectrode arrays (HD-MEAs) to demonstrate that these neural cultures can exhibit biological intelligenceâ€”as evidenced by learning in a simulated gameplay environment to alter activity in an otherwise arbitrary mannerâ€”in real time (Figure 1). It is proposed that these neural cultures would meet the formal definition of sentience as being â€˜â€˜responsive to sensory impressionsâ€™â€™ through adaptive internal processes (Friston et al., 2020). Instantiating SBIs could herald a paradigm shift of research into biological intelligence, including pseudo-cognitive responses as part of drug screening (Kagan et al., 2022; Myers, 2017), bridging the divide between single-cell and population-coding approaches to understanding neurobiology (Ebitz and Hayden, 2021), exploring how BNNs compute to inform machine-learning approaches (Mattar and Lengyel, 2022), and potentially giving rise to silico-biological computational platforms that surpass the performance of existing purely silicon hardware. Theoretically, generalized SBI may arrive before artificial general intelligence (AGI) due to the inherent efficiency and evolutionary advantage of biological systems (Buchanan, 2018).</p></blockquote><p>è¿™ä¸ªç³»ç»Ÿè¢«ç§°ä¸º DishBrain ï¼Œå®ƒå¯ä»¥åˆ©ç”¨ç¥ç»å…ƒå…±äº«ç”µæ´»åŠ¨çš„â€œè¯­è¨€â€è¿™ä¸€å›ºæœ‰å±æ€§ï¼Œé€šè¿‡ç”µç”Ÿç†åˆºæ¿€å’Œè®°å½•å°†ç¡…å’ŒBNNç³»ç»Ÿè¿æ¥èµ·æ¥ã€‚é‰´äºç¡¬ä»¶å’Œç»†èƒï¼ˆæ¹¿ä»¶ï¼‰çš„å…¼å®¹æ€§ï¼Œæœ‰å¿…è¦ç ”ç©¶å½“BNNé€šè¿‡é—­ç¯ç³»ç»Ÿå…·ä½“åŒ–æ—¶ï¼Œä¼šå¯¼è‡´æ™ºèƒ½ï¼ˆç›®æ ‡å¯¼å‘ï¼‰è¡Œä¸ºçš„è¿‡ç¨‹ã€‚æ™ºèƒ½ç³»ç»Ÿä¸­éœ€è¦ä¸¤ä¸ªç›¸äº’å…³è”çš„è¿‡ç¨‹æ¥äº§ç”Ÿæœ‰æ„ŸçŸ¥è¡Œä¸ºã€‚é¦–å…ˆï¼Œç³»ç»Ÿå¿…é¡»å­¦ä¹ å¤–éƒ¨çŠ¶æ€å¦‚ä½•é€šè¿‡æ„ŸçŸ¥å½±å“å†…éƒ¨çŠ¶æ€ï¼Œä»¥åŠå†…éƒ¨çŠ¶æ€å¦‚ä½•é€šè¿‡è¡ŒåŠ¨å½±å“å¤–éƒ¨çŠ¶æ€ã€‚å…¶æ¬¡ï¼Œç³»ç»Ÿå¿…é¡»ä»å…¶æ„ŸçŸ¥çŠ¶æ€æ¨æ–­ï¼Œç¡®å®šä½•æ—¶é‡‡å–ç‰¹å®šæ´»åŠ¨ä»¥åŠå…¶è¡ŒåŠ¨å°†å¦‚ä½•å½±å“ç¯å¢ƒã€‚</p><blockquote><p>This system, termed DishBrain, can leverage the inherent property of neurons to share a â€˜â€˜languageâ€™â€™ of electrical activity to link silicon and BNN systems through electrophysiological stimulation and recording. Given the compatibility of hardware and cells (wetware), it is necessary to investigate what processes would result in intelligent (goal-directed) behavior when BNNs are embodied through a closed-loop system. Two interrelated processes are required for sentient behavior in an intelligent system. Firstly, the system must learn how external states influence internal states via perception and how internal states influence external states via action. Secondly, the system must infer from its sensory states when it should adopt a particular activity and how its actions will influence the environment.</p></blockquote><p>ä¸ºäº†è§£å†³ç¬¬ä¸€ä¸ªè¦æ±‚ï¼Œå¼€å‘äº†å®šåˆ¶è½¯ä»¶é©±åŠ¨ç¨‹åºï¼Œåˆ›å»ºäº†ä½å»¶è¿Ÿé—­ç¯åé¦ˆç³»ç»Ÿï¼Œé€šè¿‡ç”µåˆºæ¿€æ¨¡æ‹Ÿ BNNs ä¸ç¯å¢ƒçš„äº¤äº’ã€‚é—­ç¯ç³»ç»Ÿé€šè¿‡æä¾›æœ‰å…³ç»†èƒåŸ¹å…»è¡Œä¸ºå½±å“çš„åé¦ˆï¼Œä½¿ä½“å¤–åŸ¹å…»ç‰©â€œå…·è±¡åŒ–â€ã€‚å…·è±¡åŒ–éœ€è¦å°†å†…éƒ¨çŠ¶æ€ä¸å¤–éƒ¨çŠ¶æ€åˆ†å¼€ï¼Œå…¶ä¸­æä¾›äº†æœ‰å…³è¡Œä¸ºå¯¹ç»™å®šç¯å¢ƒå½±å“çš„åé¦ˆã€‚å…ˆå‰çš„ç ”ç©¶ï¼Œæ— è®ºæ˜¯ä½“å†…è¿˜æ˜¯ä½“å¤–ï¼Œéƒ½è¡¨æ˜ç”µç”Ÿç†é—­ç¯åé¦ˆç³»ç»Ÿä¼šå¼•å‘æ˜¾è‘—çš„ç½‘ç»œå¯å¡‘æ€§ï¼ˆBakkumç­‰ï¼Œ2008aï¼›Chaoç­‰ï¼Œ2008ï¼‰ã€‚åœ¨ä½“å†…ï¼Œé€šè¿‡ç ´åå°é¼ åˆçº§è§†è§‰çš®å±‚ä¸­è§†è§‰åé¦ˆä¸è¿åŠ¨è¾“å‡ºä¹‹é—´çš„é—­ç¯è€¦åˆï¼Œè¿›ä¸€æ­¥æ”¯æŒäº†è¿™ä¸€è§‚ç‚¹ï¼Œçªæ˜¾äº†åé¦ˆä¸BNNsåŠŸèƒ½è¡Œä¸ºå‘å±•ä¹‹é—´çš„è”ç³»ï¼ˆAttingerç­‰ï¼Œ2017ï¼‰ã€‚</p><blockquote><p>To address the first imperative, custom software drivers were developed to create low-latency closed-loop feedback systems that simulated exchange with an environment for BNNs through electrical stimulation. Closed-loop systems afford an in vitro culture â€˜â€˜embodimentâ€™â€™ by providing feedback on the causal effect of the behavior from the cell culture. Embodiment requires a separation of internal versus external states where feedback of the effect of an action on a given environment is available. Previous works, both in vitro and in silico, have shown that electrophysio-logical closed-loop feedback systems engender significant network plasticity (Bakkum et al., 2008a; Chao et al., 2008). Further support is found in vivo by disrupting the closed-loop coupling between visual feedback and motor outputs in the primary visual cortex of mice (Attinger et al., 2017), highlighting the link between feedback and the development of functional behavior in BNNs.</p></blockquote><p>ä¸ºäº†æ»¡è¶³ç¬¬äºŒä¸ªè¦æ±‚ï¼ŒDishBrainç³»ç»Ÿæµ‹è¯•äº†æ™ºèƒ½è¡Œä¸ºå¯èƒ½å¦‚ä½•äº§ç”Ÿçš„ç†è®ºæ¡†æ¶ã€‚æ™ºèƒ½ç³»ç»Ÿå¦‚ä½•åœ¨ç¯å¢ƒä¸­å…·è±¡åŒ–æ—¶äº§ç”Ÿæ™ºèƒ½è¡Œä¸ºçš„ä¸€ä¸ªå‡è®¾æ˜¯é€šè¿‡è‡ªç”±èƒ½åŸåˆ™ï¼ˆFEPï¼‰çš„ä¸»åŠ¨æ¨ç†ç†è®ºï¼ˆFristonç­‰ï¼Œ2012ï¼‰ã€‚FEPæå‡ºäº†ä¸€ä¸ªå¯æµ‹è¯•çš„å«ä¹‰ï¼Œå³åœ¨æ¯ä¸ªæ—¶ç©ºå°ºåº¦ä¸Šï¼Œä»»ä½•ä¸å…¶ç¯å¢ƒåˆ†ç¦»çš„è‡ªç»„ç»‡ç³»ç»Ÿéƒ½å¯»æ±‚æœ€å°åŒ–å…¶å˜åˆ†è‡ªç”±èƒ½ï¼ˆVFEï¼‰ï¼ˆFristonï¼Œ2010ï¼›Palaciosç­‰ï¼Œ2020ï¼›Parrå’ŒFristonï¼Œ2019ï¼‰ã€‚æ¨¡å‹é¢„æµ‹ä¸è§‚å¯Ÿåˆ°çš„æ„Ÿè§‰ä¹‹é—´çš„å·®è·ï¼ˆâ€œæƒŠè®¶â€æˆ–â€œé¢„æµ‹è¯¯å·®â€ï¼‰å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼æœ€å°åŒ–ï¼šé€šè¿‡ä¼˜åŒ–æœ‰å…³ç¯å¢ƒçš„æ¦‚ç‡ä¿¡å¿µï¼Œä½¿é¢„æµ‹æ›´æ¥è¿‘æ„Ÿè§‰ï¼Œæˆ–è€…é€šè¿‡å¯¹ç¯å¢ƒé‡‡å–è¡ŒåŠ¨ï¼Œä½¿æ„Ÿè§‰ç¬¦åˆå…¶é¢„æµ‹ã€‚è¯¥æ¨¡å‹éšåæš—ç¤ºäº†è¡ŒåŠ¨å’Œæ„ŸçŸ¥çš„ä¸€ä¸ªå…±åŒå®¢è§‚å‡½æ•°ï¼Œè¯„åˆ†å†…éƒ¨æ¨¡å‹ä¸å¤–éƒ¨ç¯å¢ƒä¹‹é—´çš„åŒ¹é…åº¦ã€‚æ ¹æ®è¿™ä¸€ç†è®ºï¼ŒBNNså¯¹ä¸–ç•ŒçŠ¶æ€æŒæœ‰â€œä¿¡å¿µâ€ï¼Œå…¶ä¸­å­¦ä¹ æ¶‰åŠæ›´æ–°è¿™äº›ä¿¡å¿µä»¥æœ€å°åŒ–å®ƒä»¬çš„VFEæˆ–ç§¯ææ”¹å˜ä¸–ç•Œï¼Œä½¿å…¶æ›´å°‘ä»¤äººæƒŠè®¶ï¼ˆParrå’ŒFristonï¼Œ2018ï¼Œ2019ï¼‰ã€‚å¦‚æœå±å®ï¼Œè¿™æ„å‘³ç€é€šè¿‡ç®€å•å‘ˆç°ä¸â€œé”™è¯¯â€è¡Œä¸ºç›¸å…³çš„ä¸å¯é¢„æµ‹åé¦ˆï¼Œåº”è¯¥å¯ä»¥å¡‘é€ BNNè¡Œä¸ºã€‚ä»ç†è®ºä¸Šè®²ï¼ŒBNNsåº”è¯¥é‡‡å–è¡ŒåŠ¨æ¥é¿å…å¯¼è‡´ä¸å¯é¢„æµ‹è¾“å…¥çš„çŠ¶æ€ã€‚é€šè¿‡å¼€å‘ä¸€ä¸ªå…è®¸ç¥ç»åŸ¹å…»ç‰©åœ¨æ¨¡æ‹Ÿæ¸¸æˆä¸–ç•Œä¸­å…·è±¡åŒ–çš„ç³»ç»Ÿï¼Œæˆ‘ä»¬ä¸ä»…èƒ½å¤Ÿæµ‹è¯•è¿™äº›ç»†èƒæ˜¯å¦èƒ½å¤Ÿåœ¨åŠ¨æ€ç¯å¢ƒä¸­è¿›è¡Œç›®æ ‡å¯¼å‘å­¦ä¹ ï¼Œè¿˜èƒ½å¤Ÿæ¢ç©¶æ™ºèƒ½çš„åŸºç¡€ã€‚</p><blockquote><p>To address the second requirement, a theoretical framework for how intelligent behavior may arise was tested by the DishBrain system. One proposition for how intelligent behavior may arise in an intelligent system embodied in an environment is the theory of active inference via the free energy principle (FEP) (Friston et al., 2012). The FEP suggests a testable implication that at every spatiotemporal scale, any self-organizing system separate from its environment seeks to minimize its variational free energy (VFE) (Friston, 2010; Palacios et al., 2020; Parr and Friston, 2019). The gap between the model predictions and observed sensations (â€˜â€˜surpriseâ€™â€™ or â€˜â€˜prediction errorâ€™â€™) may be minimized in two ways: by optimizing probabilistic beliefs about the environment to make predictions more like sensations or by acting upon the environment to make sensations conform to its predictions. This model then implies a common objective function for action and perception that scores the fit between an internal model and the external environment. Under this theory, BNNs hold â€˜â€˜beliefsâ€™â€™ about the state of the world, where learning involves updating these beliefs to minimize their VFE or actively change the world to make it less surprising (Parr and Friston, 2018, 2019). If true, this implies that it should be possible to shape BNN behavior by simply presenting unpredictable feedback following â€˜â€˜incorrectâ€™â€™ behavior. Theoretically, BNNs should adopt actions that avoid the states that result in unpredictable input. By developing a system that allows for neural cultures to be embodied in a simulated game-world, we are not only able to test whether these cells are capable of engaging in goal-directed learning in a dynamic environment, but we are also able to investigate the foundations of intelligence.</p></blockquote><p>å…ˆå‰çš„ç ”ç©¶æ”¯æŒä½“å¤–ç¥ç»å…ƒç½‘ç»œèƒ½å¤Ÿåœ¨å¼€ç¯ç¯å¢ƒä¸­é€šè¿‡ä¸è‡ªç”±èƒ½åŸç†ï¼ˆFEPï¼‰ä¸€è‡´çš„çŠ¶æ€ä¾èµ–æ€§æµ·ä¼¯æ©å¯å¡‘æ€§æ‰§è¡Œç›²æºåˆ†ç¦»ï¼ˆIsomura et al., 2015ï¼›Isomura and Friston, 2018ï¼‰ã€‚æˆ‘ä»¬è¯•å›¾åœ¨è¿™é¡¹å·¥ä½œçš„åŸºç¡€ä¸Šï¼Œæµ‹è¯•ä¸»åŠ¨æ¨ç†ç†è®ºï¼Œè¯¥ç†è®ºå°†è‡ªç”±èƒ½åŸç†åº”ç”¨äºä¸ä»…é€‚åº”å…¶ç¯å¢ƒï¼Œè¿˜èƒ½å¯¹ç¯å¢ƒè¿›è¡Œä½œç”¨ä»¥ä½¿ç¯å¢ƒé€‚åº”è‡ªèº«çš„æœ‰çŸ¥è§‰ç³»ç»Ÿã€‚å› æ­¤ï¼Œæˆ‘ä»¬å‡è®¾å½“åœ¨DishBrainç³»ç»Ÿä¸­æä¾›æ¨¡æ‹Ÿç»å…¸è¡—æœºæ¸¸æˆâ€œä¹’ä¹“â€ï¼ˆPongï¼‰çš„ç»“æ„åŒ–å¤–éƒ¨åˆºæ¿€æ—¶ï¼Œç”Ÿç‰©ç¥ç»ç½‘ç»œï¼ˆBNNï¼‰å°†ä¿®æ”¹å†…éƒ¨æ´»åŠ¨ï¼Œä»¥é¿å…é‡‡ç”¨ä¸ä¸å¯é¢„æµ‹çš„å¤–éƒ¨åˆºæ¿€ç›¸å…³è”çš„çŠ¶æ€ã€‚è¿™ç§è¾“å…¥ä¸å¯é¢„æµ‹æ€§çš„æœ€å°åŒ–å°†è¡¨ç°ä¸ºåœ¨è¿™ä¸ªç®€åŒ–çš„æ¨¡æ‹Ÿâ€œä¹’ä¹“â€ç¯å¢ƒä¸­å¯¹æ¨¡æ‹Ÿâ€œçƒæ‹â€çš„ç›®æ ‡å¯¼å‘æ§åˆ¶ã€‚</p><blockquote><p>Previous work supports that in vitro neuronal networks can perform blind-source separation in an open-loop environment via state-dependent Hebbian plasticity consistent with the FEP (Isomura et al., 2015; Isomura and Friston, 2018). We sought to build upon this work to test the theory of active inference, which applies the FEP to sentient systems that not only adapt to fit their environment, but also act upon their environment to fit it to themselves. We therefore hypothesize that when provided a structured external stimulation simulating the classic arcade game â€˜â€˜Pongâ€™â€™ within the DishBrain system, the BNN would modify internal activity to avoid adopting states linked to unpredictable external stimulation. This minimization of input unpredictability would manifest as the goal-directed control of the simulated â€˜â€˜paddleâ€™â€™ in this simplified simulated â€˜â€˜Pongâ€™â€™ environment.</p></blockquote><p><img src="https://s2.loli.net/2024/04/16/Y8LTPwoq3IKEBD5.jpg" alt="å›¾ 1ï¼šç›˜ä¸­ä¹‹è„‘ç³»ç»Ÿï¼ˆDishBrain Systemï¼‰å’Œå®éªŒæ–¹æ¡ˆå›¾è§£" loading="lazy"></p><h2 id="ç»“æœ">ç»“æœ</h2><h3 id="ç”¨äºè®¡ç®—çš„ç¥ç»å…ƒâ€œæ¹¿ä»¶â€çš„ç”Ÿé•¿">ç”¨äºè®¡ç®—çš„ç¥ç»å…ƒâ€œæ¹¿ä»¶â€çš„ç”Ÿé•¿</h3><p>æ¥è‡ªå•®é½¿èƒšèƒè§£å‰–çš®å±‚çš„çš®è´¨ç»†èƒå¯ä»¥åœ¨è¥å…»ä¸°å¯Œçš„åŸ¹å…»åŸºä¸­ç”Ÿé•¿åœ¨å¾®ç”µæé˜µåˆ—ä¸Šï¼Œå¹¶ä¿æŒæ•°æœˆï¼ˆBardyç­‰ï¼Œ2015å¹´ï¼›Lossiå’ŒMerighiï¼Œ2018å¹´ï¼‰ã€‚è¿™äº›åŸ¹å…»ç‰©å°†å‘å±•å‡ºå…·æœ‰å¤æ‚å½¢æ€çš„ç»“æ„ï¼Œå…·æœ‰è®¸å¤šæ ‘çªå’Œè½´çªè¿æ¥ï¼Œå½¢æˆåŠŸèƒ½æ€§BNNsï¼ˆKamiokaç­‰ï¼Œ1996å¹´ï¼›Wagenaarç­‰ï¼Œ2006å¹´ï¼‰ã€‚ä»èƒšèƒ15.5å¤©ï¼ˆE15.5ï¼‰çš„å°é¼ èƒšèƒä¸­åŸ¹å…»çš„åŸä»£ç¥ç»åŸ¹å…»ç‰©åœ¨å›¾2Aä¸­æ˜¾ç¤ºã€‚HiPSCè¢«è¯±å¯¼åˆ†åŒ–ä¸ºæ´»è·ƒçš„å¼‚è´¨æ€§çš®å±‚ç¥ç»å…ƒå•å±‚ï¼Œå·²æ˜¾ç¤ºå‡ºæˆç†Ÿçš„åŠŸèƒ½æ€§ç‰¹æ€§ï¼ˆDenhamç­‰ï¼Œ2012å¹´ï¼›Denhamå’ŒDottoriï¼Œ2009å¹´ï¼›Shiç­‰ï¼Œ2012å¹´ï¼‰ã€‚ä½¿ç”¨åŒSMADæŠ‘åˆ¶ï¼ˆDSIï¼‰ï¼ˆDenhamç­‰ï¼Œ2012å¹´ï¼›Fattahiç­‰ï¼Œ2015å¹´ï¼‰ï¼Œæˆ‘ä»¬åŸ¹å…»å‡ºäº†é•¿æœŸå½¢æˆä¸æ”¯æŒèƒ¶è´¨ç»†èƒå¯†é›†è¿æ¥çš„çš®å±‚ç¥ç»å…ƒï¼ˆå›¾2Bå’Œ2Cï¼‰ã€‚æœ€åï¼Œæˆ‘ä»¬è®¡åˆ’ä½¿ç”¨ä¸åŒçš„HiPSCåˆ†åŒ–æ–¹æ³• - NGN2ç›´æ¥é‡ç¼–ç¨‹ï¼ˆPakç­‰ï¼Œ2018å¹´ï¼›Zhangç­‰ï¼Œ2013å¹´ï¼‰ - ç”¨äºæˆ‘ä»¬ç ”ç©¶çš„æœ€åéƒ¨åˆ†ï¼Œç ”ç©¶åé¦ˆæœºåˆ¶ã€‚è¿™ç§é«˜äº§æ–¹æ³•å¯¼è‡´ç»†èƒæ˜¾ç¤ºå‡ºæ³›ç¥ç»å…ƒæ ‡è®°ç‰©ï¼ˆå›¾S1Aå’ŒS1Bï¼‰ã€‚è¿™äº›ç»†èƒé€šå¸¸æ˜¾ç¤ºå‡ºé«˜æ¯”ä¾‹çš„å…´å¥‹æ€§è°·æ°¨é…¸èƒ½ç¥ç»å…ƒï¼Œä½¿ç”¨ qPCR å®šé‡ï¼Œå¦‚å›¾2Dæ‰€ç¤ºã€‚é€šè¿‡æ‰«æç”µå­æ˜¾å¾®é•œï¼ˆSEMï¼‰ç¡®è®¤äº†è¿™äº›ç¥ç»å…ƒåŸ¹å…»ç‰©åœ¨ç»´æŒäº†3ä¸ªæœˆçš„ç»†èƒä¸Šçš„ HD-MEAs ä¸Šçš„æ•´åˆï¼ˆå›¾2Eï¼‰ã€‚å¯ä»¥è§‚å¯Ÿåˆ°åœ¨å½¢æˆäº¤ç»‡ç½‘ç»œè·¨è¶Š MEA åŒºåŸŸçš„ç¥ç»å…ƒåŸ¹å…»ç‰©ä¸­çš„å¯†é›†è¿æ¥çš„æ ‘çªç½‘ç»œï¼ˆå›¾2Fï¼‰ã€‚è¿™äº›ç¥ç»å…ƒåŸ¹å…»ç‰©ä¼¼ä¹å¾ˆå°‘éµå¾ª MEA çš„æ‹“æ‰‘ç»“æ„ï¼Œæ›´æœ‰å¯èƒ½å½¢æˆè¿æ¥ç»†èƒçš„å¤§å›¢ç°‡ï¼Œå…·æœ‰å¯†é›†çš„æ ‘çªç½‘ç»œï¼ˆå›¾2Gå’Œ2Hï¼‰ã€‚è¿™å¯èƒ½æ˜¯ç”±äºMEAä¸­å•ä¸ªç”µæçš„å¤§å°ºå¯¸ï¼Œä»¥åŠå¯èƒ½çš„è¶‹åŒ–æ•ˆåº”ï¼Œè¿™äº›æ•ˆåº”å¯ä»¥å¸®åŠ©æŠµæ¶ˆåŸºè´¨åœ°å½¢å¯¹ç¥ç»çº¤ç»´æŠ•å°„çš„å½±å“ï¼ˆMattottiç­‰ï¼Œ2012å¹´ï¼‰ã€‚</p><blockquote><p>Cortical cells from the dissected cortices of rodent embryos can be grown on MEAs in nutrient-rich media and maintained for months (Bardy et al., 2015; Lossi and Merighi, 2018). These cultures will develop complicated morphology with numerous dendritic and axonal connections, leading to functional BNNs (Kamioka et al., 1996; Wagenaar et al., 2006). Primary neural cultures from embryonic day 15.5 (E15.5) mouse embryos were cultured, with representative cultures shown in Figure 2A. HiPSCs were differentiated into monolayers of active heterogeneous cortical neurons, which have been shown to display mature functional properties (Denham et al., 2012; Denham and Dottori, 2009; Shi et al., 2012). Using dual SMAD inhibition (DSI) (Denham et al., 2012; Fattahi et al., 2015), we developed long-term cortical neurons that formed dense connections with supporting glial cells (Figures 2B and 2C). Finally, we aimed to expand our study using a different method of hiPSC differentiationâ€”NGN2 direct reprogramming (Pak et al., 2018; Zhang et al., 2013)â€”used in our final part of this study investigating feedback mechanisms. This high-yield method resulted in cells displaying pan-neuronal markers (Figures S1A and S1B). These cells typically display a high proportion of excitatory glutamatergic cells, quantified using qPCR, shown in Figure 2D. Integration of these neuronal cultures on the HD-MEAs was confirmed via scanning electron microscopy (SEM) on cells that had been maintained for 3 months (Figure 2E). Densely interconnected dendritic networks could be observed in neuronal cultures forming interlaced networks spanning the MEA area (Figure 2F). These neuronal cultures appeared to rarely follow the topography of the MEA, being more likely to form large clusters of connected cells with dense dendritic networks (Figures 2G and 2H). This is likely due to the large size of an individual electrode within the MEA and potentially also chemotactic effects that can contribute to counteract the effect of substrate topography on neurite projections (Mattotti et al., 2012).</p></blockquote><p><img src="https://s2.loli.net/2024/04/16/jeR2Ozo9XfZBITE.jpg" alt="å›¾ 2ï¼šçš®å±‚ç»†èƒå½¢æˆå¯†é›†çš„ç›¸äº’è¿æ¥çš„ç½‘ç»œ" loading="lazy"></p><h3 id="ç¥ç»ç»†èƒæ˜¾ç¤ºå‡ºå…·æœ‰æ—¶é—´å‘å±•è§„å¾‹çš„ç‰¹å¾æ€§è‡ªå‘åŠ¨ä½œç”µä½">ç¥ç»ç»†èƒæ˜¾ç¤ºå‡ºå…·æœ‰æ—¶é—´å‘å±•è§„å¾‹çš„ç‰¹å¾æ€§è‡ªå‘åŠ¨ä½œç”µä½</h3><p>æˆ‘ä»¬ä»¥é«˜ç©ºé—´å’Œæ—¶é—´åˆ†è¾¨ç‡æ˜ å°„äº†ä½“å¤–åŸ¹å…»çš„ç¥ç»ç³»ç»Ÿä¸­ç”µç”Ÿç†æ´»åŠ¨çš„å‘å±•ã€‚åœ¨E15.5å•®é½¿åŠ¨ç‰©çš„åŸä»£çš®è´¨ç»†èƒä¸­ï¼Œå‘ç°åœ¨åŸ¹å…»å¤©æ•°14å¤©ï¼ˆDIVï¼‰æ—¶å‡ºç°å¼ºåŠ²çš„æ´»åŠ¨ï¼ˆå›¾3Aå’Œ3Eï¼‰ï¼Œåœ¨è¿™é‡Œå®šæœŸè§‚å¯Ÿåˆ°åŒæ­¥çˆ†å‘æ´»åŠ¨ï¼Œæ­£å¦‚ä»¥å‰å±•ç¤ºçš„ï¼ˆKamiokaç­‰ï¼Œ1996å¹´ï¼›Wagenaarç­‰ï¼Œ2006å¹´ï¼‰ã€‚ä½œä¸ºå¯¹æ¯”ï¼Œä¸ä»¥å‰çš„æŠ¥å‘Šç±»ä¼¼ï¼ˆShiç­‰ï¼Œ2012å¹´ï¼‰ï¼Œä½¿ç”¨ DSI åˆ†åŒ–çš„ HiPSC èƒŒæ™¯çš„çš®è´¨ç»†èƒç›´åˆ°DIV 73æ‰æ˜¾ç¤ºå‡ºåŒæ­¥çˆ†å‘æ´»åŠ¨ï¼ˆå›¾3Aå’Œ3Fï¼‰ã€‚ä½¿ç”¨NGN2ç›´æ¥é‡ç¼–ç¨‹åˆ†åŒ–çš„ HiPSC è¡¨ç°å‡ºæ›´æ—©çš„æ´»åŠ¨ï¼Œé€šå¸¸åœ¨ç¬¬14åˆ°24å¤©ä¹‹é—´ï¼ˆå›¾3Aå’Œ3Gï¼‰ã€‚é€šè¿‡æ¯æ—¥æ´»åŠ¨æ‰«æç›‘æµ‹ç”µç”Ÿç†æˆç†Ÿæ€§ã€‚åœ¨æµ‹è¯•æœŸé—´ï¼Œæ‰€æœ‰ç»†èƒç±»å‹çš„æœ€å¤§æ”¾ç”µé¢‘ç‡å¸¸ä¼šå¢åŠ å¹¶åœ¨æµ‹è¯•æœŸé—´ä¿æŒç›¸å¯¹ç¨³å®šï¼ˆå›¾3Bï¼‰ï¼Œä½†åœ¨æµ‹è¯•å¤©æ•°ä¸­è§‚å¯Ÿåˆ°äº†å¹³å‡æ”¾ç”µé¢‘ç‡ï¼ˆå›¾3Cï¼‰å’Œæ”¾ç”µé¢‘ç‡æ–¹å·®ï¼ˆå›¾3Dï¼‰çš„å˜åŒ–ï¼›ç‰¹åˆ«æ˜¯ï¼Œä½¿ç”¨ NGN2 ç›´æ¥é‡ç¼–ç¨‹æ–¹æ³•åˆ†åŒ–çš„åœ¨æµ‹è¯•æœŸé—´çš„å¹³å‡æ”¾ç”µé¢‘ç‡å’Œæ”¾ç”µé¢‘ç‡æ–¹å·®å‡æ˜¾è‘—å¢åŠ ã€‚</p><blockquote><p>In vitro development of electrophysiological activity in neural systems at high spatial and temporal resolution was mapped. Robust activity in primary cortical cells from E15.5 rodents was found at days in vitro (DIV) 14 (Figures 3A and 3E) where bursts of synchronized activity were regularly observed, as previously demonstrated (Kamioka et al., 1996; Wagenaar et al., 2006). In contrast, similar to previous reports (Shi et al., 2012), synchronized bursting activity was not observed in cortical cells from an hiPSC background differentiated using DSI until DIV 73 (Figures 3A and 3F). HiPSCs differentiated using NGN2 direct reprogramming showed activity much earlier, typically between days 14 and 24 (Figures 3A and 3G). Electrophysiological maturation was monitored with daily activity scans. While max firing rate typically increased and remained relatively stable over time for all cell types during the testing period (Figure 3B), changes were observed in both the mean firing rate (Figure 3C) and variance in firing rate (Figure 3D) over the days of testing; in particular, hiPSCs differentiated using the NGN2 direct reprogramming method showed a considerable increase in mean firing rate and the variance in firing over days of testing.</p></blockquote><p><img src="https://s2.loli.net/2024/04/16/xXqwbEjOgkITvQy.jpg" alt="å›¾ 3ï¼šçš®å±‚ç»†èƒæ˜¾ç¤ºå‡ºè‡ªå‘çš„ç”µç”Ÿç†æ´»åŠ¨" loading="lazy"></p><h3 id="æ„å»ºæ¨¡å—åŒ–å®æ—¶å¹³å°ï¼Œåˆ©ç”¨ç¥ç»å…ƒè®¡ç®—">æ„å»ºæ¨¡å—åŒ–å®æ—¶å¹³å°ï¼Œåˆ©ç”¨ç¥ç»å…ƒè®¡ç®—</h3><p>æˆ‘ä»¬å¼€å‘äº† DishBrain ç³»ç»Ÿï¼Œä»¥åˆ©ç”¨ç¥ç»å…ƒè®¡ç®—å¹¶ä¸åµŒå…¥æ¨¡æ‹Ÿç¯å¢ƒçš„ç¥ç»å…ƒè¿›è¡Œäº¤äº’ï¼ˆSTARæ–¹æ³•ï¼›å›¾4Aï¼›è§†é¢‘S2ï¼‰ã€‚ DishBrain ç¯å¢ƒæ˜¯ä¸€ä¸ªä½å»¶è¿Ÿã€å®æ—¶ç³»ç»Ÿï¼Œå¯ä¸ä¾›åº”å•† MaxOne è½¯ä»¶è¿›è¡Œäº¤äº’ï¼Œä½¿å…¶å¯ä»¥ä»¥æ‰©å±•å…¶åŸå§‹åŠŸèƒ½çš„æ–¹å¼ä½¿ç”¨ï¼ˆå›¾4Bï¼‰ã€‚è¯¥ç³»ç»Ÿå¯ä»¥è®°å½•ç¥ç»å…ƒåŸ¹å…»ç‰©çš„ç”µæ´»åŠ¨ï¼Œå¹¶é€šè¿‡ç”µç”Ÿç†åˆºæ¿€æä¾›â€œæ„Ÿè§‰â€ï¼ˆéä¾µå…¥æ€§ï¼‰ç”µåˆºæ¿€ï¼Œä¸ç¥ç»ç½‘ç»œçš„æ´»åŠ¨äº§ç”Ÿçš„åŠ¨ä½œç”µä½ç›¸ä¼¼ï¼ˆRuaroç­‰ï¼Œ2005å¹´ï¼‰ã€‚ä½¿ç”¨STARæ–¹æ³•ä¸­æè¿°çš„ç¼–ç æ–¹æ¡ˆï¼Œå¤–éƒ¨ç”µåˆºæ¿€ä¼ è¾¾ä¸€ç³»åˆ—ä¿¡æ¯ã€‚ä¸ºäº†æˆ‘ä»¬çš„ç›®çš„ï¼Œæˆ‘ä»¬é€‰æ‹©äº†ä¸‰ç§ä¸åŒçš„ä¿¡æ¯ç±»åˆ«ï¼šå¯é¢„æµ‹ã€éšæœºå’Œæ„Ÿè§‰ï¼ˆSTARæ–¹æ³•ï¼Œå›¾4Cï¼‰ã€‚ DishBrain ï¼ˆå›¾S2ï¼‰æ—¨åœ¨å°†è¿™äº›åŠŸèƒ½é›†æˆåˆ°ä¸€ä¸ªé—­ç¯ç³»ç»Ÿä¸­ï¼Œä»¥â€œè¯»å–â€ç¥ç»å…ƒåŸ¹å…»ç‰©çš„ä¿¡æ¯ï¼Œå¹¶åœ¨å®æ—¶é—­ç¯ç³»ç»Ÿä¸­â€œå†™å…¥â€æ„Ÿè§‰æ•°æ®ï¼Œä½¿ç¥ç»å…ƒâ€œåŠ¨ä½œâ€å½±å“æœªæ¥åˆ°æ¥çš„â€œæ„Ÿè§‰â€åˆºæ¿€ã€‚æ„å›¾æ˜¯å°† BNNs ä½“ç°åœ¨è™šæ‹Ÿç¯å¢ƒä¸­ï¼Œå¹¶é‡åŒ–å¯è¯æ˜çš„å­¦ä¹ æ•ˆæœã€‚</p><blockquote><p>The DishBrain system was developed to leverage neuronal computation and interact with neurons embodied in a simulated environment (STAR Methods; Figure 4A; Video S2). The DishBrain environment is a low-latency, real-time system that interacts with the vendor MaxOne software, allowing it to be used in ways that extend its original functions (Figure 4B). This system can record electrical activity in a neuronal culture and provide â€˜â€˜sensoryâ€™â€™ (non-invasive) electrical stimulation comparably to the generation of action potentials by activity in the neuronal network (Ruaro et al., 2005). Using the coding schemes described in STAR Methods, external electrical stimulations convey a range of information. For our purposes, we opted for three distinct information categories: predictable, random, and sensory (STAR Methods, Figure 4C). DishBrain (Figure S2) was designed to integrate these functions to â€˜â€˜readâ€™â€™ information from and â€˜â€˜writeâ€™â€™ sensory data to a neural culture in a closed-loop system so neural â€˜â€˜actionâ€™â€™ influences future incoming â€˜â€˜sensoryâ€™â€™ stimulation in real time. The intent was to embody BNNs in a virtual environment and to quantify demonstrable learning effects.</p></blockquote><p>é€šè¿‡ DishBrain çš„åˆæ­¥éªŒè¯æ˜¯æ¨¡æ‹Ÿç»å…¸è¡—æœºæ¸¸æˆâ€œä¹’ä¹“çƒâ€ï¼Œé€šè¿‡åœ¨8ä¸ªç”µæçš„é¢„å®šä¹‰æ„Ÿè§‰åŒºåŸŸæä¾›è¾“å…¥æ¥å®ç°ï¼ˆå›¾4Dï¼‰ã€‚ç”µæçš„æ’åˆ—æ–¹å¼å…è®¸ä¸€ç§ç²—ç•¥ä½†æ‹“æ‰‘ä¸€è‡´çš„ä½ç½®ç¼–ç ï¼Œä¸ä½“å†…ç³»ç»Ÿä¸€è‡´ï¼ˆå‚è§STARæ–¹æ³•ï¼‰ï¼ˆBaranesç­‰ï¼Œ2012å¹´ï¼›Patelç­‰ï¼Œ2014å¹´ï¼›Shlensç­‰ï¼Œ2006å¹´ï¼‰ã€‚åœ¨å®æ—¶æ”¶é›†çš„å®šä¹‰çš„è¿åŠ¨åŒºåŸŸçš„ç”µç”Ÿç†æ´»åŠ¨ä¸­ï¼Œç§»åŠ¨ä¸€ä¸ªæŒ¡æ¿ã€‚å¦‚æœè¿™ç§æ´»åŠ¨æ²¡æœ‰å¯¼è‡´æŒ¡æ¿æ‹¦æˆªçƒï¼Œå°†æä¾›ä¸€ä¸ªä¸å¯é¢„æµ‹çš„åˆºæ¿€ï¼ˆ150mVç”µå‹ï¼Œ5Hzï¼ŒæŒç»­4ç§’ï¼›å‚è§STARæ–¹æ³•ï¼‰ï¼Œä¹‹åçƒåˆºæ¿€å°†é‡æ–°å¼€å§‹ï¼Œå¹¶æ²¿ç€éšæœºçŸ¢é‡è¿›è¡Œã€‚ç›¸åï¼Œå¦‚æœæˆåŠŸæ‹¦æˆªå‘ç”Ÿï¼Œå°†åœ¨æ‰€æœ‰ç”µæä¸ŠåŒæ—¶ä»¥100HzæŒç»­100msæä¾›å¯é¢„æµ‹çš„åˆºæ¿€ï¼ˆçŸ­æš‚ä¸­æ–­å¸¸è§„æ„Ÿè§‰åˆºæ¿€ï¼‰ï¼Œç„¶åæ¸¸æˆä¼šç»§ç»­å¯é¢„æµ‹åœ°è¿›è¡Œã€‚åˆæ­¥è°ƒæŸ¥æ¯”è¾ƒäº†ä¸åŒçš„è¿åŠ¨åŒºåŸŸé…ç½®ï¼Œä»¥éªŒè¯è¿åŠ¨åŒºåŸŸè®¾ç½®æ˜¯å¦ä»…é€šè¿‡è¾“å…¥åˆºæ¿€å¼•å…¥åå·®ï¼ˆä¸çƒä½ç½®å¯¹é½çš„æŒ¡æ¿ç§»åŠ¨ï¼‰ï¼ˆSTARæ–¹æ³•ï¼›å›¾S3ï¼‰ã€‚çš®è´¨ç»†èƒçš„å®éªŒåŸ¹å…»ç‰©æ˜¾ç¤ºäº†æ›´é«˜çš„å‡»ä¸­-å¤±è¯¯æ¯”ç‡ï¼Œæˆ‘ä»¬å°†å…¶å®šä¹‰ä¸ºå¹³å‡å›åˆé•¿åº¦ï¼Œåœ¨å¹³è¡¡çš„åˆ†å‰²è¿åŠ¨é…ç½®ä¸­ï¼ˆå›¾4Dï¼‰ï¼Œè€Œä½œä¸ºå¯¹ç…§ç»„ä½¿ç”¨çš„ä»…å¡«å……ä»‹è´¨çš„ MEA æ˜¾ç¤ºäº†æœ€å°çš„åå·®ã€‚ä¸åŒçš„åŒºåŸŸè¢«å®šä¹‰ä¸ºâ€œè¿åŠ¨åŒºåŸŸâ€ï¼Œå…¶ä¸­è¿åŠ¨åŒºåŸŸåŠ¨ä½œ1çš„æ´»åŠ¨å°†æŒ¡æ¿ç§»åŠ¨â€œå‘ä¸Šâ€ï¼Œè€Œè¿åŠ¨åŒºåŸŸåŠ¨ä½œ2çš„æ´»åŠ¨å°†æŒ¡æ¿ç§»åŠ¨â€œå‘ä¸‹â€ã€‚è¿™ç§å›ºå®šå¸ƒå±€æ„å‘³ç€é€šè¿‡è‡ªç»„ç»‡ï¼Œéœ€è¦é‡‡å–ä¸åŒçš„å‘å°„æ¨¡å¼ï¼Œè¿™äº›æ¨¡å¼æ˜¯éšæœºåˆ†å¸ƒçš„ï¼Œä¸â€œè¿åŠ¨â€é…ç½®ç›¸å¯¹åº”ï¼Œè¿™å¼•å‘äº†ä¸€ä¸ªé—®é¢˜ï¼Œå³åœ¨å¤šå¤§ç¨‹åº¦ä¸Šä¼šå‘ç”Ÿè¿™ç§è‡ªç»„ç»‡ã€‚</p><blockquote><p>The initial proof of principle using DishBrain was to simulate the classic arcade game â€˜â€˜Pongâ€™â€™ by delivering inputs to a predefined sensory area of 8 electrodes (Figure 4D). Electrodes were arranged in a manner that would allow a coarse, yet topographically consistent, place coding, consistent with in vivo systems (see STAR Methods) (Baranes et al., 2012; Patel et al., 2014; Shlens et al., 2006). The electrophysiological activity of defined motor regions was gatheredâ€”in real timeâ€”to move a paddle. If this activity did not result in an interception of the ball by the paddle, an unpredictable stimulus was delivered (150mV voltage at 5Hz for 4 seconds; see STAR Methods), after which time the ball stimulation would recommence on a random vector. In contrast, if a successful interception occurred, a predictable stimulus was delivered across all electrodes simultaneously at 100Hz for 100ms (briefly interrupting the regular sensory stimulation) before the game continued predictably. Preliminary investigations compared different motor region configurations to verify that motor region setup did not introduce bias (paddle movement that aligned to the ball position) from input stimulation alone (STAR Methods; Figure S3). Experimental cultures of cortical cells showed a higher hit-miss ratio, which we defined as the average rally length, on counterbalanced split-motor configurations (Figure 4D), where media-only-filled MEAs used as a control group also showed minimal bias. Distinct areas were defined as â€˜â€˜motor regions,â€™â€™ where activity in motor region action 1 moved the paddle â€˜â€˜upâ€™â€™ and activity in motor region action 2 moved the paddle â€˜â€˜down.â€™â€™ This fixed layout means that monolayers of cellsâ€”with a random distribution that is arbitrary in relation to the â€˜â€˜motorâ€™â€™ configurationâ€”will need to adopt distinct firing patterns through self-organization (and raises the question to what extent this self-organization will occur).</p></blockquote><p><img src="https://s2.loli.net/2024/04/16/gFw5OECu6a4Q7Wm.jpg" alt="å›¾ 4ï¼šä¿¡æ¯å¯†åº¦ä¸æ–­å¢åŠ çš„ç¤ºæ„å›¾å’Œè¯•ç‚¹æµ‹è¯•" loading="lazy"></p><p><a href="https://www.cell.com/cms/10.1016/j.neuron.2022.09.001/attachment/db2f7e55-0486-47dc-a440-86d54864fbc1/mmc3.mp4">è§†é¢‘ S2: äº¤äº’å¼SpikeStreamå¯è§†åŒ–å·¥å…·çš„ä»£è¡¨æ€§ç”µå½±å’Œç³»ç»Ÿè®¾ç½®æ¦‚è¿°ï¼Œä¸å›¾ 5ç›¸å…³</a></p><h3 id="å¢åŠ æ„Ÿå®˜ä¿¡æ¯è¾“å…¥å¯†åº¦ä¼šæé«˜æ€§èƒ½">å¢åŠ æ„Ÿå®˜ä¿¡æ¯è¾“å…¥å¯†åº¦ä¼šæé«˜æ€§èƒ½</h3><p>DishBrain ç³»ç»Ÿåœ¨ä¸‰ä¸ªé¢„è¯•éªŒä¸­å¾—åˆ°äº†å®Œå–„ï¼Œæ¯ä¸ªé¢„è¯•éªŒéƒ½å¢åŠ äº†æ„Ÿå®˜ä¿¡æ¯çš„å¯†åº¦ã€‚é¢„è¯•éªŒ1ä½¿ç”¨4Hzçš„åˆºæ¿€ï¼Œä»…æ¶‰åŠä½ç½®ç¼–ç ï¼Œå…¶ä¸­åˆºæ¿€çš„ä½ç½®å¯¹åº”äºçƒåœ¨yè½´ä¸Šçš„ä½ç½®ã€‚é¢„è¯•éªŒ2æ¢ç´¢äº†ä¸åŒçš„é…ç½®ï¼Œå¹¶å¼•å…¥äº†åŸºäºæ´»åŠ¨çš„æƒé‡åˆ°è¿åŠ¨åŒºåŸŸï¼Œä»¥è§£é‡Šç»†èƒå¯†åº¦æˆ–æ´»åŠ¨å·®å¼‚ã€‚é¢„è¯•éªŒ3é‡‡ç”¨äº†å›¾4Dä¸­çš„å¸ƒå±€ï¼Œå¹¶æ”¹ç”¨äº†ç»“åˆé¢‘ç‡ï¼ˆ4-40Hzï¼‰å’Œä½ç½®ç¼–ç çš„æ•°æ®è¾“å…¥æ–¹æ³•ã€‚è¿™ç§ç»“åˆçš„é¢‘ç‡å’Œä½ç½®ç¼–ç åœ¨æ¦‚å¿µä¸Šä¸å•®é½¿åŠ¨ç‰©çš„æ¡¶çŠ¶çš®å±‚æœ‰å¼•äººæ³¨ç›®çš„ç”Ÿç‰©å­¦ç›¸ä¼¼æ€§ï¼Œè¡¨æ˜è¿™ç§ç¼–ç åœ¨ç”Ÿç†ä¸Šæ˜¯è¿è´¯çš„ï¼ˆHarrellç­‰äººï¼Œ2020å¹´ï¼›Lyç­‰äººï¼Œ2012å¹´ï¼›Petersenç­‰äººï¼Œ2001å¹´ï¼‰ã€‚æ¯”è¾ƒäº†æ¯ç§åŸ¹å…»ç±»å‹åœ¨æœ€ååäº”åˆ†é’Ÿçš„æ¸¸æˆè¡¨ç°ï¼ˆå›¾4Eå’Œè¡¨S1ï¼‰ã€‚åŸ¹å…»ç‰©åœ¨ç¬¬äºŒæ¬¡å’Œæœ€åä¸€æ¬¡é¢„è¯•éªŒä»¥åŠç¬¬ä¸€æ¬¡å’Œæœ€åä¸€æ¬¡é¢„è¯•éªŒä¹‹é—´æ˜¾ç¤ºå‡ºå¹³å‡å›åˆé•¿åº¦çš„æ˜¾è‘—å¢åŠ ã€‚åœ¨ä¸åŒçš„åŸ¹å…»ç‰©ä¹‹é—´ï¼Œäººç±»çš®å±‚ç»†èƒï¼ˆHCCsï¼‰çš„å¹³å‡å›åˆé•¿åº¦æ˜¾è‘—é•¿äºå¸¦æœ‰å°é¼ çš®å±‚ç»†èƒï¼ˆMCCsï¼‰çš„åŸ¹å…»ç‰©ï¼ˆè¡¨S2ï¼‰ã€‚æ€»ä½“è€Œè¨€ï¼Œè¿™äº›ç»“æœæ”¯æŒè¿™æ ·çš„è§‚ç‚¹ï¼šå¢åŠ æ„Ÿå®˜ä¿¡æ¯çš„é‡å¯ä»¥æé«˜æ€§èƒ½ï¼Œå³ä½¿åœ¨ç»†èƒåŸ¹å…»ç‰¹å¾ä¿æŒä¸å˜çš„æƒ…å†µä¸‹ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p><blockquote><p>The DishBrain protocol was refined over three pilot studies, each increasing the density of sensory information. Pilot study 1 operated with a 4Hz stimulation that only involved place coding, where the location of the stimulation corresponded to the position of the ball on the y axis. Pilot study 2 investigated different configurations and introduced activity-based weighting to motor regions to account for cell density or activity differences. Pilot study 3 adopted the layout in Figure 4D and changed to the combined rate (4â€“40Hz) and place-coding method of data input. This combined rate and place coding has compelling biological similarities conceptually to the rodent barrel cortex, suggesting this encoding is physiologically coherent (Harrell et al., 2020; Ly et al., 2012; Petersen et al., 2001). Gameplay for the final fifteen minutes for each culture type was compared (Figure 4E and Table S1). Cultures displayed a significant increase in the average rally length between the second and final pilot studies and the first and final pilot studies. Between cultures, human cortical cells (HCCs) had significantly longer average rally lengths than cultures with mice cortical cells (MCCs) (Table S2). Overall, these results support that increasing the amount of sensory information improved performance, even when cell culture features were kept constant.</p></blockquote><h3 id="BNNs-åœ¨æ¸¸æˆç¯å¢ƒä¸­å…·æœ‰å®ä½“æ—¶ï¼Œä¼šéšæ—¶é—´è€Œå­¦ä¹ ">BNNs åœ¨æ¸¸æˆç¯å¢ƒä¸­å…·æœ‰å®ä½“æ—¶ï¼Œä¼šéšæ—¶é—´è€Œå­¦ä¹ </h3><p>ä¸ºäº†æµ‹è¯•è‡ªç”±èƒ½åŸç†ï¼ˆFEPï¼‰çš„é¢„æµ‹ï¼ˆå›¾5Aï¼‰ï¼Œä½¿ç”¨é€‰å®šçš„å‚æ•°ï¼ˆSTARæ–¹æ³•ï¼‰ï¼Œå°†çš®å±‚ç»†èƒï¼ˆMCCså’ŒHCCsï¼‰ä¸ä»…å«åŸ¹å…»åŸºçš„å¯¹ç…§ç»„ï¼ˆCTLï¼‰è¿›è¡Œäº†æ¯”è¾ƒï¼›è¿˜æœ‰ä¼‘æ¯é˜¶æ®µï¼ˆRSTï¼‰ï¼Œåœ¨æ­¤é˜¶æ®µï¼Œæ´»è·ƒçš„åŸ¹å…»ç‰©æ§åˆ¶äº†çƒæ‹ä½†æ²¡æœ‰æ¥æ”¶åˆ°ä»»ä½•æ„Ÿè§‰ä¿¡æ¯ï¼›ä»¥åŠåœ¨ç¡…ï¼ˆISï¼‰å¯¹ç…§ç»„ï¼Œè¿™äº›å¯¹ç…§ç»„æ¨¡æ‹Ÿäº†æ¸¸æˆçš„æ‰€æœ‰æ–¹é¢ï¼Œé™¤äº†çƒæ‹æ˜¯ç”±éšæœºå™ªå£°é©±åŠ¨ï¼Œåœ¨399æ¬¡æµ‹è¯•ä¼šè¯ä¸­è¿›è¡Œäº†æ¯”è¾ƒï¼ˆ80-CTL [n = 6 MEA]ï¼Œ42-RST [n = 20åŸ¹å…»ç‰©]ï¼Œ38-IS [n = 3ç§å­]ï¼Œ101-MCCs [n = 9åŸ¹å…»ç‰©]ï¼Œ138-HCCs [n = 11åŸ¹å…»ç‰©]ï¼‰ã€‚å¹³å‡å¯¹æ‰“é•¿åº¦æ˜¾ç¤ºäº†ç»„å’Œæ—¶é—´ï¼ˆå‰5åˆ†é’Ÿå’Œå15åˆ†é’Ÿï¼‰ä¹‹é—´çš„æ˜¾è‘—äº¤äº’ä½œç”¨ï¼ˆå›¾5Bå’Œè¡¨S1ï¼‰ã€‚åªæœ‰MCCå’ŒHCCåŸ¹å…»ç‰©æ˜¾ç¤ºå‡ºæ˜æ˜¾çš„å­¦ä¹ è¿¹è±¡ï¼Œéšç€æ—¶é—´çš„æ¨ç§»å¯¹æ‰“é•¿åº¦æ˜¾è‘—å¢åŠ ã€‚æ­¤å¤–ï¼Œåœ¨æ¸¸æˆä¸­å‘ç°åœ¨æ—¶é—´ç‚¹1ï¼ˆT1ï¼‰æœŸé—´è§‚å¯Ÿåˆ°å…³é”®æ˜¾è‘—å·®å¼‚ï¼ˆè¡¨S1ï¼‰ï¼šHCCç»„è¡¨ç°æ˜æ˜¾æ¯”MCCã€CTLå’ŒISç»„å·®ï¼ˆè¡¨S2ï¼‰ã€‚è¿™è¡¨æ˜HCCåœ¨åˆå§‹ä½“éªŒç¯å¢ƒæ—¶è¡¨ç°ä¸ä½³ï¼Œè¡¨æ˜çƒæ‹çš„åˆå§‹å¤±è°ƒæ§åˆ¶æˆ–å¯èƒ½æ˜¯ä¸€ç§æ¢ç´¢æ€§è¡Œä¸ºã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨æ—¶é—´ç‚¹2ï¼ˆT2ï¼‰æ—¶ï¼Œè¿™ä¸€è¶‹åŠ¿å‘ç”Ÿäº†é€†è½¬ï¼›MCCå’ŒHCCç»„æ˜æ˜¾ä¼˜äºæ‰€æœ‰å¯¹ç…§ç»„ï¼ŒHCCç»„ä¸MCCç»„ç›¸æ¯”ç¨å¾®ä½†æ˜¾è‘—è¡¨ç°æ›´å¥½ï¼ˆè¡¨S1å’Œè¡¨S2ï¼‰ã€‚è¿™äº›æ•°æ®è¡¨æ˜å®éªŒç»„ä¸­å­˜åœ¨æ˜¾è‘—çš„å­¦ä¹ æ•ˆåº”ï¼Œè€Œåœ¨å¯¹ç…§ç»„ä¸­ä¸å­˜åœ¨ï¼ŒåŒæ—¶è¯æ˜äº†å­¦ä¹ èƒ½åŠ›åœ¨è€é¼ å’Œäººç±»ç»†èƒä¹‹é—´å­˜åœ¨å·®å¼‚ï¼Œç¬¦åˆå…ˆå‰ç»“æœï¼ˆè§†é¢‘S1ï¼‰ã€‚</p><blockquote><p>To test the predictions of the FEP (Figure 5A) using selected parameters (STAR Methods), cortical cells (MCCs and HCCs) were compared with media-only controls (CTL); rest sessions (RST), where active cultures controlled the paddle but received no sensory information; and in-silico (IS) controls that mimicked all aspects of the gameplay except the paddle were driven by random noise over 399 test sessions (80-CTL [n = 6 MEA], 42-RST [n = 20 cultures], 38-IS [n = 3 seeds], 101-MCCs [n = 9 cultures], 138-HCCs [n = 11 cultures]). The average rally length showed a significant interaction (Figure 5B and Table S1) between group and time (first 5 and last 15 min). Only the MCC and HCC cultures showed evidence of learning with significantly increased rally lengths over time. Further, it was found that during gameplay in timepoint 1 (T1), key significant differences were observed (Table S1): the HCC group performed significantly worse than MCC, CTL, and IS groups (Table S2). This suggests that HCCs perform worse than controls when first embodied in an environment, suggesting an initial maladaptive control of the paddle or perhaps an exploratory behavior. Notably, at timepoint 2 (T2), this trend was reversed; the MCC and HCC groups significantly outperformed all control groups along with HCC showing a slight but significant outperformance over the MCC group (Tables S1 and S2). This data demonstrates a significant learning effect in both experimental groups absent in the control groups, along with evidence that the learning capabilities differ between mice and human cells in line with previous results (Video S1).</p></blockquote><p><img src="https://s2.loli.net/2024/04/16/fKacFlgZYh76dn2.jpg" alt="å›¾ 5ï¼šå½“åµŒå…¥è™šæ‹Ÿæ¸¸æˆä¸–ç•Œä¸­æ—¶ï¼Œå®ä¾‹åŒ–çš„çš®å±‚ç¥ç»å…ƒåœ¨ã€Šä¹’ä¹“ã€‹æ¸¸æˆä¸­è¡¨ç°å‡ºæ˜¾è‘—æå‡çš„æ€§èƒ½" loading="lazy"></p><p><a href="https://www.cell.com/cms/10.1016/j.neuron.2022.09.001/attachment/bb13a45e-c582-424d-b623-426c35683bb3/mmc2.mp4">è§†é¢‘ S1: DishBrain ç³»ç»Ÿè¿è¡Œä¸­çš„ä»£è¡¨æ€§å½±ç‰‡ï¼Œä¸å›¾ 1ç›¸å…³ã€‚</a></p><h3 id="BNNs-çš„å­¦ä¹ æ•ˆæœå¯é€šè¿‡å…¶ä»–æŒ‡æ ‡è§‚å¯Ÿ">BNNs çš„å­¦ä¹ æ•ˆæœå¯é€šè¿‡å…¶ä»–æŒ‡æ ‡è§‚å¯Ÿ</h3><p>è¿˜è®¡ç®—äº†å…¶ä»–å…³é”®æ¸¸æˆç‰¹å¾ï¼Œå¦‚çƒæ‹æœªèƒ½æ‹¦æˆªçƒè€Œæ²¡æœ‰ä¸€å‡»çš„æ¬¡æ•°å®šä¹‰ä¸ºâ€œaceâ€ï¼Œä»¥åŠæ¸¸æˆä¸­è¿ç»­ä¸‰æ¬¡ä»¥ä¸Šå‡»ä¸­çš„æ¬¡æ•°å®šä¹‰ä¸ºâ€œé•¿å¯¹æ‰“â€ã€‚ä¸å¹³å‡å¯¹æ‰“é•¿åº¦ä¸€æ ·ï¼Œå¯¹äºaceå’Œé•¿å¯¹æ‰“ï¼Œç»„å’Œæ—¶é—´ä¹‹é—´çš„æ˜¾è‘—äº¤äº’ä½œç”¨è¢«å‘ç°ï¼ˆè¡¨S1ï¼‰ã€‚åªæœ‰MCCå’ŒHCCç»„åœ¨T2ä¸­æ˜¾ç¤ºå‡ºä¸T1ç›¸æ¯”aceæ˜æ˜¾å‡å°‘ï¼ˆå›¾5Cå’Œè¡¨S2ï¼‰ã€‚åŒæ ·ï¼Œåªæœ‰MCCå’ŒHCCç»„åœ¨T2ä¸­æ˜¾ç¤ºå‡ºæ˜æ˜¾æ›´å¤šçš„é•¿å¯¹æ‰“ï¼Œä¸ç¬¬ä¸€æ¬¡ç›¸æ¯”ï¼ˆå›¾5Då’Œè¡¨S2ï¼‰ã€‚æ€»ä½“è€Œè¨€ï¼Œæ•°æ®æ˜¾ç¤ºå®éªŒåŸ¹å…»ç‰©ï¼ˆHCCså’ŒMCCsï¼‰é€šè¿‡å‡å°‘é”™å¤±æœ€åˆå‘çƒçš„é¢‘ç‡å’Œå®ç°æ›´å¤šè¿ç»­å‡»ä¸­æˆ–æ›´é•¿å¯¹æ‰“æ¥æé«˜è¡¨ç°ã€‚</p><blockquote><p>Other key gameplay characteristics, such as the number of times the paddle failed to intercept the ball without a single hit defined as â€˜â€˜aces,â€™â€™ and the number of gameplays with greater than 3 consecutive hits defined as â€˜â€˜long rallies,â€™â€™ were calculated. As with average rally length, significant interactions between groupsand time were found for aces and long rallies (Table S1). Only the MCC and HCC groups showed significantly fewer aces in T2 compared with T1 (Figure 5C and Table S2). Likewise, only the MCC and HCC groups showed significantly more long rallies in T2 compared with the first (Figure 5D and Table S2). Collectively, the data shows that both experimental cultures (HCCs and MCCs) improved performance by reducing how often they missed the initial serve and achieving more consecutive hits or longer rallies.</p></blockquote><p>åœ¨T1æ—¶ï¼Œaceå’Œé•¿å¯¹æ‰“çš„ç»„é—´å·®å¼‚è¢«å‘ç°ï¼ˆè¡¨S1ï¼‰ã€‚RSTæ¡ä»¶æ˜¾ç¤ºçš„aceæ•°é‡æ˜æ˜¾å¤šäºCTLå’ŒMCCç»„ï¼ˆè¡¨S2ï¼‰ï¼Œè¡¨æ˜ç»†èƒåœ¨ä»æ¸¸æˆä¸­ä¼‘æ¯æ—¶è¡¨ç°å‡ºä¸€å®šç¨‹åº¦çš„å¶å‘è¡Œä¸ºã€‚å½“è°ƒæŸ¥T1æ—¶çš„é•¿å¯¹æ‰“æ•°é‡æ—¶ï¼Œå‘ç°åªæœ‰HCCsçš„é•¿å¯¹æ‰“æ˜æ˜¾å‡å°‘ï¼ˆè¡¨S2ï¼‰ã€‚è¿™ä¸€å‘ç°ä¸ä¸Šè¿°å‡å°‘çš„å¹³å‡å¯¹æ‰“é•¿åº¦ç›¸ä¸€è‡´ã€‚T2æ—¶ä¹Ÿå‘ç°äº†aceå’Œé•¿å¯¹æ‰“çš„ç»„é—´æ˜¾è‘—å·®å¼‚ï¼ˆå›¾5Cå’Œ5Då’Œè¡¨S1ï¼‰ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒHCCç»„çš„aceæ•°é‡æ˜æ˜¾å°‘äºCTLã€RSTå’ŒISç»„ï¼ˆè¡¨S1ï¼‰ã€‚MCCç»„ä¸RSTå’ŒISç»„ç›¸æ¯”ä¹Ÿæ˜¾ç¤ºå‡ºæ˜æ˜¾è¾ƒå°‘çš„aceï¼Œä½†ä¸CTLç»„ç›¸æ¯”æ²¡æœ‰ï¼ˆè¡¨S2ï¼‰ã€‚ç›¸åï¼Œå¯¹äºé•¿å¯¹æ‰“ï¼ŒMCCç»„æ˜æ˜¾å¤šäºCTLã€RSTå’ŒISç»„ï¼ˆè¡¨S2ï¼‰ï¼Œä½†HCCç»„ä¸ISç»„ç›¸æ¯”åªæ˜¾ç¤ºå‡ºæ˜æ˜¾æ›´å¤šçš„é•¿å¯¹æ‰“ï¼Œè€Œä¸RSTæˆ–CTLç›¸æ¯”æ²¡æœ‰ï¼ˆè¡¨S2ï¼‰ã€‚</p><blockquote><p>Differences between groups at T1 were found both for aces and long rallies (Table S1). The RST condition displayed significantly more aces than the CTL and MCC groups (Table S2), suggesting a degree of sporadic behavior that the cells exhibit when initially introduced to the rest period from gameplay that results in this behavior. When the number of long rallies at T1 was investigated, it was found that only HCCs had significantly fewer long rallies (Table S2). This finding complements the reduced average rally lengths discussed above. Significant differences between groups at T2 were also found for aces and long rallies (Figures 5C and 5D and Table S1). Notably, the HCC group showed significantly fewer aces than CTL, RST, and IS groups (Table S1). The MCC group also showed significantly fewer aces than RST and IS groups, but not the CTL group (Table S2). In contrast, for long rallies, the MCC group showed significantly more than the CTL, RST, and IS groups (Table S2), yet the HCC group only showed significantly more long rallies compared with the IS group, but not RST or CTL (Table S2).</p></blockquote><p>åœ¨ç”µæ´»åŠ¨ä¸æ´»è·ƒçš„éç¥ç»ç»†èƒï¼ˆHEK293Tç»†èƒï¼‰å’Œä»…ä»‹è´¨å¯¹ç…§ä¸­æœªå‘ç°å­¦ä¹ æ•ˆåº”ï¼ˆå›¾S4Aâ€“S4Cï¼‰ã€‚æ­¤å¤–ï¼Œå‘ç°MCCså’ŒHCCsçš„aceç™¾åˆ†æ¯”ä¸é•¿å¯¹æ‰“ç™¾åˆ†æ¯”ä¹‹é—´å­˜åœ¨æ˜¾è‘—è´Ÿç›¸å…³ï¼Œè¡¨æ˜è¡¨ç°ä¸æ˜¯ç”±äºæ¶æ€§è¡Œä¸ºï¼ˆä¾‹å¦‚å°†çƒæ‹å›ºå®šåœ¨ä¸€ä¸ªè§’è½ï¼‰æ‰€è‡´ï¼ˆå›¾S4Dï¼‰ã€‚è¿˜ç ”ç©¶äº†ä»…é€šè¿‡åˆºæ¿€å¯èƒ½å¯¼è‡´çƒæ‹æ›´å¤§ç§»åŠ¨å¹¶å¯¼è‡´è§‚å¯Ÿåˆ°çš„å­¦ä¹ æ•ˆåº”çš„æƒ…å†µã€‚æ­£å¦‚å›¾5Eæ‰€ç¤ºï¼Œè™½ç„¶æ¡ä»¶ä¹‹é—´è§‚å¯Ÿåˆ°æ˜¾è‘—å·®å¼‚ï¼ˆè¡¨S1ï¼‰ï¼Œä½†å¯¹äºCTLå’ŒRSTï¼Œè¿™å¯¼è‡´ç›¸å¯¹äºå…¶ä»–ç»„æ˜¾è‘—è¾ƒä½çš„ç§»åŠ¨ï¼Œå…¶ä¸­RSTæ˜¯æ‰€æœ‰ç»„ä¸­ç§»åŠ¨æœ€å°‘çš„ï¼ˆè¡¨S2ï¼‰ã€‚ISå¯¹ç…§ç»„æ˜¾ç¤ºçš„çƒæ‹ç§»åŠ¨æ¯”æ‰€æœ‰å…¶ä»–ç»„éƒ½è¦å¤šï¼Œä½†ä¸å…¶ä»–å¯¹ç…§ç»„ï¼ˆCTLå’ŒRSTï¼‰çš„æ€§èƒ½æŒ‡æ ‡æ²¡æœ‰å®è´¨æ€§å·®å¼‚ï¼ˆè¡¨S2ï¼‰ã€‚æ­¤å¤–ï¼Œå›¾S4Eæ˜¾ç¤ºçƒæ‹ç§»åŠ¨ä¸å¹³å‡å¯¹æ‰“é•¿åº¦ä¹‹é—´æ²¡æœ‰æ˜¾è‘—ç›¸å…³æ€§ï¼Œæ”¯æŒä»…ä»…æ˜¯çƒæ‹çš„ç§»åŠ¨å¹¶ä¸èƒ½è§£é‡Šè§‚å¯Ÿåˆ°çš„å­¦ä¹ æ•ˆåº”ã€‚æ€»ä½“è€Œè¨€ï¼Œå›¾5Få¼ºè°ƒMCCå’ŒHCCåœ¨T2ä¸­æ˜¾ç¤ºå‡ºè¾ƒå°‘çš„aceå’Œæ›´å¤šçš„é•¿å¯¹æ‰“ï¼Œä¸T1ç›¸æ¯”ï¼Œè¿›ä¸€æ­¥å¼ºè°ƒäº†éšæ—¶é—´è§‚å¯Ÿåˆ°çš„å­¦ä¹ æ•ˆåº”ã€‚è¿™ä¹Ÿå¯ä»¥åœ¨çº¿æ€§å›å½’ä¸­çœ‹åˆ°ï¼ˆå›¾S4Fï¼‰ï¼Œåªæœ‰MCCå’ŒHCCç»„æ˜¾ç¤ºå‡ºå¹³å‡å¯¹æ‰“é•¿åº¦ä¸æ¸¸æˆæŒç»­æ—¶é—´ä¹‹é—´å­˜åœ¨æ˜¾è‘—æ­£ç›¸å…³ã€‚</p><blockquote><p>No learning effect was found in electrically inactive non-neural cells (HEK293T cells) and media-only controls (Figures S4Aâ€“ S4C). Further, a significant negative correlation between percentage of aces and percentage of long rallies of both MCCs and HCCs was found, suggesting that the performance was not arising from maladaptive behavior such as fixing the paddle to a single corner (Figure S4D). Whether stimulation alone may cause greater movement of the paddle and that this may result in the observed learning effects was also investigated. As Figure 5E shows, while there were significant differences observed in paddle movement between conditions (Table S1), for the CTL and RST, this resulted in significantly lower movement relative to the other groups, with the RST being the lowest movement of all groups (Table S2). The IS control group showed significantly more paddle movement than all other groups yet displayed no meaningfully different performance metrics to the other control groups (CTL and RST) (Table S2). Additionally, Figure S4E shows no significant correlation between paddle movement and average rally length was observed, supporting that movement alone of the paddle does not explain the observed learning effects. Wholistically, Figure 5F emphasizes that both MCCs and HCCs showed fewer aces and more long rallies in T2 compared with T1, reiterating the observed learning effect over time. This can also be seen in linear regressions (Figure S4F), where only the MCC and HCC groups showed a statistically significant positive relationship between average rally length and duration of gameplay.</p></blockquote><h3 id="BNNs-éœ€è¦åé¦ˆæ‰èƒ½å­¦ä¹ ">BNNs éœ€è¦åé¦ˆæ‰èƒ½å­¦ä¹ </h3><p>ä¸ºäº†ç ”ç©¶å­¦ä¹ ä¸­åé¦ˆç±»å‹çš„é‡è¦æ€§ï¼ŒåŸ¹å…»ç‰©ï¼ŒåŒ…æ‹¬ MCCs å’Œ HCCs ï¼Œåœ¨3å¤©å†…è¿›è¡Œäº†3ç§æ¡ä»¶çš„æµ‹è¯•ï¼Œæ¯å¤©3æ¬¡ä¼šè¯ï¼ˆ3å±€æ¸¸æˆï¼‰ï¼Œå…±è¿›è¡Œäº†486æ¬¡ä¼šè¯ã€‚æ¡ä»¶1ï¼ˆåˆºæ¿€ï¼›n = 27ï¼‰æ¨¡æ‹Ÿäº†ä¸Šè¿°ä½¿ç”¨çš„æƒ…å†µï¼Œå³åœ¨åŸ¹å…»ç‰©è¡¨ç°è‰¯å¥½æˆ–ä¸ä½³æ—¶åˆ†åˆ«æ–½åŠ å¯é¢„æµ‹å’Œä¸å¯é¢„æµ‹çš„åˆºæ¿€ã€‚æ¡ä»¶2ï¼ˆé™é»˜ï¼›n = 17ï¼‰æ¶‰åŠåˆºæ¿€åé¦ˆè¢«æ›¿æ¢ä¸ºä¸€ä¸ªåŒ¹é…çš„æ—¶é—´æ®µï¼Œæ‰€æœ‰åˆºæ¿€è¢«åœæ­¢ï¼Œä¹‹åæ¸¸æˆé‡æ–°å¼€å§‹ï¼Œçƒä»¥éšæœºæ–¹å‘å¼€å§‹ç§»åŠ¨ã€‚æ¡ä»¶3ï¼ˆæ— åé¦ˆï¼›n = 15ï¼‰åœ¨é”™å¤±æ—¶æ²¡æœ‰é‡æ–°å¼€å§‹ã€‚å½“çƒæ‹æœªæˆåŠŸæ‹¦æˆªçƒæ—¶ï¼Œçƒä¼šå¼¹èµ·ç»§ç»­ç§»åŠ¨è€Œä¸ä¸­æ–­ï¼›ä»æä¾›æŠ¥å‘Šçƒä½ç½®çš„åˆºæ¿€ã€‚è¿™äº›æ¡ä»¶ä¹‹é—´çš„å·®å¼‚åœ¨å›¾6Aä¸­æœ‰æ‰€è¯´æ˜ã€‚è¿˜æ”¶é›†äº†ä¼‘æ¯æœŸé—´çš„æ´»åŠ¨ï¼Œå¹¶ç”¨äºåŸºäºæ¯æ¬¡ä¼šè¯çš„æ€§èƒ½è¿›è¡Œæ ‡å‡†åŒ–ï¼Œä»¥è€ƒè™‘æœªåˆºæ¿€æ´»åŠ¨çš„å·®å¼‚ï¼ˆå›¾1ï¼‰ã€‚</p><blockquote><p>To investigate the importance of the feedback type for learning, cultures, both MCCs and HCCs, were tested under 3 conditions for 3 days, with 3 sessions per day resulting in a total of 486 sessions. Condition 1 (Stimulus; n = 27) mimicked that used above, where predictable and unpredictable stimuli were administered when the cultures behaved desirably or not, respectively. Condition 2 (Silent; n = 17) involved the stimulus feedback being replaced with a matching time period in which all stimulation was withheld, after which the game restarted with the ball beginning in a random direction. Condition 3 (No feedback; n = 15) removed the restart after a miss. When the paddle did not successfully intercept the ball, the ball would bounce and continue without interruption; the stimulus reporting ball position was still provided. The difference between these conditions is illustrated in Figure 6A. Rest-period activity was also gathered and used to normalize performance per session basis to account for differences in unstimulated activity (Figure 1).</p></blockquote><p>åˆºæ¿€å’Œé™é»˜æ¡ä»¶æ˜¾ç¤ºäº†æ¯”ä¼‘æ¯å’Œæ— åé¦ˆæ¡ä»¶æ›´é«˜çš„å¹³å‡å¯¹æ‰“é•¿åº¦ï¼ˆå›¾6Bï¼‰ã€‚å½“æµ‹è¯•ç»„åœ¨å¹³å‡å¯¹æ‰“é•¿åº¦ä¸Šçš„ç™¾åˆ†æ¯”å¢åŠ ä¸åŒ¹é…ä¼‘æ¯å¯¹ç…§ç»„ä¹‹é—´çš„å·®å¼‚æ—¶ï¼Œå‘ç°äº†æ˜¾è‘—çš„äº¤äº’ä½œç”¨ï¼ˆå›¾6Cå’Œè¡¨S1ï¼‰ã€‚åªæœ‰åˆºæ¿€æ¡ä»¶åœ¨éšæ—¶é—´çš„æ¨ç§»ä¸­æ˜¾ç¤ºå‡ºå¹³å‡å¯¹æ‰“é•¿åº¦çš„æ˜¾è‘—å¢åŠ ã€‚è™½ç„¶åœ¨T1æ²¡æœ‰å‘ç°å·®å¼‚ï¼Œä½†åœ¨T2ä¸­å‘ç°äº†ç»„ä¹‹é—´çš„æ˜¾è‘—ä¸»æ•ˆåº”ï¼Œåœ¨é‚£é‡Œåˆºæ¿€æ¡ä»¶çš„å¹³å‡å¯¹æ‰“é•¿åº¦æ˜¾è‘—é«˜äºé™é»˜å’Œæ— åé¦ˆæ¡ä»¶ï¼ˆè¡¨S2ï¼‰ã€‚æœ‰è¶£çš„æ˜¯ï¼Œé™é»˜æ¡ä»¶åœ¨T2ä¸­ä¹Ÿæ˜æ˜¾ä¼˜äºæ— åé¦ˆæ¡ä»¶ï¼Œå°½ç®¡æ•ˆæœè¾ƒå°ï¼ˆè¡¨S2ï¼‰ã€‚é‡è¦çš„æ˜¯ï¼Œè¿™è¡¨æ˜ä¿¡æ¯æœ¬èº«æ˜¯ä¸è¶³å¤Ÿçš„ï¼›å­¦ä¹ éœ€è¦å½¢æˆä¸€ä¸ªé—­ç¯å­¦ä¹ ç³»ç»Ÿã€‚åœ¨T2çš„æ—¥å†æ°´å¹³ä¸Šè¿›è¡Œåç»­è·Ÿè¸ªï¼ˆå›¾6Dï¼‰ï¼Œæœªè§‚å¯Ÿåˆ°éšæ—¶é—´çš„æ˜¾è‘—å·®å¼‚ï¼Œä½†è§‚å¯Ÿåˆ°äº†ä¸ä¸Šè¿°ç»„é—´å·®å¼‚ç›¸åŒã€‚åœ¨æ£€æŸ¥T2æ—¶çš„aceçš„æ€»å’Œï¼ˆå›¾6Eï¼‰å’Œæµ‹è¯•çš„å„å¤©ä¹‹é—´ï¼ˆå›¾6Fï¼‰æ—¶å‘ç°ï¼Œåˆºæ¿€ç»„åœ¨T1æ—¶æ˜¾ç¤ºå‡ºæ¯”é™é»˜å’Œæ— åé¦ˆæ¡ä»¶æ˜æ˜¾æ›´å°‘çš„é•¿å¯¹æ‰“ï¼Œè€Œåœ¨T2æ—¶ï¼Œåˆºæ¿€ç»„æ˜¾ç¤ºå‡ºæ¯”æ— åé¦ˆæ¡ä»¶æ›´å¤šçš„é•¿å¯¹æ‰“ï¼ˆå›¾6Gï¼‰ã€‚åœ¨è·¨å¤©çš„åç»­æµ‹è¯•ä¸­æœªå‘ç°å·®å¼‚ï¼ˆå›¾6Hï¼‰ã€‚ç»¼åˆæ¥çœ‹ï¼Œè¿™äº›ç»“æœè¡¨æ˜ï¼ŒBNNsä¸­çš„è‡ªé€‚åº”è¡Œä¸ºå¯ä»¥ä½œä¸ºä¸ç¯å¢ƒäº’åŠ¨å¹¶éšå«åœ°å¯¹ç¯å¢ƒè¿›è¡Œå»ºæ¨¡çš„è‡ªå‘å±æ€§ã€‚</p><blockquote><p>Stimulus and Silent conditions showed an overall higher average rally length compared with Rest and No-feedback conditions (Figure 6B). When testing for differences between groups in the percentage increase of average rally length over matched rest controls, a significant interaction was found (Figure 6C and Table S1). Only the Stimulus condition showed a significant increase in average rally length over time. While no differences were found for T1, a significant main effect of group was found at T2, where the Stimulus condition had a significantly higher average rally length than the Silent and No-feedback conditions (Table S2). Interestingly, the Silent condition also significantly outperformed the No-feedback conditions, although with a smaller effect size (Table S2). Importantly, this demonstrates that information alone is insufficient; feedback is required to form a closed-loop learning system. When followed up at the level of day for T2 (Figure 6D), no significant differences over time were observed, but the same between-group differences as above were observed. This trend was similar when looking at aces both summed (Figure 6E) and across days of testing (Figure 6F). The Stimulus group at T1 showed significantly fewer long rallies compared with the Silent and No-feedback condition, being reversed at T2 with the Stimulus group showing significantly more long rallies compared with the No-feedback condition (Figure 6G). No difference was found when this was followed up across days (Figure 6H). Collectively, these results suggest that adaptive behavior seen in BNNs altering electrophysiological activity can be an emergent property of engaging with and implicitly modelling the environment.</p></blockquote><p><img src="https://s2.loli.net/2024/04/16/4sbiGCNHXZuvfUp.jpg" alt="å›¾ 6ï¼šåé¦ˆå¯¹äºå­¦ä¹ çš„é‡è¦æ€§" loading="lazy"></p><h3 id="ç”µç”Ÿç†æ´»åŠ¨çš„åŠ¨åŠ›å­¦æ˜¾ç¤ºå‡ºè¿è´¯çš„è¿é€šæ€§">ç”µç”Ÿç†æ´»åŠ¨çš„åŠ¨åŠ›å­¦æ˜¾ç¤ºå‡ºè¿è´¯çš„è¿é€šæ€§</h3><p>æˆ‘ä»¬åˆ†æäº†å¤„äºåˆºæ¿€æ¡ä»¶ä¸‹çš„åŸ¹å…»ç‰©åœ¨æ¸¸æˆè¿‡ç¨‹ä¸­çš„ç”µç”Ÿç†æ´»åŠ¨ï¼Œä»¥ç¡®å®šåŠŸèƒ½è¿æ¥æ€§ï¼ˆMohseni Ahooyiç­‰äººï¼Œ2018ï¼‰ã€‚åœ¨ä¼‘æ¯å’Œæ¸¸æˆè¿‡ç¨‹ä¸­ï¼Œä»¥100æ¯«ç§’æ—¶é—´æ®µå†…å‘å°„çš„äº¤å‰ç›¸å…³æ€§æ˜¾ç¤ºå‡ºæ˜¾è‘—å¼ºçƒˆçš„æ­£ç›¸å…³æ€§ï¼Œè¡¨æ˜æ„Ÿè§‰åŒºåŸŸå’Œä¸¤ä¸ªè¿åŠ¨åŒºåŸŸçš„æ´»åŠ¨ä¹‹é—´å­˜åœ¨æ˜¾è‘—çš„æ­£ç›¸å…³ï¼ˆå›¾7Aâ€“7Dï¼‰ã€‚ç„¶è€Œï¼Œå½“å¯¹è¿™äº›ç›¸å…³æ€§è¿›è¡Œæ¯ä¸ªæ—¶é—´æ®µçš„è®¡ç®—å¹¶å–å¹³å‡æ—¶ï¼Œåœ¨æ¸¸æˆé˜¶æ®µè§‚å¯Ÿåˆ°çš„ç›¸å…³æ€§æ˜¾è‘—æ›´å¼ºï¼Œè€Œä¸æ˜¯åœ¨ä¼‘æ¯æ—¶ï¼ˆå›¾7Eï¼‰ã€‚å¦‚æœåœ¨æ¸¸æˆè¿‡ç¨‹ä¸­æ„Ÿè§‰åŒºåŸŸçš„æ´»åŠ¨ç›´æ¥ä¸ç³»ç»ŸèŒƒå›´åŠ¨æ€è‡ªç»„ç»‡ä¸­çš„è¿åŠ¨åŒºåŸŸçš„æ´»åŠ¨ç›¸å…³è”ï¼Œé‚£ä¹ˆè¿™ç§æ›´é«˜ç¨‹åº¦çš„è¿æ¥æ€§æ˜¯å¯ä»¥é¢„æœŸçš„ã€‚ä¸æ­¤ä¸€è‡´ï¼Œå½“æ¯ç§’è®¡ç®—ç‹¬å æ€§è¿åŠ¨åŒºåŸŸæ´»åŠ¨çš„æ•°é‡æ—¶â€”â€”æŸ¥æ‰¾å‘ç”Ÿåœ¨è¿åŠ¨åŒºåŸŸ1æˆ–è¿åŠ¨åŒºåŸŸ2ä¸­ä»»ä¸€åŒºåŸŸä¸­çš„é«˜äºå™ªå£°æ°´å¹³çš„æ´»åŠ¨äº‹ä»¶ï¼Œä½†ä¸æ˜¯åŒæ—¶å‘ç”Ÿåœ¨ä¸¤ä¸ªåŒºåŸŸä¸­â€”â€”åœ¨åŸ¹å…»ç‰©å‚ä¸æ¸¸æˆæ—¶ä¸ä¼‘æ¯æ—¶ç›¸æ¯”å‘ç°è¿™äº›äº‹ä»¶çš„æ˜¾è‘—å¢åŠ ï¼ˆå›¾7Fï¼‰ã€‚è¿™ç§å†…éƒ¨è°ƒåˆ¶ä¸è¿™äº›åŸ¹å…»ç‰©çš„è§‚å¯Ÿè¡¨ç°æ˜¯ä¸€è‡´çš„ï¼›åœ¨è¿åŠ¨åŒºåŸŸä¹‹é—´çš„ç‹¬å æ€§æ´»åŠ¨å˜åŒ–æ˜¯é€‚åº”æ€§æ¸¸æˆæ‰€éœ€çš„ã€‚æœ€åï¼Œä¸ºäº†è¿›ä¸€æ­¥æ”¯æŒè¿™äº›ç»“æœï¼Œå‘ç°ä¸¤ä¸ªè¿åŠ¨åŒºåŸŸä¹‹é—´çš„ç›¸å…³æ€§éšæ—¶é—´å˜åŒ–æ˜¾è‘—ä¸åŒï¼ˆå›¾7Gï¼‰ã€‚åœ¨è¿åŠ¨åŒºåŸŸä¹‹é—´çš„100æ¯«ç§’æ—¶é—´æ®µå†…çš„ç›¸å…³æ€§çš„çº¿æ€§å›å½’å‘ç°ï¼Œç›´åˆ°å¤§çº¦5åˆ†é’Ÿçš„æ¸¸æˆæ—¶é—´ï¼Œç›¸å…³æ€§æ˜¾è‘—å‡å°‘ï¼ˆR2 = 0.013ï¼ŒF(1, 2049) = 27.51ï¼Œp = 1.72â€”7ï¼Œb =â€”1.18ï¼Œp &lt; 0.001ï¼‰ã€‚åœ¨æ­¤ç‚¹ä¹‹åï¼Œå‡ ä¹æ²¡æœ‰è¿›ä¸€æ­¥çš„å˜åŒ–ï¼ˆR2 = 0.00ï¼ŒF(1, 5181) = 2.19ï¼Œp = 0.139ï¼Œb = â€”0.55ï¼Œp = 0.139ï¼‰ï¼Œè¡¨æ˜å­˜åœ¨ä¸€å®šç¨‹åº¦çš„ç¨³æ€ã€‚è¿™äº›å·®å¼‚ä¸å½±å“æ•´ä½“å¹³å‡åŸ¹å…»ç‰©æ”¾ç”µï¼Œåœ¨æ•´ä¸ªæ¸¸æˆè¿‡ç¨‹ä¸­ä¿æŒç¨³å®šï¼ˆå›¾7Hï¼‰ã€‚</p><blockquote><p>Electrophysiological activity during gameplay was analyzed from cultures subjected to the stimulus condition to determine functional connectivity (Mohseni Ahooyi et al., 2018). The cross correlations of firing in 100ms-time bins revealed significant, strong positive correlations between activity in the sensory region and both motor regions during Rest and Gameplay (Figures 7Aâ€“ 7D). However, when these correlations were calculated per bin and averaged, significantly stronger correlations were observed when cultures were in the Gameplay phase than at Rest (Figure 7E). This higher degree of connectivity would be expected if activity in the sensory region during gameplay was directly related to activity in motor regions through dynamic self-organization at the system-wide level. In line with this, when the quantity of exclusive motor region activity was calculated per secondâ€”looking for events where above-noise-level activity occurred in either motor region 1 or motor region 2, yet not both simultaneouslyâ€”a significant increase in these events was found when cultures were engaged in gameplay versus rest (Figure 7F). This type of internal modulation is coherent with the observed performance of these cultures; exclusive activity changes among motor regions would be required for adaptive gameplay. Finally, to further support these results, the correlation between the two motor regions was found to vary substantially over time (Figure 7G). A linear regression of the correlation in 100ms-time bins between motor regions was found to decrease with time significantly until approximately 5 min of gameplay (R2 = 0.013, F(1, 2049) = 27.51, p = 1.72â€”7, b =â€”1.18, p &lt; 0.001). After this point, little further change was observed (R2 = 0.00, F(1, 5181) = 2.19, p = 0.139, b = â€”0.55,p = 0.139), suggesting a degree of homeostasis. These differences do not affect the overall average culture firing that remains stable throughout the gameplay session (Figure 7H).</p></blockquote><p>ç”±äºå·²ç»æ˜¾ç¤ºç¥ç»ç»„ç»‡çš„ç”µåˆºæ¿€å¯ä»¥æ”¹å˜ç¥ç»å…ƒæ´»åŠ¨ï¼ˆBakkumç­‰ï¼Œ2008aï¼Œ2008bï¼›Chaoç­‰ï¼Œ2008ï¼‰ï¼Œå› æ­¤åœ¨æ¸¸æˆè¿‡ç¨‹ä¸­åŸ¹å…»ç‰©çš„åŠŸèƒ½å¯å¡‘æ€§ä¸ä¼‘æ¯æ—¶è¿›è¡Œäº†è¯„ä¼°ï¼Œå¦‚STARæ–¹æ³•ä¸­æ‰€è¿°ã€‚å›¾7Iè¡¨æ˜ï¼Œåœ¨æ¸¸æˆè¿‡ç¨‹ä¸­è¿›è¡Œçš„é—­ç¯è®­ç»ƒæ˜¾ç¤ºå‡ºä¸è®­ç»ƒå‰ä¼‘æ¯æ—¶åŸºçº¿å¯å¡‘æ€§ç›¸æ¯”æ˜¾ç€å¢åŠ çš„å¯å¡‘æ€§ï¼Œè¡¨æ˜åœ¨æ¸¸æˆè¿‡ç¨‹ä¸­å¯å¡‘æ€§å¾—åˆ°æå‡ï¼ˆè¡¨S1ï¼‰ã€‚ä¸ºäº†æµ‹è¯•å­¦ä¹ æ˜¯å¦åæ˜ äº†BNNså†…éƒ¨è‡ªç”±èƒ½çš„é™ä½ï¼Œæˆ‘ä»¬ä½¿ç”¨ç¥ç»å…ƒå“åº”çš„ä¿¡æ¯ç†µä½œä¸ºå¹³å‡æƒŠå¼‚ï¼ˆä¹Ÿç§°ä¸ºè‡ªä¿¡æ¯ï¼‰çš„ä»£ç†ï¼Œè¿™æ˜¯ç”±VFEä¸Šé™ç•Œå®šçš„ï¼ˆè¯·å‚è§STARæ–¹æ³•ï¼‰ã€‚æˆ‘ä»¬é¢„æµ‹åœ¨æ¸¸æˆè¿‡ç¨‹ä¸­çš„å­¦ä¹ è¿‡ç¨‹ä¸­ä¿¡æ¯ç†µä¼šé™ä½ã€‚æˆ‘ä»¬è¿›ä¸€æ­¥é¢„æµ‹åœ¨ä¸å¯é¢„æµ‹ï¼ˆéšæœºï¼‰åé¦ˆåä¼šå‡ºç°ç†µå¢åŠ ï¼Œåæ˜ å’Œéšåçš„â€œæƒŠå¼‚â€çŠ¶æ€ï¼ˆä»¥åŠéšå«çš„é«˜VFEï¼‰ç›¸å¯¹äºåé¦ˆä¹‹å‰çš„çŠ¶æ€ã€‚åœ¨å›¾5ä¸­æŠ¥å‘Šçš„ç ”ç©¶ä¸­ï¼Œå‘ç°æ¸¸æˆè¿‡ç¨‹ä¸­çš„å¹³å‡ä¿¡æ¯ç†µä½äºä¼‘æ¯æ—¶çš„ä¿¡æ¯ç†µï¼Œæ— è®ºæ˜¯åœ¨ä¸å¯é¢„æµ‹çš„åé¦ˆåˆºæ¿€ä¹‹å‰è¿˜æ˜¯ä¹‹åï¼ˆå›¾7Jå’Œè¡¨S1ï¼‰ã€‚åœ¨æ¸¸æˆè¿‡ç¨‹ä¸­å‘ç°çš„å¹³å‡ä¿¡æ¯ç†µåœ¨åé¦ˆåç›¸å¯¹äºåé¦ˆå‰çš„æ—¶é—´ç‚¹æœ‰æ˜¾è‘—å¢åŠ ï¼Œä½†åœ¨ä¼‘æ¯æ—¶å¯¹åº”çš„æ—¶é—´ç‚¹æ²¡æœ‰åé¦ˆï¼Œä¿¡æ¯ç†µå¾—åˆ°æ˜¾è‘—é™ä½ã€‚ç”±äºç†µçš„å˜åŒ–å¯ä»¥å–å†³äºåé¦ˆå‰çš„æ„Ÿè§‰æ´»åŠ¨æ°´å¹³ï¼Œæˆ‘ä»¬é€šè¿‡è„‰å†²æ•°å¯¹å¹³å‡ä¿¡æ¯ç†µè¿›è¡Œäº†æ ‡å‡†åŒ–ã€‚è¿™ç§å…³ç³»å¾—åˆ°äº†ä¿ç•™ï¼ˆå›¾7Kå’Œè¡¨S1ï¼‰ï¼Œåœ¨æ¸¸æˆè¿‡ç¨‹ä¸­è§‚å¯Ÿåˆ°äº†æ ‡å‡†åŒ–å¹³å‡ç†µçš„æ˜¾è‘—å¢åŠ ï¼Œä½†åœ¨ä¼‘æ¯æ—¶å¯¹åº”çš„æ—¶é—´ç‚¹æ²¡æœ‰åˆºæ¿€ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå¦‚ç†è®ºé¢„æµ‹çš„ï¼Œæ¸¸æˆè¿‡ç¨‹ä¸­é€šè¿‡é™ä½ä¿¡æ¯ç†µæ¥è¿›è¡Œå¯é¢„æµ‹çš„ä¸ç¯å¢ƒäº¤æ¢ï¼Œè€Œåœ¨æ¸¸æˆè¿‡ç¨‹ä¸­ä¸å¯é¢„æµ‹çš„åé¦ˆä¼šå¢åŠ ç†µã€‚</p><blockquote><p>As electrical stimulation of neural tissue has been shown to modify neuronal activity (Bakkum et al., 2008a, 2008b; Chao et al., 2008), the functional plasticity of cultures during Gameplay was assessed compared with when at Rest as described in STAR Methods. Figure 7I suggests that closed-loop training during Gameplay displays significantly increased plasticity compared with baseline plasticity measured at Rest before training, indicating that functional plasticity was upregulated during gameplay (Table S1). To test whether learning reflects a reduction in VFE within BNNs, we used the information entropy of neuronal responses as a proxy for the average surprise (a.k.a. self-information), which is upper-bounded by VFE (see STAR Methods). We predicted a reduction in information entropy during the learning of gameplay. We further predicted an increase in entropy following unpredictable (random) feedback, reflecting and ensuing state of â€˜â€˜surpriseâ€™â€™ (and, implicitly, high VFE), relative to pre-feedback states. For the studies reported in Figure 5, the mean information entropy was found to be lower during Gameplay than during Rest, both before and after the unpredictable feedback stimulation (Figure 7J and Table S1). There was a significant increase in mean information entropy found post-feedback relative to pre-feedback timepoints during Gameplay, but not in the corresponding timepoints during Rest where no feedback occurred. As the change in entropy can depend on the level of sensory activity pre-feedback, we normalized the mean information entropy by the number of spikes. The relationship was conserved (Figure 7K and Table S1), where a significant increase in normalized mean entropy was observed during Gameplay, but not at the corresponding timepoint during Rest where no stimulation occurred. In short, as predicted theoretically, gameplay reduced information entropy during predictable exchanges with the environment, while unpredictable feedback increased entropy during gameplay.</p></blockquote><p>æˆ‘ä»¬åœ¨å›¾6ä¸­æŠ¥å‘Šçš„ä¸åŒåé¦ˆæœºåˆ¶çš„åç»­ç ”ç©¶ä¸­é‡å¤äº†è¿™é¡¹åˆ†æã€‚é‡è¦çš„æ˜¯è¦æ³¨æ„ï¼ŒåŸ¹å…»ç‰©çš„å†…éƒ¨ä¿¡æ¯ç†µä¸ä¸€å®šç›´æ¥ä¸æ–½åŠ åˆ°åŸ¹å…»ç‰©ä¸­çš„å¤–éƒ¨ï¼ˆå³æ„Ÿè§‰ï¼‰ä¿¡æ¯ç†µç›¸å…³è”ï¼Œçœ‹åˆ°åŸ¹å…»ç‰©å¦‚ä½•å¯¹ä¸åŒçš„åé¦ˆåè®®åšå‡ºååº”æ˜¯æœ‰è¶£çš„ã€‚å¦‚å›¾7Læ‰€ç¤ºï¼Œåœ¨æ ‡å‡†åˆºæ¿€æ¡ä»¶ä¸‹ï¼Œæ ‡å‡†åŒ–å¹³å‡ä¿¡æ¯ç†µçš„å˜åŒ–è¢«å¤åˆ¶ï¼ˆè¡¨S1ï¼‰ã€‚æœ‰è¶£çš„æ˜¯ï¼Œåœ¨é™é»˜æ¡ä»¶ä¸‹ï¼Œç¥ç»åŸ¹å…»ç‰©çš„æ ‡å‡†åŒ–å¹³å‡ä¿¡æ¯ç†µç”šè‡³æ¯”åˆºæ¿€æ¡ä»¶åœ¨åé¦ˆåæ›´é«˜ã€‚ç„¶è€Œï¼Œåœ¨æ— åé¦ˆæ¡ä»¶ä¸‹ï¼Œç›¸å¯¹äºåº”ç”¨åé¦ˆæ—¶æœŸï¼Œæ ‡å‡†åŒ–å¹³å‡ä¿¡æ¯ç†µæ²¡æœ‰å˜åŒ–ï¼Œè€Œåœ¨åé¦ˆåæœŸæœ‰æ˜¾è‘—è¾ƒä½çš„å¾—åˆ†ï¼ˆè¡¨S2ï¼‰ã€‚</p><blockquote><p>We repeated this analysis on the follow-up study of different feedback mechanisms reported in Figure 6. While it is important to note that the internal information entropy of the culture is not necessarily and directly tied to the external (i.e., sensory) information entropy of the stimulus being applied into a culture, it is interesting to see how cultures respond to different feedback protocols. As shown in Figure 7L, the change during the stimulus condition between the normalized mean information entropy was replicated for the standard Stimulus condition (Table S1). Of interest is the finding that during the Silent condition, the neural cultures had a higher normalized mean information entropy than even the stimulus condition post-feedback. However, the No-feedback condition showed no change relative to the period when feedback would have been applied, with a significantly higher normalized mean information entropy score than either of the other two conditions pre-feedback, yet a significantly lower score post-feedback (Table S2).</p></blockquote><p><img src="https://s2.loli.net/2024/04/16/DY1SVGETfrvBdtc.jpg" alt="å›¾ 7ï¼šæ¸¸æˆå’Œä¼‘æ¯æœŸé—´çš„ç”µç”Ÿç†æ´»åŠ¨" loading="lazy"></p><h3 id="ç”µç”Ÿç†æ´»åŠ¨ä¸æ›´é«˜çš„å¹³å‡è¿ç»­å‘½ä¸­æ¬¡æ•°ç›¸å…³">ç”µç”Ÿç†æ´»åŠ¨ä¸æ›´é«˜çš„å¹³å‡è¿ç»­å‘½ä¸­æ¬¡æ•°ç›¸å…³</h3><p>æˆ‘ä»¬å¯¹å…³é”®ç”µç”Ÿç†æ´»åŠ¨æŒ‡æ ‡å’Œå¹³å‡å¯¹æ‰“é•¿åº¦è¿›è¡Œäº†åˆæ­¥æœªæ ¡æ­£çš„Pearsonç›¸å…³åˆ†æã€‚å‘ç°å¹³å‡å¯¹æ‰“é•¿åº¦ä¸å¹³å‡å‘å°„ç‡ï¼ˆå›¾8Aï¼‰å’Œæœ€å¤§æ”¾ç”µé¢‘ç‡ï¼ˆå›¾8Bï¼‰ä¹‹é—´å­˜åœ¨æ˜¾è‘—æ­£ç›¸å…³ã€‚åŒæ ·ï¼Œæ„Ÿè§‰åŒºåŸŸä¸è¿åŠ¨åŒºåŸŸ1ï¼ˆå›¾8Cï¼‰å’Œ2ï¼ˆå›¾8Eï¼‰ä¹‹é—´çš„äº¤å‰ç›¸å…³æ€§ä¸è¡¨ç°æ˜¾è‘—æ­£ç›¸å…³ï¼Œè¿›ä¸€æ­¥è¡¨æ˜å¼ºå¤§çš„è¿æ¥æ€§ä¸æ›´å¥½çš„æ¸¸æˆè¡¨ç°ç›¸å…³ã€‚ä¸ºäº†è¿›ä¸€æ­¥ç ”ç©¶æ´»åŠ¨çš„æ‹“æ‰‘åˆ†å¸ƒä¸è¡¨ç°ä¹‹é—´çš„å…³ç³»ï¼Œä½¿ç”¨å››ä¸ªç¦»æ•£ä½™å¼¦å˜æ¢ï¼ˆDCTï¼‰ç³»æ•°çš„ç»å¯¹å€¼ï¼Œè¿™äº›ç³»æ•°è¢«å½’ä¸€åŒ–ä¸ºå¹³å‡æ´»åŠ¨ï¼Œç”¨äºæ€»ç»“è‡ªå‘æ´»åŠ¨çš„ç©ºé—´æ¨¡å¼å¹¶è¯„ä¼°æ´»åŠ¨çš„å¯¹ç§°æ€§ï¼ˆå›¾8Eï¼‰ã€‚DCT 0,1ï¼Œç”¨äºæµ‹é‡æ°´å¹³å¹³é¢ä¸Šçš„æ´»åŠ¨ï¼ˆå›¾8Fï¼‰ï¼Œå’ŒDCT 2,0ï¼Œç”¨äºæµ‹é‡æ°´å¹³è¾¹ç¼˜ä¸æ°´å¹³ä¸­å¿ƒçš„æ´»åŠ¨å·®å¼‚ï¼ˆå›¾8Iï¼‰ï¼Œä¸å¹³å‡å¯¹æ‰“é•¿åº¦ä¹‹é—´å­˜åœ¨æ˜¾è‘—è´Ÿç›¸å…³ã€‚ç„¶è€Œï¼ŒDCT 0,2æ˜¾ç¤ºå‚ç›´è¾¹ç¼˜å’Œå‚ç›´ä¸­å¿ƒçš„æ´»åŠ¨å·®å¼‚ï¼ˆå›¾8Gï¼‰ï¼Œä»¥åŠDCT 1,0ï¼Œç”¨äºæµ‹é‡å‚ç›´å¹³é¢ä¸Šçš„æ´»åŠ¨ï¼ˆå›¾8Hï¼‰ï¼Œåˆ™æ²¡æœ‰æ˜¾è‘—ç›¸å…³ã€‚é‰´äºé…ç½®å¸ƒå±€ï¼Œå¯ä»¥è®¤ä¸ºæ¸¸æˆè¡¨ç°ä¸ç”µç”Ÿç†æ´»åŠ¨çš„å¯¹ç§°æ€§åå·®å¯†åˆ‡ç›¸å…³ã€‚ä¸ºäº†ç¡®è®¤å¯¹ç§°æ€§çš„é‡è¦æ€§ï¼Œå¯¹æ¸¸æˆè¿‡ç¨‹ä¸­çš„ä¸¤ä¸ªè¿åŠ¨åŒºåŸŸçš„ç”µç”Ÿç†æ´»åŠ¨è¿›è¡Œäº†åˆ†æï¼Œå¹¶è®¡ç®—äº†è¿œç¦»å¯¹ç§°æ€§çš„æ ‡å‡†åŒ–åå·®ã€‚ä¸å¹³å‡å¯¹æ‰“é•¿åº¦å‘ˆæ˜¾è‘—è´Ÿç›¸å…³ï¼Œä»»ä½•è¶…è¿‡çº¦1ä¸ªåå·®çš„ä¸å¯¹ç§°æ€§ä¼¼ä¹å®Œå…¨é˜»æ­¢äº†é«˜äºæ§åˆ¶ç»„è§‚å¯Ÿåˆ°çš„è¡¨ç°ï¼ˆå›¾8Jï¼‰ã€‚è¿™è¡¨æ˜ï¼Œå¦‚æœç»†èƒåŸ¹å…»è´¨é‡ä¸å‡åŒ€ï¼Œé‚£ä¹ˆåŸ¹å…»ç‰©èƒ½å¤Ÿè‡ªç»„ç»‡è‡ªå‘æ´»åŠ¨çš„ç¨‹åº¦å­˜åœ¨ä¸€å®šé™åˆ¶ã€‚æœ€åï¼Œä¸ä¸Šè¿°ç»“æœä¸€è‡´ï¼Œæ¸¸æˆè¿‡ç¨‹ä¸­æ„Ÿè§‰åŒºåŸŸï¼ˆå›¾8Kï¼‰ã€è¿åŠ¨åŒºåŸŸ1ï¼ˆå›¾8Lï¼‰å’Œè¿åŠ¨åŒºåŸŸ2ï¼ˆå›¾8Mï¼‰çš„æ´»åŠ¨æ°´å¹³ä¸æ›´é«˜çš„å¹³å‡å¯¹æ‰“é•¿åº¦ç›¸å…³è”ã€‚</p><blockquote><p>Exploratory uncorrected Pearsonâ€™s correlations were computed for key electrophysiological activity metrics and average rally length. A significant positive correlation was found between average rally length with mean (Figure 8A) and max (Figure 8B) firing. Likewise, the cross-correlations with the sensory region for both motor region 1 (Figures 8C) and 2 (Figure 8E) were significantly positively correlated with performance, further suggesting that robust connectivity is linked with better gameplay outcomes. To further investigate whether the topographical distribution of activity correlated with performance, the absolute values of four discrete cosine transform (DCT) coefficients normalized to mean activity were used to summarize spatial modes of spontaneous activity and assess the symmetry of activity (Figure 8E). DCT 0,1, which measures activity across the horizontal plane (Figure 8F), and DCT 2,0, which measures activity on the horizontal edge versus the horizontal center (Figure 8I), were significantly negatively correlated with average rally length. Yet, DCT 0,2, which shows difference between activity on the vertical edges and the vertical center (Figure 8G), and DCT 1,0 which measures activity across the vertical plane (Figure 8H), did not significantly correlate. Given configuration layout, it is coherent that gameplay performance is closely linked to deviations in symmetry of electrophysiological activity. To confirm the importance of symmetry, gameplay electrophysiological activity was analyzed for both motor regions, and the normalized deviation away from symmetry was calculated. As deviation away from symmetry resulted in a significant negative correlation with the average rally length, any asymmetry exceeding approximately 1 deviation appeared to completely prevent performance above that observed in controls (Figure 8J). This suggests a limit to which cultures can self-organize spontaneous activity if cell culture quality is uneven. Finallyâ€”in line with the results aboveâ€”higher activity in the sensory region (Figure 8K), motor region 1 (Figure 8L), and motor region 2 (Figure 8M) during gameplay was also correlated with higher average rally lengths.</p></blockquote><p><img src="https://s2.loli.net/2024/04/16/lOHI3d2JMmRq9Gk.jpg" alt="å›¾ 8ï¼šç”µç”Ÿç†æ´»åŠ¨ä¸å¹³å‡å¯¹æ‰“é•¿åº¦ä¹‹é—´çš„å…³ç³»" loading="lazy"></p><h2 id="è®¨è®º">è®¨è®º</h2><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä»‹ç»äº† DishBrain ç³»ç»Ÿï¼Œè¿™æ˜¯ä¸€ä¸ªèƒ½å¤Ÿåœ¨è™šæ‹Ÿç¯å¢ƒä¸­ä½“ç°æ¥è‡ªå„ç§æ¥æºçš„BNNså¹¶å®æ—¶æµ‹é‡å®ƒä»¬å¯¹åˆºæ¿€çš„ååº”çš„ç³»ç»Ÿã€‚ç¥ç»å…ƒï¼Œå°¤å…¶æ˜¯åœ¨ç»„è£…ä¸­ï¼Œå¯¹å¤–éƒ¨åˆºæ¿€åšå‡ºè‡ªé€‚åº”å“åº”çš„èƒ½åŠ›åœ¨ä½“å†…å·²ç»è¢«å……åˆ†ç¡®ç«‹ï¼Œå› ä¸ºè¿™æ„æˆäº†æ‰€æœ‰åŠ¨ç‰©å­¦ä¹ çš„åŸºç¡€ï¼ˆAttingerç­‰ï¼Œ2017ï¼‰ã€‚ç„¶è€Œï¼Œè¿™é¡¹å·¥ä½œæ˜¯é¦–æ¬¡åœ¨ä½“å¤–ä¸ºç›®æ ‡å¯¼å‘è¡Œä¸ºå»ºç«‹äº†è¿™ç§åŸºæœ¬è¡Œä¸ºã€‚æˆ‘ä»¬èƒ½å¤Ÿåˆ©ç”¨è¿™ä¸ªç¡…-ç”Ÿç‰©ç³»ç»Ÿæ¥ç ”ç©¶ç”Ÿç‰©ç¥ç»è®¡ç®—çš„åŸºæœ¬åŸç†ã€‚ç®€è€Œè¨€ä¹‹ï¼Œæˆ‘ä»¬ä»‹ç»äº†ç¬¬ä¸€ä¸ªèƒ½å¤Ÿå®æ—¶å±•ç¤ºè‡ªé€‚åº”è¡Œä¸ºçš„SBIè®¾å¤‡ã€‚è¿™ä¸ªç³»ç»Ÿæœ¬èº«æä¾›äº†æ‰©å±•ä»¥å‰ç¥ç»è¡Œä¸ºçš„ç¡…æ¨¡å‹çš„æœºä¼šï¼Œæ¯”å¦‚æµ‹è¯•æµ·é©¬å’Œç¯å›ç»†èƒæ¨¡å‹åœ¨è§£å†³ç©ºé—´å’Œéç©ºé—´é—®é¢˜æ—¶çš„æƒ…å†µï¼ˆWhittingtonç­‰ï¼Œ2020ï¼‰ã€‚å¯¹ DishBrain å¹³å°ã€é€‰å®šçš„ç»†èƒç±»å‹ã€è¯ç‰©ç®¡ç†å’Œåé¦ˆæ¡ä»¶è¿›è¡Œè½»å¾®å˜åŒ–ï¼Œå°†ä½¿ä½“å¤–æµ‹è¯•èƒ½å¤Ÿè·å–å…³äºç»†èƒå¦‚ä½•å¤„ç†å’Œè®¡ç®—ä»¥å‰æ— æ³•è·å¾—çš„ä¿¡æ¯çš„æ•°æ®ã€‚</p><blockquote><p>Here, we present the DishBrain system, a system capable of embodying BNNs from various sources in a virtual environment and measuring their responses to stimuli in real time. The ability of neurons, especially in assemblies, to respond to external stimuli adaptively is well established in vivo as it forms the basis for all animal learning (Attinger et al., 2017). However, this work is the first to establish this fundamental behavior in vitro for a goaldirected behavior. We were able to use this silico-biological system to investigate the fundamentals of biological neuronal computation. In brief, we introduce the first SBI device to demonstrate adaptive behavior in real time. The system itself offers opportunities to expand upon previous in silico models of neural behavior, such as where models of hippocampal and entorhinal cells were tested in solving spatial and non-spatial problems (Whittington et al., 2020). Minor variations on the DishBrain platform, selected cell types, drug administration, and feedback conditions would enable an in vitro test to garner data on how cells process and compute information that was previously unattainable.</p></blockquote><p>æœ€é‡è¦çš„æ˜¯ï¼Œè¿™é¡¹å·¥ä½œå±•ç¤ºäº†åœ¨ä¸ºBNNsåˆ›å»ºé—­ç¯ç¯å¢ƒæ–¹é¢çš„é‡å¤§æŠ€æœ¯è¿›æ­¥ï¼ˆBakkumç­‰ï¼Œ2008aï¼›Chaoç­‰ï¼Œ2008ï¼›Wagenaarç­‰ï¼Œ2004ï¼‰ã€‚æˆ‘ä»¬å¼ºè°ƒäº†åœ¨ç¥ç»ç³»ç»Ÿä¸­å®ç°ç›®æ ‡å¯¼å‘å­¦ä¹ æ‰€éœ€çš„ä½“ç°æ€§ã€‚è¿™åœ¨å®éªŒä¸­çš„ç›¸å¯¹è¡¨ç°ä¸­å¾—åˆ°ä½“ç°ï¼Œæ›´å¯†é›†çš„ä¿¡æ¯å’Œæ›´å¤šæ ·åŒ–çš„åé¦ˆå½±å“äº†æ€§èƒ½ã€‚åŒæ ·ï¼Œå½“æ²¡æœ‰æä¾›åé¦ˆä½†æä¾›äº†å…³äºçƒä½ç½®çš„ä¿¡æ¯æ—¶ï¼ŒåŸ¹å…»ç‰©è¡¨ç°å‡ºæ˜¾è‘—è¾ƒå·®çš„æ€§èƒ½å’Œæ²¡æœ‰å­¦ä¹ ã€‚ç‰¹åˆ«å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå½“åˆºæ¿€æ€§åé¦ˆè¢«ç§»é™¤å¹¶æ›¿æ¢ä¸ºé™é»˜åé¦ˆï¼ˆå³æš‚æ—¶ç§»é™¤æ‰€æœ‰åˆºæ¿€ï¼‰æ—¶ï¼ŒåŸ¹å…»ç‰©ä»èƒ½å¤Ÿè¶…è¶Šæ²¡æœ‰åé¦ˆçš„æƒ…å†µï¼Œå°½ç®¡ç¨‹åº¦è¾ƒå°ã€‚ä¸€ç§è§£é‡Šæ˜¯ï¼Œæ‰“â€œPongâ€äº§ç”Ÿäº†æ¯”ä¸æ‰“â€œPongâ€æ›´å¯é¢„æµ‹çš„ç»“æœï¼Œé€šè¿‡å‡å°‘ä¸ç¡®å®šæ€§ã€‚è¯·æ³¨æ„ï¼Œâ€œå¤±è¯¯â€å¯¼è‡´ä¸å¯é¢„æµ‹çš„ç»“æœï¼Œå› ä¸ºçƒé‡æ–°å¼€å§‹å¹¶å…¶éšåçš„è¿åŠ¨æ˜¯ä¸å¯é¢„æµ‹çš„ã€‚å°±ä¼ é€’çš„åˆºæ¿€çš„ä¿¡æ¯ç†µè€Œè¨€ï¼Œè™½ç„¶ä¸å¯é¢„æµ‹çš„åˆºæ¿€ä¼šäº§ç”Ÿé«˜ç†µï¼Œä½†æ˜¯é™é»˜æ¡ä»¶ä»ç›¸å¯¹äºæˆåŠŸçš„æ¸¸æˆå…·æœ‰æ›´é«˜çš„ç†µï¼Œå› ä¸ºçƒä»¥éšæœºæ–¹å‘é‡æ–°å¼€å§‹ã€‚è¿™ä¸æˆ‘ä»¬çš„ç»“æœä¸€è‡´ï¼Œå³ç»“æœè¶Šä¸å¯é¢„æµ‹ï¼Œè§‚å¯Ÿåˆ°çš„å­¦ä¹ æ•ˆæœè¶Šå¤§â€”â€”å› ä¸ºBNNå­¦ä¼šé¿å…ä¸ç¡®å®šæ€§ã€‚</p><blockquote><p>Most significantly, this work presents a substantial technical advancement in creating closed-loop environments for BNNs (Bakkum et al., 2008a; Chao et al., 2008; Wagenaar et al., 2004). We have emphasized the requirement for embodiment in neural systems for goal-directed learning to occur. This is seen in the relative performance over experiments, where denser information and more diverse feedback impacted performance. Likewise, when no feedback was provided yet information on ball position was available, cultures showed significantly poorer performance and no learning. Of particular interest was the finding that when stimulatory feedback was removed and replaced with silent feedback (i.e., transient removal of all stimuli), cultures were still able to outperform those with no feedback as in the open-loop condition, albeit to a lesser extent. One interpretation is that playing â€˜â€˜Pongâ€™â€™ generates more predictable outcomes than not playing â€˜â€˜Pongâ€™â€™ by reducing uncertainty. Note that a â€˜â€˜missâ€™â€™ results in unpredictable outcomes because the ball resets and its subsequent motion is unpredictable. In terms of the informational entropy of the stimulus being delivered, while an unpredictable stimulus would have high entropy, the silent condition still entails higher entropy relative to successful play as the ball restarts in a random direction. This is consistent with our results, as the more unpredictable an outcome, the greater the observed learning effectâ€”as the BNN learns to avoid uncertainty.</p></blockquote><p>ç„¶è€Œï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒBNNæ´»åŠ¨çš„å†…éƒ¨ä¿¡æ¯ç†µå¹¶ä¸å®Œå…¨åæ˜ å¤–éƒ¨åˆºæ¿€çš„ä¿¡æ¯ç†µï¼šè™½ç„¶ä¸å¯é¢„æµ‹çš„åˆºæ¿€å¢åŠ äº†å†…éƒ¨ç†µï¼Œä½†é™é»˜æ¡ä»¶åé¦ˆä¹Ÿæ˜¯å¦‚æ­¤ã€‚ç„¶è€Œï¼Œä¸ºäº†ä½¿BNNèƒ½å¤Ÿæ ¹æ®åé¦ˆæ”¹å˜æ´»åŠ¨ï¼Œå¿…é¡»å¯¹å…¶æ„Ÿè§‰è¾“å…¥è¿›è¡Œå¯è§‚å¯Ÿçš„ç³»ç»Ÿå˜åŒ–ï¼Œè¿™å¯ä»¥ä¸å…¶å…ˆå‰çš„æ´»åŠ¨ç›¸å…³è”ã€‚è¿™ä¸å¼€ç¯/æ— åé¦ˆæ¡ä»¶ä¸­çš„å­¦ä¹ ç¼ºå¤±ä¸€è‡´ï¼Œå› ä¸ºè¿™ç§æƒ…å†µæœ¬è´¨ä¸Šä¸æä¾›å­¦ä¹ æœºä¼šï¼Œå¹¶ä¸”åŒæ ·æ˜¾ç¤ºå‡ºæ¯”å…¶ä»–ä¸¤ç§åé¦ˆæ¡ä»¶æ›´é«˜çš„å†…éƒ¨ä¿¡æ¯ç†µã€‚è¿™æ”¯æŒäº†ä¸€ä¸ªè§‚ç‚¹ï¼Œå³å•çº¯çš„åˆºæ¿€æ˜¯ä¸è¶³ä»¥æ¨åŠ¨å­¦ä¹ çš„ï¼šå¿…é¡»æœ‰ä¸€ç§å½±å“ï¼ˆå¤–éƒ¨ï¼‰å¯è§‚å¯Ÿåˆºæ¿€çš„å­¦ä¹ è¡Œä¸ºçš„åŠ¨æœºã€‚é¢å¯¹ä¸å¯é¢„æµ‹çš„æ„Ÿè§‰è¾“å…¥æ—¶ï¼ŒæˆåŠŸåœ°æ‰“â€œPongâ€å¯ä»¥ä½œä¸ºä¸€ç§æœ€å°åŒ–è‡ªç”±èƒ½çš„è§£å†³æ–¹æ¡ˆã€‚å³ä½¿ç³»ç»Ÿçš„å†…éƒ¨ä¿¡æ¯ç†µåœ¨åé¦ˆåå¢åŠ å¹¶ä¸”å¤–éƒ¨ä¿¡æ¯ç†µæ›´ä½ï¼ˆä¾‹å¦‚ï¼Œé™é»˜åé¦ˆï¼‰ï¼Œè¿™å¯èƒ½ä¸ä¼šæä¾›ç›¸åŒçš„å­¦ä¹ åŠ¨åŠ›ã€‚è¿™äº›å‘ç°ä¸é©¬å°”å¯å¤«æ¯¯çš„æè®®ä½œç”¨ä¸€è‡´ï¼Œä¸ºç³»ç»Ÿæä¾›äº†ä¸€ä¸ªç»Ÿè®¡è¾¹ç•Œï¼ˆé©¬å°”å¯å¤«è¾¹ç•Œï¼‰ï¼Œå°†å…¶åˆ†éš”ä¸ºå†…éƒ¨çŠ¶æ€å’Œå¤–éƒ¨çŠ¶æ€ã€‚ï¼ˆKirchhoffç­‰ï¼Œ2018ï¼›Palaciosç­‰ï¼Œ2020ï¼‰ã€‚ç„¶è€Œï¼Œç®€å•åœ°æœ€å°åŒ–ç†µï¼ˆå³å¹³å‡æƒŠå¼‚ï¼‰å¯èƒ½æä¾›äº†å¯¹è‡ªé€‚åº”è¡Œä¸ºè¿‡äºç®€åŒ–çš„è§£é‡Šï¼šä¸»åŠ¨æ¨ç†çš„ä¸€ä¸ªå…³é”®æ–¹é¢æ˜¯é€‰æ‹©æœ€å°åŒ–åœ¨æ‰§è¡Œè¯¥è¡ŒåŠ¨åé¢„æœŸçš„æƒŠå¼‚æˆ–è‡ªç”±èƒ½çš„è¡ŒåŠ¨ã€‚è™½ç„¶è¿™äº›ç»“æœå¾ˆæœ‰è¶£ä¸”æ”¯æŒæ€§ï¼Œä½†å¹¶ä¸å…·æœ‰å†³å®šæ€§ï¼Œæœªæ¥çš„å·¥ä½œéœ€è¦æ¢ç´¢BNNè¡Œä¸ºä¸ç”Ÿæˆæ¨¡å‹ã€‚</p><blockquote><p>It is interesting to note, however, that the internal information entropy of BNN activity does not exactly mirror the information entropy of the external stimulation: while the unpredictable stimulus increased internal entropy, so did the Silent condition feedback. However, for a BNN to alter activity in response to feedback, there must be a change to its sensory input observable by the system that can be associated with its previous activity. This is consistent with the absence of learning in the open-loop/No-feedback condition, which by its nature affords no opportunity for learning, and likewise showed higher internal information entropy than the other two feedback conditions. This supports the thesis that stimulation alone is insufficient to drive learning: there must be a motivation for learning behaviors that influence the (external) observable stimulus. When faced with unpredictable sensorium, playing â€˜â€˜Pongâ€™â€™ successfully acts as a free energy-minimizing solution. Even if the internal information entropy of a system is increased following feedback and has lower external information entropy (e.g., silent feedback), this may not provide the same impetus for learning. These findings accord with the proposed role of a Markov blanket, providing a statistical boundary of the system to separate it into internal and external states (Kirchhoff et al., 2018; Palacios et al., 2020). Yet simply minimizing entropy (i.e., average surprise) may offer an overly simplified account of adaptive behavior: a key aspect of active inference is the selection of actions that minimize the surprise or free energy expected on following that action. While these results are interesting and supportive, they are not conclusive, and future work is required, including exploring BNN behavior with a generative model.</p></blockquote><p>ä»æœºåˆ¶ä¸Šè®²ï¼Œæˆ‘ä»¬è¯•å›¾é€šè¿‡æµ‹è¯•æ”¯æŒ FEP çš„ä¸»åŠ¨æ„ŸçŸ¥çš„åŸºæœ¬åŸåˆ™æ¥å±•ç¤º DishBrain çš„å®ç”¨æ€§ã€‚æœ€æ¥è¿‘çš„å…ˆå‰å·¥ä½œåœ¨ç¥ç»åŸ¹å…»ç‰©ä¸­è¿›è¡Œäº†ç›²æºåˆ†ç¦»çš„ç ”ç©¶ï¼Œä½†æ˜¯åœ¨æ²¡æœ‰ç”Ÿç†åˆç†çš„è®­ç»ƒçš„å¼€ç¯ç¯å¢ƒä¸­è¿›è¡Œäº†ç ”ç©¶ï¼ˆIsomuraç­‰ï¼Œ2015ï¼›Isomuraå’ŒFristonï¼Œ2018ï¼‰ã€‚æˆ‘ä»¬å±•ç¤ºäº†åœ¨å‡ºç°â€œè¿èƒŒè®­ç»ƒç›®æ ‡â€çš„ç»“æœä¹‹åæä¾›ä¸å¯é¢„æµ‹çš„æ„Ÿè§‰è¾“å…¥ï¼Œä»¥åŠåœ¨â€œç¬¦åˆè®­ç»ƒç›®æ ‡â€çš„ç»“æœä¹‹åæä¾›å¯é¢„æµ‹çš„è¾“å…¥ï¼Œæ˜¾è‘—åœ°å¡‘é€ äº†ç¥ç»åŸ¹å…»ç‰©çš„å®æ—¶è¡Œä¸ºã€‚å¯é¢„æµ‹çš„åˆºæ¿€ä¹Ÿå¯ä»¥è¢«è§†ä¸ºç¨³å®šçªè§¦æƒé‡çš„è¿‡ç¨‹ï¼Œè¿™ä¸å…ˆå‰çš„ç ”ç©¶ä¸€è‡´ï¼Œå› ä¸ºå·²ç»è¯æ˜æ›´é«˜çš„æ”¾ç”µç‡å¢åŠ äº†çŸ­æœŸå’Œé•¿æœŸå¢å¼ºï¼ˆParizç­‰ï¼Œ2018ï¼›Zhuç­‰ï¼Œ2015ï¼‰ã€‚å¦ä¸€æ–¹é¢ï¼Œä¸å¯é¢„æµ‹çš„åˆºæ¿€å¯ä»¥è¢«è§†ä¸ºï¼Œé€šè¿‡ç ´åä¸å¯å–çš„è‡ªç”±èƒ½æå°å€¼æ¥ç ´åè¿æ¥æ€§ã€‚è¿™äº›ç»“æœå¯ä»¥è¢«ç†è§£ä¸ºç›¸äº’ä½œç”¨å±‚ä¹‹é—´çš„èµ«å¸ƒå­¦ä¹ å’Œç¨³æ€å¯å¡‘æ€§ä¹‹é—´çš„åŠ¨æ€äº¤äº’çš„ä¸€éƒ¨åˆ†ï¼Œè¿™å¯èƒ½å¯¼è‡´å¢åŠ åœ¨æŸäº›åˆºæ¿€æ¨¡å¼åæ´»åŠ¨çš„å¯èƒ½æ€§ï¼ˆLyç­‰ï¼Œ2012ï¼›Parizç­‰ï¼Œ2018ï¼›Toyoizumiç­‰ï¼Œ2014ï¼‰ã€‚è¿™ä¸æ¸¸æˆè¿‡ç¨‹ä¸­è§‚å¯Ÿåˆ°çš„å¢åŠ çš„åŠŸèƒ½å¯å¡‘æ€§ä¸€è‡´ï¼Œè¿™ä¸ä¼‘æ¯æ—¶ç›¸æ¯”ã€‚è¿™å¯èƒ½æ˜¯FEPå¯¹ç”Ÿç‰©è‡ªç»„ç»‡çš„è§£é‡Šçš„ä¸€ä¸ªæ½œåœ¨æœºåˆ¶ï¼Œæœ‰æ—¶ä»¥è‡ªç»„ç»‡ä¸ç¨³å®šæ€§çš„å½¢å¼è®¨è®ºä¸ºâ€œè‡ªåŠ¨é€€åŒ–â€ï¼ˆFristonç­‰ï¼Œ2012ï¼‰ã€‚</p><blockquote><p>Mechanistically, we sought to demonstrate the utility of the DishBrain by testing base principles that underwrite active sensing via the FEP. The closest previous work examined blind source separation in neural cultures, yet did so in an open-loop context without physiologically plausible training (Isomura et al., 2015; Isomura and Friston, 2018). We show that supplying unpredictable sensory input following an â€˜â€˜undesirableâ€™â€™ outcome and providing predictable input following a â€˜â€˜desirableâ€™â€™ one significantly shapes the behavior of neural cultures in real time. The predictable stimulation could also be read as a process of stabilizing synaptic weights in line with previous research as it has been shown that higher firing rates augment shortand long-term potentiation (Pariz et al., 2018; Zhu et al., 2015). In a complementary fashion, the unpredictable stimulation could be seen by destabilizing connectivity by destroying undesirable free energy minima. These results could be understood as part of a dynamic interaction between layers of interacting Hebbian and homeostatic plasticity that could lead to increasing the likelihood of activity following certain stimulation patterns (Ly et al., 2012; Pariz et al., 2018; Toyoizumi et al., 2014). This accords with the increased functional plasticity observed during gameplay versus during rest. This may be a potential mechanism behind the FEP account of biological self-organization, sometimes discussed in terms of self-organized instability termed â€˜â€˜autovitiationâ€™â€™ (Friston et al., 2012).</p></blockquote><p>æ¥è‡ªäººç±»å’Œå°é¼ ç»†èƒæ¥æºçš„æ´»è·ƒçš®å±‚åŸ¹å…»ç‰©æ˜¾ç¤ºå‡ºä¸å…ˆå‰ç ”ç©¶ä¸€è‡´çš„åŒæ­¥æ´»åŠ¨æ¨¡å¼ï¼ˆKamiokaç­‰ï¼Œ1996ï¼›Sakaguchiç­‰ï¼Œ2019ï¼›Shiç­‰ï¼Œ2012ï¼›Wagenaarç­‰ï¼Œ2006ï¼‰ã€‚é‡è¦çš„æ˜¯ï¼Œè§‚å¯Ÿåˆ°äº†ç»†èƒæ¥æºä¹‹é—´çš„æ˜¾è‘—å·®å¼‚ï¼Œ HCCs åœ¨æ¸¸æˆç‰¹æ€§æ–¹é¢å¹³å‡ä¼˜äº MCCs ï¼ˆå¸¦æœ‰ç»†å¾®å·®åˆ«ï¼‰ã€‚å°½ç®¡éœ€è¦è¿›ä¸€æ­¥çš„å·¥ä½œï¼Œå› ä¸ºè¿™ä¸€å‘ç°æ˜¯ç ”ç©¶ç›®çš„çš„è¾…åŠ©æ€§å‘ç°ï¼Œä½†è¿™æ˜¯ç¬¬ä¸€é¡¹å‘ç°ï¼Œæä¾›äº†æ”¯æŒäººç±»ç¥ç»å…ƒæ¯”å•®é½¿ç±»ç¥ç»å…ƒå…·æœ‰æ›´ä¼˜ä¿¡æ¯å¤„ç†èƒ½åŠ›çš„å‡è®¾çš„å®è¯è¯æ®ï¼ˆBeaulieu-Larocheç­‰ï¼Œ2018ï¼›MihaljevicÂ´ç­‰ï¼Œ2020ï¼‰ã€‚å…ˆå‰çš„ç ”ç©¶æå‡ºï¼Œä¸å°é¼ ç»†èƒç›¸æ¯”ï¼Œäººç±»ç»†èƒä¸­çš„ç”Ÿç‰©ç‰©ç†ç»“æ„å°†äº§ç”Ÿä¸åŒçš„è¾“å…¥-è¾“å‡ºç‰¹æ€§ï¼Œä»è€Œå¯èƒ½è§£é‡Šä¸åŒçš„è®¡ç®—èƒ½åŠ›ï¼ˆPoiraziå’ŒPapoutsiï¼Œ2020ï¼‰ã€‚åœ¨ç³»ç»Ÿçš„åˆå§‹å¼€å‘é˜¶æ®µï¼Œæˆ‘ä»¬æ— æ³•å®é™…å’Œç»éªŒåœ°æµ‹è¯•æ‰€æœ‰å…³é”®æ–¹é¢ï¼Œæ¯”å¦‚ç»†èƒäºšå‹çš„å·®å¼‚ã€å¾®è§‚ç»†èƒç»“æ„æˆ–å†…ç¥ç»å…ƒå¯†åº¦çš„å·®å¼‚ã€‚ç„¶è€Œï¼Œæœªæ¥çš„ç ”ç©¶æœ‰æœºä¼šä¸“æ³¨äºé˜æ˜è¿™äº›å·®å¼‚ã€‚æœ¬æ–‡ä¸­æè¿°çš„ DishBrain ç³»ç»Ÿå¯èƒ½ä¸ºå‡†ç¡®è¯„ä¼°ç¥ç»è®¡ç®—èƒ½åŠ›çš„å·®å¼‚æä¾›äº†ç¬¬ä¸€ä¸ªé€”å¾„ï¼Œä½¿å…¶æˆä¸ºæœªæ¥ç ”ç©¶çš„ä¸€ä¸ªæ¿€åŠ¨äººå¿ƒçš„é¢†åŸŸã€‚</p><blockquote><p>Active cortical cultures, from both human and mouse cell sources, displayed synchronous activity patterns in line with previous research (Kamioka et al., 1996; Sakaguchi et al., 2019; Shi et al., 2012; Wagenaar et al., 2006). Importantly, significant differences between cell sources were observed, with HCCs outperforming MCCs (with nuances), on average, in gameplay characteristics. Although further work is required as this finding was auxiliary to the aim of the study, this is the first work finding functional, albeit preliminary, empirical evidence supporting the hypothesis that human neurons have superior information-processing capacity over rodent neurons (Beaulieu-Laroche et al., 2018; MihaljevicÂ´ et al., 2020). Previous work has proposed that biophysical structures in human cells compared with mouse cells would yield different input-output properties and may thereby explain different computational capacities (Poirazi and Papoutsi, 2020). When focusing on the initial development of the system, we could not feasibly and empirically test all key aspects, such as differences in cell sub-types, microscopic cell structure, or interneuron density. However, the opportunity exists for future studies to focus on elucidating these differences. The DishBrain system described in this work potentially offers the first avenue to accurately assess differences in neurocomputational ability, making this an exciting area of future research.</p></blockquote><p>è¿™é¡¹å·¥ä½œçš„å¦ä¸€ä¸ªå‘ç°æ¶‰åŠå›ºæœ‰çš„ç»†èƒç½‘ç»œç»„ç»‡ï¼Œå¯ä»¥åœ¨è¿åŠ¨åŒºåŸŸçš„å®šä¹‰ä¸­çœ‹åˆ°ã€‚æˆ‘ä»¬çš„æ—©æœŸè¯•ç‚¹ç ”ç©¶ï¼Œä»¥åŠè¯¥é¢†åŸŸçš„å…ˆå‰å·¥ä½œï¼ˆBakkumç­‰ï¼Œ2008aï¼‰ï¼ŒåŸºäºç½‘ç»œæ´»åŠ¨æ‰«æç»˜åˆ¶äº†è¿åŠ¨åŒºåŸŸã€‚ç„¶è€Œï¼Œæˆ‘ä»¬å¯¹æ„Ÿè§‰å’Œè¿åŠ¨åŒºåŸŸåœ¨åŸ¹å…»ç‰©ä¹‹é—´å›ºå®šæ—¶è‡ªç»„ç»‡èƒ½å¤Ÿå¦‚ä½•é€‚åº”æ„Ÿå…´è¶£ã€‚æˆ‘ä»¬çš„å‘ç°è¡¨æ˜ï¼Œè™½ç„¶æ´»è·ƒç»†èƒçš„è‡ªç»„ç»‡æ´»åŠ¨å¯ä»¥å‘ç”Ÿï¼Œä½†å½“æ´»åŠ¨ç»†èƒåœ¨ MEA ä¸Šä¸å‡åŒ€åˆ†å¸ƒæ—¶ï¼Œè¿™ç§è‡ªç»„ç»‡å—åˆ°é™åˆ¶ã€‚æ¸¸æˆè¿‡ç¨‹ä¸­çš„æ´»åŠ¨å˜åŒ–ä¸è¿‡å»çš„å·¥ä½œä¸€è‡´ï¼Œæ˜¾ç¤ºç¯å¢ƒå’Œè¡ŒåŠ¨ä¹‹é—´çš„åé¦ˆå¯¹äºä½“å†…ç¥ç»å‘è‚²æ˜¯å¿…è¦çš„ï¼ˆAttingerç­‰ï¼Œ2017ï¼‰ã€‚è§‚å¯Ÿåˆ°çš„å˜åŒ–è¿˜è¡¨æ˜ï¼Œä¹Ÿè®¸è¿™ç§å‘å±•æ˜¯åŸºäºç»†èƒæ°´å¹³å›ºæœ‰çš„ç‰¹æ€§å‘ç”Ÿçš„ã€‚è™½ç„¶è¿™äº›ç»“è®ºæ˜¯æš‚æ—¶æ€§çš„ï¼Œå› ä¸ºæ§åˆ¶å®éªŒä¹‹é—´çš„åˆºæ¿€ç»Ÿè®¡æ•°æ®æœ‰æ‰€ä¸åŒï¼Œä½†æ•°æ®çªå‡ºäº†æœªæ¥ç ”ç©¶çš„æ–¹å‘ã€‚å¯¹äºé—­ç¯ç¯å¢ƒå¯¹å­¦ä¹ çš„é‡è¦æ€§çš„è¿›ä¸€æ­¥å®éªŒåº”åŒ…æ‹¬å¢åŠ è¯»å–ç¥ç»æ´»åŠ¨å¹¶å½±å“ç¯å¢ƒä¹‹é—´çš„å»¶è¿Ÿï¼Œæˆ–ä½¿ç”¨ä¸ç¯å¢ƒè„±é’©çš„åˆºæ¿€ã€‚ç„¶è€Œï¼Œ DishBrain ç³»ç»ŸåŠå…¶æŠ€æœ¯çš„æœªæ¥æ”¹è¿›æä¾›äº†æ¢ç´¢ç½‘ç»œåŠ¨æ€ä»¥æ›´å¥½åœ°ç†è§£è‡ªç»„ç»‡çš„è¿™ä¸€æ–¹é¢ï¼Œå¹¶åŒ…æ‹¬å¯¹ BNN ç»“æ„ç»„ç»‡çš„ç ”ç©¶çš„æœºä¼šã€‚</p><blockquote><p>Another finding from this work relates to innate cell network organization, seen in the definition of motor regions. Our early pilot studies, along with previous work in this field (Bakkum et al., 2008a), mapped motor regions based on network activity scans. However, we were interested in the extent that self-organization would adapt if sensory and motor regions were fixed between cultures. Our findings demonstrate that while significant self-organization of activity can occur, this was limited when active cells were not evenly distributed across the MEA. The changes in activity during gameplay are consistent with past work showing that feedback between environment and action is required for proper in vivo neural development (Attinger et al., 2017). The observed changes also suggest that perhaps this development occurs based on properties inherent at the level of the cell. While these conclusions are tentative as the statistics of stimulations do differ between control experiments, the data does highlight future research directions. Further experimentation on the extent that the closed-loop environment is important for learning should include increasing the delay between reading neural activity and having it influence the environment or using stimulation decoupled from the environment. Nonetheless, the DishBrain system and future improvements of this technology do provide the opportunity to explore network dynamics to better understand this aspect of self-organization and include investigations into structural organization of BNNs.</p></blockquote><p>ç”±äºç›®å‰ç¡¬ä»¶çš„é™åˆ¶ï¼Œæ„Ÿè§‰åˆºæ¿€ä¸ç”šè‡³ç®€å•çš„ä½“å†…ç”Ÿç‰©ç›¸æ¯”è¦ç²—ç³™å¾—å¤šã€‚è¿™æ„å‘³ç€åœ¨å®æ—¶ä¸­ï¼Œä¸å¯èƒ½åŒºåˆ†ç¥ç»å…ƒä½“æˆ–æ ‘çªåŒºåŸŸçš„åˆºæ¿€ï¼Œè¿™ä¸¤è€…éƒ½å¯èƒ½è¢«åˆºæ¿€ã€‚åŒæ ·ï¼Œåœ¨å®æ—¶è®¡ç®—ä¸­ï¼Œä¸å¯èƒ½åˆ†ç¦»æ¥è‡ªä¸åŒç¥ç»ç»“æ„çš„ç”µå­¦å˜åŒ–çš„å¤„ç†ï¼Œä¾‹å¦‚åŒºåˆ†æ¥è‡ªç»†èƒä½“ä¸æ ‘çªçš„åŠ¨ä½œç”µä½ã€‚æ”¹è¿›è¿™ä¸¤ä¸ªé¢†åŸŸæ˜¯æœªæ¥ç ”ç©¶çš„å…³é”®æ–¹å‘ã€‚æ­¤å¤–ï¼Œå¯¹äºè¯•å›¾æ‰§è¡Œç±»ä¼¼ä»»åŠ¡çš„ä½“å†…ç”Ÿç‰©è€Œè¨€ï¼Œä¾‹å¦‚æœ¬ä½“æ„ŸçŸ¥ï¼Œæˆ–è€…å°†é—­ç¯ç³»ç»Ÿè§£è€¦ä»¥æµ‹è¯•æ—¶é—´å»¶è¿Ÿçš„å½±å“æ˜¯ä¸å¯è¡Œçš„ã€‚æ­¤å¤–ï¼ŒåµŒå…¥åœ¨å•å±‚æ ¼å¼ä¸­çš„ç›¸å¯¹è¾ƒå°‘ç»†èƒæ•°é‡æ„å‘³ç€é©±åŠ¨è¿™ç§è¡Œä¸ºçš„ç¥ç»æ¶æ„åœ¨å¯èƒ½çš„è¿æ¥æ•°é‡æ–¹é¢éå¸¸ç®€å•ï¼Œä¸æ‹¥æœ‰ 3D è„‘ç»“æ„çš„å°ç”Ÿç‰©ç›¸æ¯”ã€‚ç„¶è€Œï¼Œä»…ä»…ä½¿ç”¨å¯é¢„æµ‹å’Œä¸å¯é¢„æµ‹åˆºæ¿€çš„ç®€å•æ¨¡å¼ï¼Œè¯¥ç³»ç»Ÿèƒ½å¤Ÿåœ¨å‡ åˆ†é’Ÿçš„æ—¶é—´å†…å±•ç¤ºç³»ç»ŸåŒ–çš„è¡Œä¸ºã€‚è™½ç„¶ä¼šè¯å†…å­¦ä¹ å·²ç»å¾—åˆ°å……åˆ†ç¡®ç«‹ï¼Œä½†åœ¨å¤šå¤©ä¹‹é—´çš„ä¼šè¯é—´å­¦ä¹ å¹¶ä¸ç¨³å¥ã€‚åŸ¹å…»ç‰©ä¼¼ä¹ä¼šåœ¨æ¯ä¸ªæ–°ä¼šè¯ä¸­é‡æ–°å­¦ä¹ å…³è”ã€‚é‰´äºé€‰æ‹©äº†çš®è´¨ç»†èƒï¼Œè¿™æ˜¯å¯ä»¥é¢„æ–™çš„ï¼Œå› ä¸ºä½“å†…çš®è´¨ç»†èƒå¹¶ä¸ä¸“é—¨ç”¨äºé•¿æœŸè®°å¿†ï¼ˆRollsï¼Œ2018ï¼‰ã€‚æœªæ¥ä½¿ç”¨è¯¥ç³»ç»Ÿå¯ä»¥ç ”ç©¶å…¶ä»–ç¥ç»å…ƒç»†èƒç±»å‹å’Œ/æˆ–æ›´å¤æ‚çš„ç”Ÿç‰©ç»“æ„çš„ä½¿ç”¨ã€‚</p><blockquote><p>Due to current hardware limitations, the sensory stimulation is much coarser compared with that for even simple in vivo organisms. This meant that it was not possible to distinguish, in real time, between stimulation of neuronal somatic or dendritic domains and that both were likely stimulated. Likewise, it was not computationally possible in real time to separate processing electrical changes from different neuronal structures such as discriminating between action potentials from the soma versus dendrites. Improving both areas is a key direction for future research. Additionally, it was infeasible to meaningfully implement mechanisms that would be crucial for an in vivo organism attempting a comparable task, such as proprioception, or to decouple the closed-loop system to test the impact of time delays. Moreover, the relatively small number of cells embedded in a monolayer format means the neural architecture driving this behavior is incredibly simple in terms of the number of possible connections available compared with even small organisms that have a 3D brain structure. Nonetheless, using only simple patterns of predictable and unpredictable stimulation, this system was able to show systematic behavior in an order of minutes. While within-session learning was well established, between-session learning over multiple days was not robustly observed. Cultures appeared to relearn associations with each new session. Given that cortical cells were selected, this is to be expected as in vivo cortical cells are not specialized for long-term memory (Rolls, 2018). Future work with this system can investigate the use of other neuronal cell types and/or more complex biological structures.</p></blockquote><h3 id="ç»“è®º">ç»“è®º</h3><p>ç¥ç»ç»†èƒæ˜¾ç¤ºå‡ºå…·æœ‰æ—¶é—´å‘å±•è§„å¾‹çš„ç‰¹å¾æ€§è‡ªå‘åŠ¨ä½œç”µä½ç¥ç»ç»†èƒæ˜¾ç¤ºå‡ºå…·æœ‰æ—¶é—´å‘å±•è§„å¾‹çš„ç‰¹å¾æ€§è‡ªå‘åŠ¨ä½œç”µä½é€šè¿‡ä½¿ç”¨è¿™ä¸ª DishBrain ç³»ç»Ÿï¼Œæˆ‘ä»¬å·²ç»è¯æ˜äº†ä¸€å±‚ä½“å¤–çš®è´¨ç¥ç»å…ƒå¯ä»¥è‡ªç»„ç»‡æ´»åŠ¨ï¼Œå±•ç¤ºå‡ºåœ¨æ¨¡æ‹Ÿæ¸¸æˆä¸–ç•Œä¸­ä½“ç°çš„æ™ºèƒ½å’Œæœ‰æ„ŸçŸ¥çš„è¡Œä¸ºã€‚æˆ‘ä»¬å·²ç»å±•ç¤ºï¼Œå³ä½¿åœ¨æ²¡æœ‰å¯¹ç»†èƒæ´»åŠ¨è¿›è¡Œå®è´¨æ€§è¿‡æ»¤çš„æƒ…å†µä¸‹ï¼Œä¹Ÿå¯ä»¥è§‚å¯Ÿåˆ°ç¥ç»å…ƒåŸ¹å…»ç‰©åœ¨å®ƒä»¬æ„ŸçŸ¥çš„ä¸–ç•Œä¸­éšç€æ—¶é—´çš„æ¨ç§»å’Œå¯¹å¤šä¸ªå¯¹ç…§å®éªŒçš„æ¯”è¾ƒä¸­å‘ˆç°å‡ºç»Ÿè®¡ä¸Šæ˜¾è‘—çš„å·®å¼‚ã€‚è¿™äº›å‘ç°å±•ç¤ºäº†ä¸€ä¸ªæœ‰å¸Œæœ›çš„ SBI ç³»ç»Ÿçš„æ¼”ç¤ºï¼Œè¯¥ç³»ç»Ÿéšç€æ—¶é—´çš„æ¨ç§»ä»¥è¾“å…¥ä¸ºå¯¼å‘ä»¥ç³»ç»ŸåŒ–çš„æ–¹å¼å­¦ä¹ ã€‚è¯¥ç³»ç»Ÿæä¾›äº†ä¸€ä¸ªå®Œå…¨å¯è§†åŒ–çš„å­¦ä¹ æ¨¡å‹çš„èƒ½åŠ›ï¼Œå¯ä»¥å¼€å‘ç‹¬ç‰¹çš„ç¯å¢ƒæ¥è¯„ä¼°BNNsæ­£åœ¨æ‰§è¡Œçš„å®é™…è®¡ç®—ã€‚è¿™æ˜¯é•¿æœŸä»¥æ¥ä¸€ç›´åœ¨å¯»æ±‚çš„ï¼Œå¹¶ä¸”è¶…è¶Šäº†çº¯ç²¹çš„ç¡…æ¨¡å‹æˆ–å•çº¯é¢„æµ‹åˆ†å­é€”å¾„çš„èŒƒå›´ï¼ˆKarrç­‰ï¼Œ2012ï¼›Whittingtonç­‰ï¼Œ2020ï¼›Yuç­‰ï¼Œ2018ï¼‰ã€‚å› æ­¤ï¼Œè¿™é¡¹å·¥ä½œæä¾›äº†å¯ä»¥ç”¨æ¥æ”¯æŒæˆ–æŒ‘æˆ˜è§£é‡Šå¤§è„‘å¦‚ä½•ä¸ä¸–ç•Œäº’åŠ¨ä»¥åŠæ™ºèƒ½çš„ç†è®ºçš„å®è¯è¯æ®ï¼ˆFristonï¼Œ2010ï¼›Schwartzï¼Œ2016ï¼‰ã€‚æœ€ç»ˆï¼Œå°½ç®¡ä»éœ€è¦å¤§é‡çš„ç¡¬ä»¶ã€è½¯ä»¶å’Œæ¹¿ä»¶å·¥ç¨‹æ¥æ”¹è¿› DishBrain ç³»ç»Ÿï¼Œä½†è¿™é¡¹å·¥ä½œç¡®å®å±•ç¤ºäº†æ´»çš„ç¥ç»å…ƒå…·æœ‰å­¦ä¹ é€‚åº”èƒ½åŠ›ï¼Œèƒ½å¤Ÿä¸å®ƒä»¬çš„æ„Ÿè§‰å™¨å®˜è¿›è¡Œç§¯æäº¤æµã€‚è¿™ä»£è¡¨è¿„ä»Šä¸ºæ­¢å®ç° SBI çš„æœ€å¤§è¿›æ­¥ï¼Œä»¥å“åº”å¤–éƒ¨å®šä¹‰çš„ç›®æ ‡å¯¼å‘è¡Œä¸ºã€‚</p><blockquote><p>Using this DishBrain system, we have demonstrated that a single layer of in vitro cortical neurons can self-organize activity to display intelligent and sentient behavior when embodied in a simulated game-world. We have shown that even without a substantial filtering of cellular activity, statistically robust differences over time and against multiple controls could be observed in the behavior of neuronal cultures in their sensed world. These findings provide a promising demonstration of an SBI system that learns over time in a systematic manner directed by input. The system provides the capability for a fully visualized model of learning, where unique environments may be developed to assess the actual computations being performed by BNNs. This is something that is long sought after and extends beyond purely in silico models or predictions of molecular pathways alone (Karr et al., 2012; Whittington et al., 2020; Yu et al., 2018). Therefore, this work provides empirical evidence that can be used to support or challenge theories explaining how the brain interacts with the world and intelligence in general (Friston, 2010; Schwartz, 2016). Ultimately, although substantial hardware, software, and wetware engineering are still required to improve the DishBrain system, this work does evince the computational power of living neurons to learn adaptively in active exchange with their sensorium. This represents the largest step to date of achieving SBI that responds with externally defined goal-directed behavior.</p></blockquote><h2 id="STARâ˜…Methods">STARâ˜…Methods</h2><p>è¯¦ç»†æ–¹æ³•è¯·å‚é˜…æœ¬æ–‡çš„åœ¨çº¿ç‰ˆæœ¬ï¼ŒåŒ…æ‹¬ä»¥ä¸‹å†…å®¹ï¼š</p><ul><li>å…³é”®èµ„æºè¡¨</li><li>èµ„æºå¯ç”¨æ€§<ul><li>è”ç³»è´Ÿè´£äºº</li><li>ææ–™å¯ç”¨æ€§</li><li>æ•°æ®å’Œä»£ç å¯ç”¨æ€§</li></ul></li><li>å®éªŒæ¨¡å‹å’Œå—è¯•è€…è¯¦ç»†ä¿¡æ¯<ul><li>ä¼¦ç†å£°æ˜</li><li>åŠ¨ç‰©ç¹æ®–å’Œç»´æŠ¤</li><li>å¹²ç»†èƒç³»</li><li>å¹²ç»†èƒç”Ÿé•¿å’Œç»´æŠ¤</li></ul></li><li>æ–¹æ³•è¯¦ç»†ä¿¡æ¯<ul><li>ä¸»è¦ç»†èƒåŸ¹å…»</li><li>å¹²ç»†èƒåŒ SMAD åˆ†åŒ–</li><li>å¹²ç»†èƒ NGN2 ç›´æ¥åˆ†åŒ–</li><li>HEK293T ç»†èƒåŸ¹å…»</li><li>MEA è®¾ç½®å’Œå‡†å¤‡</li><li>åœ¨ MEA ä¸ŠåŸ¹å…»å’Œç»´æŠ¤ç»†èƒ</li></ul></li><li>å®šé‡å’Œç»Ÿè®¡åˆ†æ<ul><li>æ ·æœ¬å¤§å°å’Œè’™çœ¼åè®®</li><li>å…ç–«ç»†èƒåŒ–å­¦</li><li>æ‰«æç”µå­æ˜¾å¾®é•œ</li><li>å®½åœºè§å…‰æ˜¾å¾®é•œ</li><li>æ•°æ®åˆ†æ</li><li>ä¿¡æ¯ç†µè®¡ç®—</li><li>åŠŸèƒ½å¯å¡‘æ€§è®¡ç®—</li></ul></li><li>é™„åŠ èµ„æºï¼ˆè¡¥å……ä¿¡æ¯ï¼‰<ul><li>è¡¥å……ä¿¡æ¯å¯åœ¨ä»¥ä¸‹ç½‘å€æ‰¾åˆ°ï¼š<a href="https://doi.org/10.1016/j.neuron.2022.09.001">https://doi.org/10.1016/j.neuron.2022.09.001</a></li></ul></li></ul><h1 id="ç›¸å…³åª’ä½“èµ„æº">ç›¸å…³åª’ä½“èµ„æº</h1><h2 id="Dish-Brain">Dish Brain</h2><ul><li>Dish Brain ä½œè€…æ¼”è®²ï¼š<ul><li><a href="https://www.youtube.com/watch?v=Zw51KQed23s">Brett Kagan | Brain Cells in a Dish as an Information Processing Device</a></li></ul></li><li>è‡ªåª’ä½“è§£è¯»ï¼š<ul><li><a href="https://www.youtube.com/watch?v=67r7fDRBlNc">Lab-Grown &quot;Mini-Brain&quot; Learns Pong - Is This Biological Neural Network &quot;Sentient&quot;?</a></li><li><a href="https://www.bilibili.com/video/BV1Sq4y1A79U/">â€œç›˜ä¸­ä¹‹è„‘â€5åˆ†é’Ÿå°±å­¦ä¼šäº†æ‰“æ¸¸æˆï¼Œæ¯”AIè¿˜å¿«17å€ï¼Œæœ‰é»‘å®¢å¸å›½å†…å‘³å„¿äº†_å“”å“©å“”å“©_bilibili</a></li><li><a href="https://www.bilibili.com/video/BV1ma4y127Lm">å²ä¸Šé¦–ä¾‹æˆåŠŸåŸ¹å…»çš„äººé€ ç”Ÿç‰©æ™ºèƒ½_å“”å“©å“”å“©_bilibili</a></li></ul></li></ul><h2 id="FEP">FEP</h2><ul><li>FEP ä½œè€…é‡‡è®¿ï¼š<ul><li><a href="https://www.youtube.com/watch?v=NIu_dJGyIQI">Free Energy Principle â€” Karl Friston</a></li></ul></li><li>FEP ä½œè€…å‚åŠ çš„ Podcastï¼š<ul><li><a href="https://www.youtube.com/watch?v=NwzuibY5kUs">Karl Friston: Neuroscience and the Free Energy Principle | Lex Fridman Podcast #99</a></li></ul></li><li>FEP ä½œè€…ä»‹ç»ï¼š<ul><li><a href="https://www.bilibili.com/video/BV1xc411M7BF">ç¥ç»å­¦è€…å¦‚ä½•è§£é‡Šç”Ÿå‘½ç†µå‡ã€éå…¸å‹ç§‘å­¦å®¶ã€‘3#å¼—é‡Œæ–¯é¡¿_å“”å“©å“”å“©_bilibili</a></li></ul></li></ul>]]></content>
    
    
    <summary type="html">ä»¥è‡ªç”±èƒ½åŸç†ä¸ºåŸºç¡€çš„ä½“å¤–ç¥ç»å…ƒæ™ºèƒ½å®éªŒ</summary>
    
    
    
    <category term="è®ºæ–‡ç ”è¯»" scheme="https://zivmax.top/categories/%E8%AE%BA%E6%96%87%E7%A0%94%E8%AF%BB/"/>
    
    
    <category term="è®ºæ–‡" scheme="https://zivmax.top/tags/%E8%AE%BA%E6%96%87/"/>
    
    <category term="ç¿»è¯‘" scheme="https://zivmax.top/tags/%E7%BF%BB%E8%AF%91/"/>
    
  </entry>
  
  <entry>
    <title>CS110 Note [4]</title>
    <link href="https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/04/08/CS110/CS110-Note-4/"/>
    <id>https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/04/08/CS110/CS110-Note-4/</id>
    <published>2024-04-08T08:32:40.000Z</published>
    <updated>2024-04-08T07:25:15.570Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h1 id="The-Basics-of-Logic-Design">The Basics of Logic Design</h1>]]></content>
    
    
    <summary type="html">The Basics of Logic Design</summary>
    
    
    
    <category term="å­¦ä¹ " scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="è®¡ç®—æœºç§‘å­¦" scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/"/>
    
    
    <category term="ä¸Šç§‘å¤§" scheme="https://zivmax.top/tags/%E4%B8%8A%E7%A7%91%E5%A4%A7/"/>
    
    <category term="CS110" scheme="https://zivmax.top/tags/CS110/"/>
    
    <category term="è®¡ç®—æœºä½“ç³»æ¶æ„" scheme="https://zivmax.top/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BD%93%E7%B3%BB%E6%9E%B6%E6%9E%84/"/>
    
    <category term="ç¬”è®°" scheme="https://zivmax.top/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Unfinished" scheme="https://zivmax.top/tags/Unfinished/"/>
    
  </entry>
  
  <entry>
    <title>DATA100 Note [4]</title>
    <link href="https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/04/03/DATA100/DATA100-Note-4/"/>
    <id>https://zivmax.top/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/2024/04/03/DATA100/DATA100-Note-4/</id>
    <published>2024-04-03T10:31:28.000Z</published>
    <updated>2024-04-07T05:30:54.735Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h1 id="Visualization"><strong>Visualization</strong></h1><p>Encoding Information into Intuition</p><h1 id="1-Goals-of-Visualization">1. Goals of Visualization</h1><p><img src="https://ds100.org/course-notes/visualization_2/visualization_2_files/figure-html/cell-19-output-1.png" alt loading="lazy"></p><ul><li><p>To broaden your understanding of the data.</p></li><li><p>To communicate results/conclusions to others.</p></li></ul><p>Altogether, these goals emphasize the fact that <em><strong>visualizations arenâ€™t a matter of making â€œprettyâ€ pictures</strong></em>.</p><h1 id="2-An-Overview-of-Distributions">2. An Overview of Distributions</h1><p><img src="https://ds100.org/course-notes/visualization_1/visualization_1_files/figure-html/cell-10-output-1.png" alt loading="lazy"></p><ul><li><p>The total frequency of all categories must sum to 100%</p></li><li><p>Total count should sum to the total number of datapoints if weâ€™re using raw counts.</p></li></ul><p>Most of the time, we're ploting the distribution of the data.</p><h1 id="3-Variable-Types-Inform-Plot-Choice">3. Variable Types Inform Plot Choice</h1><p>Recall the types of the variable:</p><p><img src="https://ds100.org/course-notes/visualization_1/images/variable_types_vis_1.png" alt loading="lazy"></p><h2 id="3-1-Qualitative-Variables-Bar-Plots">3.1 Qualitative Variables: Bar Plots</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns <span class="comment"># seaborn is typically given the alias sns</span></span><br><span class="line">sns.countplot(data = wb, x = <span class="string">&#x27;Continent&#x27;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://ds100.org/course-notes/visualization_1/visualization_1_files/figure-html/cell-5-output-1.png" alt=" " loading="lazy"></p><h2 id="3-2-Quantitative-Variables-Box-Violin-and-Hist">3.2 Quantitative Variables: Box, Violin and Hist</h2><h3 id="Box">Box</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.boxplot(data=wb, y=<span class="string">&#x27;Gross domestic product: % growth : 2016&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://ds100.org/course-notes/visualization_1/visualization_1_files/figure-html/cell-11-output-1.png" alt loading="lazy"></p><h3 id="Violin">Violin</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.violinplot(data=wb, y=<span class="string">&#x27;Gross domestic product: % growth : 2016&#x27;</span>);</span><br></pre></td></tr></table></figure><p><img src="https://ds100.org/course-notes/visualization_1/visualization_1_files/figure-html/cell-12-output-1.png" alt loading="lazy"></p><h3 id="Histograms">Histograms</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.histplot(data=wb, x=<span class="string">&quot;Gross n...&quot;</span>, stat=<span class="string">&quot;density&quot;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://ds100.org/course-notes/visualization_1/visualization_1_files/figure-html/cell-15-output-1.png" alt loading="lazy"></p><h3 id="Overlap">Overlap</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sns.boxplot(data=wb, x=<span class="string">&quot;Continent&quot;</span>, y=<span class="string">&#x27;Gross n...&#x27;</span>)</span><br><span class="line">sns.histplot(data=wb, x=<span class="string">&quot;Gross n...: 2016&quot;</span>, hue=<span class="string">&quot;Hemisphere&quot;</span>, stat=<span class="string">&quot;density&quot;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://ds100.org/course-notes/visualization_1/visualization_1_files/figure-html/cell-13-output-1.png" alt loading="lazy"></p><p><img src="https://ds100.org/course-notes/visualization_1/visualization_1_files/figure-html/cell-17-output-1.png" alt loading="lazy"></p><h1 id="4-Evaluating-Histograms">4. Evaluating Histograms</h1><ul><li><p>Skewness and Tails</p><ul><li>Skewed left vs skewed right</li><li>Left tail vs right tail</li></ul></li><li><p>Outliers</p><ul><li>Using percentiles</li></ul></li><li><p>Modes</p><ul><li>Most commonly occuring data</li></ul></li></ul><h2 id="4-1-Skewness-and-Tails">4.1 Skewness and Tails</h2><h3 id="Left-Skew-and-Right-Tail">Left Skew and Right Tail</h3><p><img src="https://ds100.org/course-notes/visualization_1/visualization_1_files/figure-html/cell-19-output-2.png" alt loading="lazy"></p><h3 id="Right-Skew-and-Left-Tail">Right Skew and Left Tail</h3><p><img src="https://ds100.org/course-notes/visualization_1/visualization_1_files/figure-html/cell-20-output-2.png" alt loading="lazy"></p><h2 id="4-2-Outliers">4.2 Outliers</h2><p>Loosely speaking, an outlier is defined as a data point that <em><strong>lies an abnormally large distance</strong></em> away from other values.</p><h2 id="4-3-Modes">4.3 Modes</h2><p><em>We describe a â€œmodeâ€ of a histogram as a peak in the distribution.</em></p><p><img src="https://ds100.org/course-notes/visualization_1/visualization_1_files/figure-html/cell-22-output-1.png" alt loading="lazy"></p><h2 id="4-4-Challenge">4.4 Challenge</h2><p><em>In this image, it's hard to observe. It is these ambiguities that motivate us to consider using <strong>Kernel Density Estimation (KDE)</strong></em></p><p><img src="https://ds100.org/course-notes/visualization_1/visualization_1_files/figure-html/cell-23-output-1.png" alt loading="lazy"></p><h1 id="5-KDE-Kernel-Density-Estimation">5. KDE (Kernel Density Estimation)</h1><ul><li><p><em>A kernel density estimate (KDE) is a smooth, continuous function that <strong>approximates a curve</strong>.</em></p></li><li><p><em>More formally, a KDE attempts to <strong>approximate the underlying probability distribution</strong> from which our dataset was drawn.</em></p></li></ul><p><img src="https://ds100.org/course-notes/visualization_2/visualization_2_files/figure-html/cell-3-output-2.png" alt=" " loading="lazy"></p><h2 id="5-1-Constructing-KDE">5.1 Constructing KDE</h2><ol><li><p>Place a kernel at each datapoint.</p></li><li><p>Normalize the kernels to have a total area of 1 (across all kernels).</p></li><li><p>Sum the normalized kernels.</p></li></ol><p>Assume we want KDE this dataset: <strong>[ 2.2, 2.8, 3.7, 5.3, 5.7 ]</strong></p><p><img src="https://ds100.org/course-notes/visualization_2/visualization_2_files/figure-html/cell-4-output-1.png" alt loading="lazy"></p><p><em><strong>Step 1: Place a kernel at each datapoint.</strong></em></p><p><img src="https://ds100.org/course-notes/visualization_2/visualization_2_files/figure-html/cell-6-output-1.png" alt loading="lazy"></p><p><img src="https://ds100.org/course-notes/visualization_2/visualization_2_files/figure-html/cell-7-output-1.png" alt loading="lazy"></p><p><em><strong>Step 2: Normalize the kernels to have a total area of 1.</strong></em></p><p><img src="https://ds100.org/course-notes/visualization_2/visualization_2_files/figure-html/cell-8-output-1.png" alt loading="lazy"></p><p><em><strong>Step 3: Sum the normalized kernels.</strong></em></p><p><img src="https://ds100.org/course-notes/visualization_2/visualization_2_files/figure-html/cell-9-output-1.png" alt loading="lazy"></p><h2 id="5-2-Kernel-Functions-and-Bandwidths">5.2 Kernel Functions and Bandwidths</h2><p>A general â€œKDE formulaâ€ function is given bello</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>f</mi><mi>Î±</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msub><mi>K</mi><mi>Î±</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f_{\alpha}(x) = \frac{1}{n} \sum_{i=1}^{n} K_{\alpha}(x, x_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">Î±</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.9291em;vertical-align:-1.2777em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">Î±</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><p>, which is pretty much like the <em><strong>convolution</strong></em>.</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>f</mi><mi>Î±</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mi>n</mi></mfrac><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msub><mi>K</mi><mi>Î±</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f_{\alpha}(x) = \frac{1}{n} \sum_{i=1}^{n} K_{\alpha}(x, x_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">Î±</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.9291em;vertical-align:-1.2777em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">n</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">Î±</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><ol><li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mi>Î±</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo>âˆ’</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">K_{\alpha}(x - x_i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">Î±</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span>Â is the kernel centered on the observationÂ <code>i</code>.</p></li><li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span>Â is the number of observed datapoints that we have.</p></li><li><p>EachÂ <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub><mo>âˆˆ</mo><mo stretchy="false">{</mo><msub><mi>x</mi><mn>1</mn></msub><mo separator="true">,</mo><msub><mi>x</mi><mn>2</mn></msub><mo separator="true">,</mo><mo>â€¦</mo><mo separator="true">,</mo><msub><mi>x</mi><mi>n</mi></msub><mo stretchy="false">}</mo></mrow><annotation encoding="application/x-tex">x_i \in \{x_1, x_2,\dots, x_n \}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6891em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">âˆˆ</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">{</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3011em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner">â€¦</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">}</span></span></span></span> represents an observed datapoint.</p></li></ol><p><em>The most common kernel is the <strong>Gaussian kernel</strong>.</em></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>K</mi><mi>Î±</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><msqrt><mrow><mn>2</mn><mi>Ï€</mi><msup><mi>Î±</mi><mn>2</mn></msup></mrow></msqrt></mfrac><msup><mi>e</mi><mrow><mo>âˆ’</mo><mfrac><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>âˆ’</mo><msub><mi>x</mi><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><mn>2</mn></mfrac></mrow></msup></mrow><annotation encoding="application/x-tex">K_{\alpha}(x, x_i) = \frac{1}{\sqrt{2\pi\alpha^2}} e^{-\frac{(x-x_i)^2}{2}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">Î±</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.2514em;vertical-align:-0.93em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.1549em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9551em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.9151em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.0849em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.93em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.321em;"><span style="top:-3.413em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2972em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.5483em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mbin mtight">âˆ’</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3448em;margin-left:0em;margin-right:0.1em;"><span class="pstrut" style="height:2.6595em;"></span><span class="mord mathnormal mtight">i</span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3147em;"><span></span></span></span></span></span></span><span class="mclose mtight"><span class="mclose mtight">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0484em;"><span style="top:-3.0484em;margin-right:0.1em;"><span class="pstrut" style="height:2.6444em;"></span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>K</mi><mi>Î±</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><msub><mi>x</mi><mi>i</mi></msub><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><msqrt><mrow><mn>2</mn><mi>Ï€</mi><msup><mi>Î±</mi><mn>2</mn></msup></mrow></msqrt></mfrac><msup><mi>e</mi><mrow><mo>âˆ’</mo><mfrac><mrow><mo stretchy="false">(</mo><mi>x</mi><mo>âˆ’</mo><msub><mi>x</mi><mi>i</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><mn>2</mn></mfrac></mrow></msup></mrow><annotation encoding="application/x-tex">K_{\alpha}(x, x_i) = \frac{1}{\sqrt{2\pi\alpha^2}} e^{-\frac{(x-x_i)^2}{2}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.0037em;">Î±</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.2514em;vertical-align:-0.93em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.1549em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.9551em;"><span class="svg-align" style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord" style="padding-left:0.833em;"><span class="mord">2</span><span class="mord mathnormal" style="margin-right:0.03588em;">Ï€</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.9151em;"><span class="pstrut" style="height:3em;"></span><span class="hide-tail" style="min-width:0.853em;height:1.08em;"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewbox="0 0 400000 1080" preserveaspectratio="xMinYMin slice"><path d="M95,702c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429c69,-144,104.5,-217.7,106.5,-221l0 -0c5.3,-9.3,12,-14,20,-14H400000v40H845.2724s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47zM834 80h400000v40h-400000z"/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.0849em;"><span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.93em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.321em;"><span style="top:-3.413em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">âˆ’</span><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.2972em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.5483em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">x</span><span class="mbin mtight">âˆ’</span><span class="mord mtight"><span class="mord mathnormal mtight">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3448em;"><span style="top:-2.3448em;margin-left:0em;margin-right:0.1em;"><span class="pstrut" style="height:2.6595em;"></span><span class="mord mathnormal mtight">i</span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.3147em;"><span></span></span></span></span></span></span><span class="mclose mtight"><span class="mclose mtight">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.0484em;"><span style="top:-3.0484em;margin-right:0.1em;"><span class="pstrut" style="height:2.6444em;"></span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><ol><li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span> is the bandwidth of the kernel, which is the <em><strong>standard deviation</strong></em>.</p></li><li><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> is the center of the kernel, which is the <em><strong>mean</strong></em>.</p></li></ol><p><em><strong>Gaussian kernel KDE with bandwiths: <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>0.1</mn></mrow><annotation encoding="application/x-tex">0.1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.1</span></span></span></span>; <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>1.0</mn></mrow><annotation encoding="application/x-tex">1.0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1.0</span></span></span></span>; <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2.0</mn></mrow><annotation encoding="application/x-tex">2.0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">2.0</span></span></span></span>; <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>10.0</mn></mrow><annotation encoding="application/x-tex">10.0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">10.0</span></span></span></span>:</strong></em></p><p><img src="https://ds100.org/course-notes/visualization_2/images/gaussian_0.1.png" alt loading="lazy"></p><p><img src="https://ds100.org/course-notes/visualization_2/images/gaussian_1.png" alt loading="lazy"></p><p><img src="https://ds100.org/course-notes/visualization_2/images/gaussian_2.png" alt loading="lazy"></p><p><img src="https://ds100.org/course-notes/visualization_2/images/gaussian_10.png" alt loading="lazy"></p><h1 id="6-Multi-Quantitative-Variables">6. Multi Quantitative Variables</h1><ul><li><p>Up until now, weâ€™ve discussed how to visualize single-variable distributions.</p></li><li><p>Going beyond this, we want to understand <strong>the relationship between pairs of numerical variables</strong>.</p></li></ul><h2 id="6-1-Scatter-Plots">6.1 Scatter Plots</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.scatter(wb[<span class="string">&quot;per c...&quot;</span>], wb[<span class="string">&#x27;Adult l...&#x27;</span>])</span><br></pre></td></tr></table></figure><p><img src="https://ds100.org/course-notes/visualization_2/visualization_2_files/figure-html/cell-14-output-1.png" alt loading="lazy"></p><h2 id="6-1-Scatter-Plots-2">6.1 Scatter Plots</h2><p><em>But this seems overplotting...</em></p><p><img src="https://ds100.org/course-notes/visualization_2/visualization_2_files/figure-html/cell-14-output-1.png" alt loading="lazy"></p><h2 id="6-1-Scatter-Plots-3">6.1 Scatter Plots</h2><p>We can <em><strong>shrink the marks</strong></em> and <em><strong>add random shifting noise</strong></em>.</p><p><img src="https://ds100.org/course-notes/visualization_2/visualization_2_files/figure-html/cell-16-output-1.png" alt loading="lazy"></p><h2 id="6-2-Linear-Plots">6.2 Linear Plots</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.lmplot(data = wb, x = <span class="string">&quot;per c...&quot;</span>, y = <span class="string">&quot;Adult l...&quot;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://ds100.org/course-notes/visualization_2/visualization_2_files/figure-html/cell-17-output-2.png" alt=" " loading="lazy"></p><h2 id="6-3-Joint-Plots">6.3 Joint Plots</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.jointplot(data = wb, x = <span class="string">&quot;per c...&quot;</span>, y = <span class="string">&quot;Adult l...&quot;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://ds100.org/course-notes/visualization_2/visualization_2_files/figure-html/cell-18-output-1.png" alt=" " loading="lazy"></p><h2 id="6-4-Hex-Plots">6.4 Hex Plots</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.jointplot(data = wb, x = <span class="string">&quot;per c...&quot;</span>, y = <span class="string">&quot;Adult l...&quot;</span>, kind = <span class="string">&quot;hex&quot;</span>)</span><br></pre></td></tr></table></figure><p><img src="https://ds100.org/course-notes/visualization_2/visualization_2_files/figure-html/cell-19-output-1.png" alt=" " loading="lazy"></p><h2 id="6-4-Hex-Plots-2">6.4 Hex Plots</h2><p>Hex plots can be thought of as <em><strong>two-dimensional histograms</strong></em> !</p><p><img src="https://ds100.org/course-notes/visualization_2/visualization_2_files/figure-html/cell-19-output-1.png" alt=" " loading="lazy"></p><h2 id="6-5-Contour-Plots">6.5 Contour Plots</h2><p>Contour plots can be thought of as <em><strong>two-dimensional KDE</strong></em> !</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sns.kdeplot(data = wb, x = <span class="string">&quot;per c...&quot;</span>, y = <span class="string">&quot;Adult l...&quot;</span>, fill = <span class="literal">True</span>)</span><br></pre></td></tr></table></figure><p><img src="https://ds100.org/course-notes/visualization_2/visualization_2_files/figure-html/cell-20-output-1.png" alt loading="lazy"></p><h1 id="7-Transformation">7. Transformation</h1><p>As said before, we want to <em><strong>reveal the relationships</strong></em>.</p><p>However, relying on plotting directly alone is limiting, <em><strong>not all plots show association</strong></em>.</p><p><em>Consider the following plot.</em></p><p><img src="https://ds100.org/course-notes/visualization_2/visualization_2_files/figure-html/cell-21-output-1.png" alt loading="lazy"></p><p>We can try applying transformation !</p><p><img src="https://ds100.org/course-notes/visualization_2/images/linearize.png" alt loading="lazy"></p><h2 id="7-1-Making-Transformation">7.1 Making Transformation</h2><p><em>Step 1: Observe the plot</em></p><p><img src="https://ds100.org/course-notes/visualization_2/images/horizontal.png" alt=" " loading="lazy"></p><p><em>Step 2: Transform on X axis</em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.scatter(np.log(df[<span class="string">&quot;inc&quot;</span>]), df[<span class="string">&quot;lit&quot;</span>])</span><br></pre></td></tr></table></figure><p><img src="https://ds100.org/course-notes/visualization_2/visualization_2_files/figure-html/cell-22-output-1.png" alt loading="lazy"></p><p><em>Step 3: Transform on Y axis</em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.scatter(np.log(df[<span class="string">&quot;inc&quot;</span>]), df[<span class="string">&quot;lit&quot;</span>]**<span class="number">4</span>)</span><br></pre></td></tr></table></figure><p><img src="https://ds100.org/course-notes/visualization_2/visualization_2_files/figure-html/cell-23-output-1.png" alt loading="lazy"></p><p><em>Step 4: Linear regression</em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression <span class="comment"># Discuss in the future</span></span><br></pre></td></tr></table></figure><p><img src="https://ds100.org/course-notes/visualization_2/visualization_2_files/figure-html/cell-24-output-2.png" alt loading="lazy"></p><h2 id="7-2-Inference-reversely">7.2 Inference reversely</h2><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mi>y</mi><mn>4</mn></msup><mo>=</mo><mi>m</mi><mo stretchy="false">(</mo><mi>log</mi><mo>â¡</mo><mi>x</mi><mo stretchy="false">)</mo><mo>+</mo><mi>b</mi><mspace width="1em"><mo>â†’</mo><mspace width="1em"><mi>y</mi><mo>=</mo><mo stretchy="false">[</mo><mi>m</mi><mo stretchy="false">(</mo><mi>log</mi><mo>â¡</mo><mi>x</mi><mo stretchy="false">)</mo><mo>+</mo><mi>b</mi><msup><mo stretchy="false">]</mo><mfrac><mn>1</mn><mn>4</mn></mfrac></msup></mspace></mspace></mrow><annotation encoding="application/x-tex">y^4 = m(\log{x}) + b \quad \to \quad y = [m(\log{x}) + b]^{\frac{1}{4}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0585em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">4</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">m</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">â†’</span><span class="mspace" style="margin-right:1em;"></span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">[</span><span class="mord mathnormal">m</span><span class="mopen">(</span><span class="mop">lo<span style="margin-right:0.01389em;">g</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal">x</span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.254em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mclose"><span class="mclose">]</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:1.004em;"><span style="top:-3.413em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8443em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">4</span></span></span></span><span style="top:-3.2255em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span></span></span></span></p><p><img src="https://ds100.org/course-notes/visualization_2/visualization_2_files/figure-html/cell-24-output-2.png" alt loading="lazy"></p><p><img src="https://ds100.org/course-notes/visualization_2/visualization_2_files/figure-html/cell-25-output-1.png" alt loading="lazy"></p><h2 id="7-3-Tukey-Mosteller-Bulge-Diagram">7.3 Tukey-Mosteller Bulge Diagram</h2><p>This diagram is a good guide when determining possible transformations.</p><p><img src="https://ds100.org/course-notes/visualization_2/images/tukey_mosteller.png" alt loading="lazy"></p><p><img src="https://ds100.org/course-notes/visualization_2/images/bulge.png" alt loading="lazy"></p><h1 id="8-Visualization-Theory">8. Visualization Theory</h1><p>Remember, we had two goals for visualizing data. <em>Visualization Theory</em> is particularly important in:</p><ul><li>Helping us understand the data and results,</li><li>Communicating our results and conclusions with others.</li></ul><h2 id="8-1-Information-Channels">8.1 Information Channels</h2><p>Visualizations are able to convey information through various encodings.</p><p><em>Except things in the image, <strong>marks' relative position</strong> is also a important channel.</em></p><p><img src="https://ds100.org/course-notes/visualization_2/images/markings_viz.png" alt="bg left:40%" loading="lazy"></p><p>Each visulization should <strong>at least contains one accurate channel</strong>.</p><p><em>Thus don't use pie chart any more!</em></p><h2 id="8-2-What-is-Good-Encoding">8.2 What is Good Encoding?</h2><ul><li><em>No wrong information encoded</em><ul><li>Example: Are abortion and cancer related?</li></ul></li></ul><p><img src="https://ds100.org/course-notes/visualization_2/images/wrong_scale_viz.png" alt="âŒ" loading="lazy"></p><p><img src="https://ds100.org/course-notes/visualization_2/images/good_viz_scale_1.png" alt="âœ”ï¸" loading="lazy"></p><ul><li><em>No redundent infomation encoded</em><ul><li>Example: How cases changed during Mar, 21,2020 to May, 6, 2020?</li></ul></li></ul><p><img src="https://ds100.org/course-notes/visualization_2/images/unrevealed_viz.png" alt="âŒ" loading="lazy"></p><p><img src="https://ds100.org/course-notes/visualization_2/images/revealed_viz.png" alt="âœ”ï¸" loading="lazy"></p><ul><li><em>Encode information linearly</em><ul><li>Example: Shows the numerical strength distribution in 2D.</li></ul></li></ul><p><img src="https://ds100.org/course-notes/visualization_2/images/jet_colormap.png" alt="âŒ" loading="lazy"></p><p><img src="https://ds100.org/course-notes/visualization_2/images/viridis_colormap.png" alt="âœ”ï¸" loading="lazy"></p><ul><li><em>Encode information linearly</em><ul><li>Larger number show be mapped to higher gray scale color.</li></ul></li></ul><p><img src="https://ds100.org/course-notes/visualization_2/images/jet_perceptually_uniform.png" alt="âŒ" loading="lazy"></p><p><img src="https://ds100.org/course-notes/visualization_2/images/viridis_perceptually_uniform.png" alt="âœ”ï¸" loading="lazy"></p><h1 id="9-Summary">9. Summary</h1><p>Good visualizations are always made by <em><strong>Intuitive  and Empathetic Person</strong></em></p>]]></content>
    
    
    <summary type="html">Introduction to Visualization.</summary>
    
    
    
    <category term="å­¦ä¹ " scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    <category term="è®¡ç®—æœºç§‘å­¦" scheme="https://zivmax.top/categories/%E5%AD%A6%E4%B9%A0/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/"/>
    
    
    <category term="ç¬”è®°" scheme="https://zivmax.top/tags/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="Unfinished" scheme="https://zivmax.top/tags/Unfinished/"/>
    
    <category term="DATA100" scheme="https://zivmax.top/tags/DATA100/"/>
    
    <category term="æ•°æ®ç§‘å­¦" scheme="https://zivmax.top/tags/%E6%95%B0%E6%8D%AE%E7%A7%91%E5%AD%A6/"/>
    
  </entry>
  
</feed>
